(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[6321],{934501:(e,s,r)=>{e.exports=r.p+"abf97721127e0ddf8f8c4e3c3c417a6f.svg"},406321:(e,s,r)=>{"use strict";r.r(s);r.d(s,{default:()=>G});var n,t=r(785893),i=r(667294),a=r(368365),o=r(820028),l=r(489992),c=r(832010),u=r(7046),E=r(914242),I=r(758100),d=r(191940),N=r(757987),S=r(908570),T=r(153532),_=r(449953),m=r(436035),O=r(67416),M=r(766936),A=r(917870),f=r(108580),x=r(939532),v=r(461061),p=r(610804),D=r(54814),L=r(959797),h=r(570653),U=r.n(h);function g(e,s){(null==s||s>e.length)&&(s=e.length);for(var r=0,n=new Array(s);r<s;r++)n[r]=e[r];return n}function b(e,s,r){s in e?Object.defineProperty(e,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[s]=r;return e}function j(e){for(var s=1;s<arguments.length;s++){var r=null!=arguments[s]?arguments[s]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){
return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(s){b(e,s,r[s])}))}return e}function C(e,s){s=null!=s?s:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):function(e,s){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})));r.push.apply(r,n)}return r}(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}));return e}function P(e,s){return function(e){if(Array.isArray(e))return e}(e)||function(e,s){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,t,i=[],a=!0,o=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){i.push(n.value);if(s&&i.length===s)break}}catch(e){o=!0;t=e}finally{try{a||null==r.return||r.return()}finally{if(o)throw t}}return i}}(e,s)||function(e,s){if(!e)return
;if("string"==typeof e)return g(e,s);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,s)}(e,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.DEFAULT=0]="DEFAULT";e[e.SUBMITTING=1]="SUBMITTING";e[e.SUBMITTED=2]="SUBMITTED"}(n||(n={}));function y(e){var s=e.guild,i=e.headerText,a=e.headerSubtext,o=e.step,u=A.ZP.getGuildIconURL({id:s.id,icon:s.icon,size:120});return(0,t.jsxs)(O.xB,{className:U().header,children:[(0,t.jsxs)("div",{className:U().headerIconContainer,children:[null!=u?(0,t.jsx)(M.ZP,{src:u,"aria-label":s.name,size:M.ZP.Sizes.SIZE_120,className:U().guildIcon}):(0,t.jsx)("div",{className:U().acronym,children:s.acronym}),o===n.SUBMITTED?(0,t.jsx)(_.Z,{
className:U().greenPing,color:(0,c.Lq)(v.Ilk.STATUS_GREEN_600),backgroundColor:(0,c.Lq)(v.Ilk.WHITE_100)}):(0,t.jsx)(S.Ee,{src:r(934501),className:U().redPing})]}),(0,t.jsxs)("div",{className:U().headerText,children:[(0,t.jsx)(l.X6,{variant:"heading-lg/extrabold",color:"header-primary",children:i}),(0,t.jsx)(l.xv,{variant:"text-md/normal",color:"header-primary",children:a})]})]})}function R(e){var s=e.guild,r=s.getRole(s.id);if(null==r)return null;var n=r.name,i=r.color;return(0,t.jsxs)("span",{className:U().roleRow,children:[(0,t.jsx)(T.Z,{className:U().roleDot,color:i.toString(),background:!1,tooltip:!1}),(0,t.jsx)(l.xv,{className:U().roleName,variant:"text-sm/medium",color:"interactive-active",children:n})]})}var F=function(e){return e.toString()===v.Plq.MENTION_EVERYONE.toString()?L.Z.Messages.ENABLE_COMMUNITY_MODAL_EVERYONE_ROLE_PERMISSION_MENTION_EVERYONE:(0,I.wt)(e)};function B(e){var s=e.permissions,r=e.step;return r===n.SUBMITTED?null:(0,t.jsxs)("div",{
className:U().tableContainer,children:[(0,t.jsx)(l.xv,{className:U().tableHeader,variant:"text-xs/semibold",color:"text-muted",children:r===n.DEFAULT?L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_ENABLED_PERMISSIONS:L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_DISABLING_PERMISSIONS}),(0,t.jsx)("div",{className:U().permissionsTable,children:s.map((function(e,s){return(0,t.jsxs)("div",{className:U().permissionRow,children:[(0,t.jsx)("div",{className:r===n.DEFAULT?U().bulletPositive:U().bulletWarning}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"text-normal",children:F(e)})]},s)}))})]})}function Z(e){var s=e.permissions,r=e.step;if(0===s.length&&r!==n.SUBMITTED)return null;r===n.SUBMITTED&&(s=D.$X);return(0,t.jsxs)("div",{className:U().tableContainer,children:[(0,t.jsx)(l.xv,{className:U().tableHeader,variant:"text-xs/semibold",color:"text-muted",
children:r===n.SUBMITTED?L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_DISABLED:L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_DISABLED_PERMISSIONS}),(0,t.jsx)("div",{className:U().permissionsTable,children:s.map((function(e,s){return(0,t.jsxs)("div",{className:U().permissionRow,children:[(0,t.jsx)("div",{className:U().bullet}),(0,t.jsx)(l.xv,{variant:"text-sm/normal",color:"text-muted",children:F(e)})]},s)}))})]})}function k(e){var s=e.permissions,r=e.step,i=s.enabledPermissions,a=s.disabledPermissions;return 0===i.length&&r!==n.SUBMITTED?null:(0,t.jsxs)("div",{className:U().table,children:[r!==n.SUBMITTED?(0,t.jsx)(B,{permissions:i,step:r}):null,(0,t.jsx)(Z,{permissions:a,step:r})]})}function w(e){var s=e.guild,r=e.permissions,n=e.step,i=e.canEveryoneModerate,a=e.isDefaultNotificationsAllMessages;return(0,t.jsx)(O.hz,{children:(0,t.jsxs)("div",{className:U().updatedForm,children:[a?(0,t.jsxs)("div",{className:U().checklistRow,children:[(0,t.jsx)(_.Z,{className:U().checklistIcon,
color:(0,c.Lq)(v.Ilk.STATUS_GREEN_600),backgroundColor:(0,c.Lq)(v.Ilk.WHITE_100)}),(0,t.jsx)(l.xv,{variant:"text-md/normal",children:L.Z.Messages.ENABLE_COMMUNITY_MODAL_DEFAULT_NOTIFICATIONS_LABEL.format({infoHook:function(){return(0,t.jsx)(N.ZP,{text:L.Z.Messages.ENABLE_COMMUNITY_MODAL_DEFAULT_NOTIFICATIONS_TOOLTIP,"aria-label":L.Z.Messages.ENABLE_COMMUNITY_MODAL_DEFAULT_NOTIFICATIONS_TOOLTIP,children:function(e){return(0,t.jsx)(m.Z,j({className:U().icon},e))}})}})})]}):null,i?(0,t.jsxs)("div",{className:U().checklistRow,children:[(0,t.jsx)(_.Z,{className:U().checklistIcon,color:(0,c.Lq)(v.Ilk.STATUS_GREEN_600),backgroundColor:(0,c.Lq)(v.Ilk.WHITE_100)}),(0,t.jsx)(l.xv,{variant:"text-md/normal",children:L.Z.Messages.ENABLE_COMMUNITY_MODAL_EVERYONE_ROLE_PERMISSION_LABEL_UPDATED}),(0,t.jsx)(R,{guild:s})]}):null,(0,t.jsx)(k,{permissions:r,step:n})]})})}function Y(e){var s=e.onConfirm,r=e.onDismiss,i=e.canEveryoneModerate,a=e.step;return(0,t.jsxs)(O.mz,{className:U().footer,children:[(0,
t.jsx)(d.Co,{onClick:s,submitting:a===n.SUBMITTING,children:a===n.DEFAULT?i?L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_CONFIRMATION:L.Z.Messages.UPDATE_COMMUNICATION_NOTIFICATIONS_CONFIRMATION:L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_CONFIRMATION_DONE}),a===n.DEFAULT?(0,t.jsx)(d.Co,{look:d.Co.Looks.LINK,onClick:r,color:d.Co.Colors.PRIMARY,children:(0,t.jsx)(l.xv,{variant:"text-sm/semibold",color:"header-primary",children:L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_DISMISS})}):null]})}function G(e){var s=e.guild,r=e.canEveryoneModerate,l=e.isDefaultNotificationsAllMessages,c=e.transitionState,I=e.onClose,d=P(i.useState(n.DEFAULT),2),N=d[0],S=d[1],T=i.useMemo((function(){var e=[],r=[];D.$X.map((function(n){f.ZP.canEveryone(n,s)?e.push(n):r.push(n)}));return{enabledPermissions:e,disabledPermissions:r}}),[s]);if(null==s)return null;var _=r,m=function(){r&&function(){var e=null==s?void 0:s.getRole(s.id);if(null!=e){var r=a.Z.remove(e.permissions,D.mu)
;(0,E.Gf)(s.id,[C(j({},e),{permissions:r})])}}();l&&function(){u.Z.updateGuild({defaultMessageNotifications:v.bL.ONLY_MENTIONS});u.Z.saveGuild(s.id,{defaultMessageNotifications:v.bL.ONLY_MENTIONS})}()};return(0,t.jsxs)(O.Y0,{transitionState:c,size:O.Cg.SMALL,className:U().modal,children:[(0,t.jsx)(y,{guild:s,headerText:_?L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_HEADER:L.Z.Messages.UPDATE_COMMUNICATION_NOTIFICATIONS_HEADER,headerSubtext:_?L.Z.Messages.DISABLE_UNSAFE_DEFAULT_PERMISSIONS_NOTICE_SUBHEADER:L.Z.Messages.UPDATE_COMMUNICATION_NOTIFICATIONS_SUBHEADER,step:N}),(0,t.jsx)(w,{guild:s,permissions:T,step:N,canEveryoneModerate:r,isDefaultNotificationsAllMessages:l}),(0,t.jsx)(Y,{onConfirm:function(){if(!r){m();I();var e;(0,x.Q)(o.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(e=null==s?void 0:s.id)&&void 0!==e?e:"",!0,p.L.PRIMARY)}if(N===n.DEFAULT){S(n.SUBMITTING);setTimeout((function(){return S(n.SUBMITTED)}),3e3)}else if(N===n.SUBMITTED){m();I();var t;(0,
x.Q)(o.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,null!==(t=null==s?void 0:s.id)&&void 0!==t?t:"",!0,p.L.PRIMARY)}},onDismiss:function(){I();(0,x.Q)(o.CW.DISABLE_UNSAFE_COMMUNITY_PERMISSIONS_NOTICE,s.id,!0,p.L.DISMISS)},step:N,canEveryoneModerate:r})]})}}}]);
//# sourceMappingURL=888e6e8bab843b33d051.js.map