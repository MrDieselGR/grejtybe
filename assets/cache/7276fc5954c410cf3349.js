"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[12508],{939042:(e,n,t)=>{t.d(n,{PO:()=>d,q9:()=>_,R$:()=>v,i$:()=>T,KU:()=>P,Ji:()=>M,HE:()=>N});var r=t(785893),i=(t(667294),t(294184)),a=t.n(i),s=t(780921),l=t(56435),o=t(959797),c=t(846710),u=t.n(c);function I(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function d(e){var n=e.children,t=e.className;return(0,r.jsx)("div",{className:a()(u().table,t),children:n})}function _(e){var n=e.children;return(0,r.jsx)("div",{className:u().header,children:n})}function v(e){var n=e.label,t=e.value,i=e.className;return(0,r.jsxs)("div",{className:a()(u().row,i),children:[(0,r.jsx)("div",{className:u().rowLabel,children:n}),(0,r.jsx)("div",{className:u().rowAmount,children:t})]})}function T(e){var n=e.label,t=e.value,i=e.discounts,a=e.originalAmount,c=e.interval,I=e.currency,d=e.className,_=e.intervalCount,T=function(e){
return null!=i?i.find((function(n){return n.type===e})):null},P=T(s.eW.SUBSCRIPTION_PLAN),M=T(s.eW.ENTITLEMENT),N=null!=P?Math.floor(P.amount/a*100):null,m=(0,l.T4)(a,I);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v,{label:n,value:(0,r.jsxs)(r.Fragment,{children:[t,null!=N?(0,r.jsxs)("div",{className:u().rowPercentDiscount,children:["-",N,"%"]}):null]}),className:d}),null!=N?(0,r.jsxs)("div",{className:u().rowDiscountOriginalPrice,children:["(",null!=c&&null!=_?(0,l.og)(m,c,_):m,")"]}):null,null!=M?(0,r.jsx)("div",{className:u().entitlementDiscountRow,children:o.Z.Messages.BILLING_INVOICE_SUBSCRIPTION_CREDIT_APPLIED}):null]})}function P(e){var n=e.extended,t=void 0!==n&&n;return(0,r.jsx)("div",{className:a()(u().divider,I({},u().dividerExtended,t))})}function M(e){var n=e.label,t=e.value,i=e.className;return(0,r.jsxs)("div",{className:a()(u().totalRow,i),children:[(0,r.jsx)("div",{className:u().totalLabel,children:n}),(0,r.jsx)("div",{className:u().totalAmount,children:t})]})}
function N(e){var n=e.children,t=e.className;return(0,r.jsx)("div",{className:a()(u().finePrint,t),children:n})}},112508:(e,n,t)=>{t.d(n,{As:()=>x,By:()=>D,Lu:()=>G,hG:()=>w,nd:()=>H,e9:()=>Y});var r=t(785893),i=t(667294),a=t(294184),s=t.n(a),l=t(441143),o=t.n(l),c=t(791462),u=t(780921),I=t(916957),d=t(629590),_=t(757987),v=t(414597),T=t(977927),P=t(95467),M=t(590483),N=t(56435),m=t(212658),p=t(871295),U=t(511515),E=t(939042),O=t(298716),R=t(461061),f=t(959797),b=t(801067),S=t.n(b);function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function h(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))))
;r.forEach((function(n){h(e,n,t[n])}))}return e}function j(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function A(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,a=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){a.push(r.value);if(n&&a.length===n)break}}catch(e){l=!0;i=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw i}}return a}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return L(e,n)
;var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var C=function(e,n){var t;return!!(null===(t=e.discounts)||void 0===t?void 0:t.some((function(e){return e.type===n})))};function g(e){var n,t=e.invoiceItem,i=e.overrideAmount,a=e.showGuildSubscriptionAdjustmentTooltip,s=e.currency,l=e.className,d=e.isPrepaidPaymentSource,v=(0,c.e7)([I.Z],(function(){return I.Z.get(t.subscriptionPlanId)})),P=null===(n=(0,U.N)())||void 0===n?void 0:n.subscription_trial;o()(null!=v,"Missing subscriptionPlan");var m=(0,M.if)({intervalType:null==P?void 0:P.interval,intervalCount:null==P?void 0:P.interval_count}),p=function(e,n,t,r){
var i=C(e,u.eW.PREMIUM_TRIAL);switch(e.subscriptionPlanId){case O.Xh.PREMIUM_MONTH_LEGACY:case O.Xh.PREMIUM_YEAR_LEGACY:case O.Xh.PREMIUM_MONTH_TIER_0:case O.Xh.PREMIUM_YEAR_TIER_0:case O.Xh.PREMIUM_MONTH_TIER_1:case O.Xh.PREMIUM_YEAR_TIER_1:case O.Xh.PREMIUM_MONTH_TIER_2:case O.Xh.PREMIUM_YEAR_TIER_2:case O.Xh.PREMIUM_3_MONTH_TIER_2:case O.Xh.PREMIUM_6_MONTH_TIER_2:return(0,M.Gf)(e.subscriptionPlanId,i,t,r);case O.Xh.PREMIUM_3_MONTH_GUILD:case O.Xh.PREMIUM_6_MONTH_GUILD:return f.Z.Messages.PREMIUM_GUILD_NUM_MULTI_MONTHS_GUILD_SUBSCRIPTIONS.format({num:e.quantity,intervalCount:n.intervalCount});case O.Xh.PREMIUM_MONTH_GUILD:return f.Z.Messages.PREMIUM_GUILD_NUM_MONTH_GUILD_SUBSCRIPTIONS.format({num:e.quantity});case O.Xh.PREMIUM_YEAR_GUILD:return f.Z.Messages.PREMIUM_GUILD_NUM_YEAR_GUILD_SUBSCRIPTIONS.format({num:e.quantity})}switch(n.interval){case O.rV.MONTH:return 1===n.intervalCount?f.Z.Messages.MONTHLY_GUILD_SUBSCRIPTION.format({planName:n.name
}):f.Z.Messages.MULTI_MONTHS_GUILD_SUBSCRIPTION.format({planName:n.name,intervalCount:n.intervalCount});case O.rV.YEAR:return f.Z.Messages.YEARLY_GUILD_SUBSCRIPTION.format({planName:n.name})}throw new Error("Unexpected invoice plan: ".concat(e.subscriptionPlanId))}(t,v,d,m);!0===a&&(p=(0,r.jsxs)("div",{className:S().invoiceItemLabelWithIcon,children:[(0,r.jsxs)("div",{children:[p," "]}),(0,r.jsx)(_.ZP,{text:f.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TOOLTIP.format(),"aria-label":f.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TEXT,tooltipClassName:S().invoiceItemTooltip,children:function(e){return(0,r.jsx)(T.Z,j(y({},e),{className:S().invoiceItemLabelIcon}))}})]}));var R=(0,N.T4)(null!=i?i:t.amount,s),b=d?R:(0,N.og)(R,v.interval,v.intervalCount);return(0,r.jsx)(E.i$,{label:p,value:b,originalAmount:t.subscriptionPlanPrice*t.quantity,discounts:t.discounts,interval:v.interval,intervalCount:v.intervalCount,currency:s,className:l})}function x(e){
var n=e.label,t=e.tooltipText,i=e.tooltipAriaLabel;return(0,r.jsxs)("div",{className:S().invoiceItemLabelWithIcon,children:[n,(0,r.jsx)(_.ZP,{clickableOnMobile:!0,text:t,"aria-label":i,tooltipClassName:S().invoiceItemTooltip,children:function(e){return(0,r.jsx)(T.Z,j(y({},e),{className:S().invoiceItemLabelIcon}))}})]})}function D(e){var n=e.invoice,t=e.isPrepaidPaymentSource,i=(0,p.j)(n.invoiceItems),a=i.find((function(e){return!(0,M.eh)(e.subscriptionPlanId)&&e.amount>=0})),s=i.find((function(e){return(0,M.eh)(e.subscriptionPlanId)&&e.amount>=0})),l=(0,c.e7)([I.Z],(function(){return null!=s?I.Z.get(s.subscriptionPlanId):null})),o=null!=s?s.amount:0,u=(0,N.T4)(o,n.currency),d=null!=l?(0,N.og)(u,l.interval,l.intervalCount):0;return(0,r.jsxs)(r.Fragment,{children:[null!=a?(0,r.jsx)(g,{invoiceItem:a,currency:n.currency,isPrepaidPaymentSource:t}):null,0!==o&&null!=s&&null!=l?(0,r.jsx)(E.R$,{label:f.Z.Messages.GUILD_SUBSCRIPTION_PURCHASE_MODAL_INVOICE_ROW_CONTENT.format({
numGuildSubscriptions:s.quantity,planName:(0,M.Gf)(l.id,!1,t)}),value:t?u:d}):null,(0,r.jsx)(E.KU,{}),(0,r.jsx)(E.Ji,{label:(n.taxInclusive?t?f.Z.Messages.BILLING_INVOICE_TOTAL_TAX_INCLUSIVE:f.Z.Messages.BILLING_INVOICE_TODAY_TOTAL_TAX_INCLUSIVE:f.Z.Messages.BILLING_INVOICE_TODAY_TOTAL).format(),value:n.currency===R.pKx.USD?(0,N.T4)(n.total,n.currency):"".concat((0,N.T4)(n.total,n.currency),"*")})]})}function G(e){var n=e.invoice,t=e.newPlan,i=e.isPrepaidPaymentSource,a=(0,p.j)(n.invoiceItems),s=a.find((function(e){return e.subscriptionPlanId===t.id}));o()(null!=s,"Expected newPlanInvoiceItem");var l=a.find((function(e){return!(0,M.eh)(e.subscriptionPlanId)&&e.amount<0})),c=a.find((function(e){return null==e.subscriptionPlanId&&null!=e.discounts&&e.discounts.find((function(e){return e.type===u.eW.PREMIUM_LEGACY_UPGRADE_PROMOTION}))})),I=C(s,u.eW.PREMIUM_TRIAL),d=s.quantity*s.subscriptionPlanPrice,_=s.amount+(null!=l?l.amount:0)-d+(null!=c?c.amount:0),v=a.filter((function(e){
return e.subscriptionPlanId===O.Xh.PREMIUM_MONTH_GUILD||e.subscriptionPlanId===O.Xh.PREMIUM_YEAR_GUILD})).reduce((function(e,n){return e+n.amount}),0);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g,{invoiceItem:s,currency:n.currency,overrideAmount:d,isPrepaidPaymentSource:i}),0===_||I?null:(0,r.jsx)(E.R$,{label:(0,r.jsx)(x,{label:f.Z.Messages.PREMIUM_SUBSCRIPTION_PLAN_ADJUSTMENT.format({planName:(0,M.PV)(t.id)?(0,M.aq)(t.id):t.name}),tooltipText:f.Z.Messages.PREMIUM_SUBSCRIPTION_ADJUSTMENT_TOOLTIP}),value:(0,N.T4)(_,n.currency)}),0!==v?(0,r.jsx)(E.R$,{label:(0,r.jsx)(x,{label:f.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT,tooltipText:f.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TOOLTIP.format(),tooltipAriaLabel:f.Z.Messages.PREMIUM_SUBSCRIPTION_GUILD_SUBSCRIPTION_ADJUSTMENT_TEXT}),value:(0,N.T4)(v,n.currency)}):null,(0,r.jsx)(E.KU,{}),(0,r.jsx)(E.Ji,{
label:(n.taxInclusive?i?f.Z.Messages.BILLING_INVOICE_TOTAL_TAX_INCLUSIVE:f.Z.Messages.BILLING_INVOICE_TODAY_TOTAL_TAX_INCLUSIVE:f.Z.Messages.BILLING_INVOICE_TODAY_TOTAL).format(),value:n.currency===R.pKx.USD?(0,N.T4)(n.total,n.currency):"".concat((0,N.T4)(n.total,n.currency),"*")})]})}function Z(e){var n=e.slice();n.sort((function(e,n){var t=(0,M.uZ)(e.subscriptionPlanId),r=(0,M.uZ)(n.subscriptionPlanId);return t&&!r?-1:!t&&r?1:0}));return n}function B(e){return e.filter((function(e){var n=e.subscriptionPlanId;return n!==O.Xh.NONE_MONTH&&n!==O.Xh.NONE_YEAR}))}function w(e){var n=e.proratedInvoice,t=e.renewalInvoice,i=(0,M.dn)(n),a=i.intervalType,s=i.intervalCount,l=(0,M.dn)(t),o=l.intervalType,c=l.intervalCount;return a!==o||s!==c||n.subscriptionPeriodEnd.getTime()===t.subscriptionPeriodStart.getTime()?null:(0,r.jsx)("div",{className:S().subscriptionPeriodResetNotice,children:f.Z.Messages.PREMIUM_SUBSCRIPTION_PERIOD_RESET_NOTICE.format({renewalDate:n.subscriptionPeriodEnd})})}
function X(e){var n=e.isUpdate,t=e.currentInvoice,i=e.newInvoice,a=null!=t?(0,p.j)(t.invoiceItems):null,l=null!=t?(0,M.dn)(t):null,o=(0,M.dn)(i),c=o.intervalType,u=o.intervalCount,I=null!=l&&(l.intervalType!==c||l.intervalCount!==u);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.KU,{extended:!0}),null!=t?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(E.q9,{children:f.Z.Messages.PREMIUM_SUBSCRIPTION_CURRENT_LABEL}),B(Z((0,p.j)(t.invoiceItems))).map((function(e){return(0,r.jsx)(g,{invoiceItem:e,currency:t.currency},e.id)})),(0,r.jsx)(E.KU,{extended:!0})]}):null,(0,r.jsx)(E.q9,{children:f.Z.Messages.PREMIUM_SUBSCRIPTION_NEW_LABEL}),B(Z((0,p.j)(i.invoiceItems))).map((function(e){var t=null!=a&&!a.some((function(n){return n.subscriptionPlanId===e.subscriptionPlanId&&n.quantity===e.quantity}));return(0,r.jsx)(g,{invoiceItem:e,currency:i.currency,
showGuildSubscriptionAdjustmentTooltip:I&&(e.subscriptionPlanId===O.Xh.PREMIUM_MONTH_GUILD||e.subscriptionPlanId===O.Xh.PREMIUM_YEAR_GUILD||e.subscriptionPlanId===O.Xh.PREMIUM_3_MONTH_GUILD||e.subscriptionPlanId===O.Xh.PREMIUM_6_MONTH_GUILD),className:s()(h({},S().subscriptionAddedInvoiceItem,!n||t))},e.id)})),(0,r.jsx)(E.KU,{}),(0,r.jsx)(E.R$,{label:f.Z.Messages.PREMIUM_SUBSCRIPTION_NEW_TOTAL,value:(0,N.og)((0,N.T4)(i.total,i.currency),c,u),className:S().subscriptionCostRow})]})}function H(e){var n,t=e.premiumSubscription,a=e.proratedInvoice,s=e.renewalInvoice,l=e.overrideRenewalDate,o=e.isUpdate,c=void 0!==o&&o,u=e.isTrial,I=void 0!==u&&u,_=e.priceOptions,T=void 0===_?void 0:_,p=e.isPrepaidPaymentSource,b=void 0!==p&&p,L=e.trialFooterMessageOverride,h=e.hideSubscriptionDetails,j=void 0!==h&&h,C=y({subscriptionId:null==t?void 0:t.id,renewal:!0,preventFetch:!c},T),g=A((0,m.ED)(C),1)[0],x=(0,M.dn)(s),D=x.intervalType,G=x.intervalCount,Z=A(i.useState(!1),2),B=Z[0],w=Z[1],H=null===(n=(0,
U.N)())||void 0===n?void 0:n.subscription_trial,Y=(0,M.if)({intervalType:null==H?void 0:H.interval,intervalCount:null==H?void 0:H.interval_count}),V=(null==H?void 0:H.interval)===O.rV.DAY&&(null==H?void 0:H.interval_count)<28?2:7,W=null!=L?L:f.Z.Messages.PREMIUM_SUBSCRIPTION_RENEWAL_FOOTER_TRIAL_DURATION.format({duration:Y,days:V,contactLink:R.EYA.CONTACT,helpdeskArticle:P.Z.getArticleURL(R.BhN.PREMIUM_TRIAL)});return(0,r.jsxs)(r.Fragment,{children:[b?null:(0,r.jsx)(E.HE,{children:I?W:f.Z.Messages.PREMIUM_SUBSCRIPTION_RENEWAL_FOOTER.format({rate:(0,N.og)((0,N.T4)(s.total,s.currency),D,G),renewalDate:null!=l?l:c?null!=a?a.subscriptionPeriodEnd:s.subscriptionPeriodStart:s.subscriptionPeriodEnd,contactLink:R.EYA.CONTACT,helpdeskArticle:P.Z.getArticleURL(R.BhN.BILLING)})}),!j&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(d.Z,{onClick:function(){return w((function(e){return!e}))},className:S().subscriptionDetailsToggle,
children:[B?f.Z.Messages.PREMIUM_SUBSCRIPTION_HIDE_DETAILS:f.Z.Messages.PREMIUM_SUBSCRIPTION_SHOW_DETAILS,(0,r.jsx)(v.Z,{direction:B?v.Z.Directions.UP:v.Z.Directions.DOWN,className:S().subscriptionDetailsToggleCaret})]}),B?(0,r.jsx)(X,{isUpdate:c,currentInvoice:g,newInvoice:s}):null]})]})}function Y(e){var n=e.plan,t=e.className,i=e.paymentSourceId,a=e.isPrepaidPaymentSource,s=void 0!==a&&a,l=(0,M.aS)(n.id,!1,!0,{paymentSourceId:i});return(0,r.jsx)(E.PO,{className:t,children:(0,r.jsx)(E.R$,{label:f.Z.Messages.BILLING_INVOICE_GIFT_PLAN.format({planName:(0,M.Gf)(n.id,!1,s)}),value:(0,N.T4)(l.amount,l.currency),className:S().subscriptionCostRow})})}}}]);
//# sourceMappingURL=7276fc5954c410cf3349.js.map