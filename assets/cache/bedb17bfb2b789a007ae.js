"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[67833],{987554:(e,t,r)=>{r.r(t);r.d(t,{default:()=>O});var n=r(785893),s=r(667294),o=r(294184),a=r.n(o),i=r(489992),l=r(822567),c=r(395951),u=r(162917),d=r(191940),f=r(487502),m=r(801593),h=r(562181),C=r(67416),p=r(932847),x=r(503280),A=r(170729),v=r(461061),b=r(111775),y=r(959797),_=r(446646),g=r.n(_);function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r,n,s,o,a){try{var i=e[o](a),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,s)}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,s,o=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){o.push(n.value);if(t&&o.length===t)break}}catch(e){i=!0;s=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw s}}return o}
}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(e,t){var r,n,s,o,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function i(o){return function(i){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(s=2&o[0]?n.return:o[0]?n.throw||((s=n.return)&&s.call(n),0):n.next)&&!(s=s.call(n,o[1])).done)return s;(n=0,s)&&(o=[2&o[0],s.value]);switch(o[0]){
case 0:case 1:s=o;break;case 4:a.label++;return{value:o[1],done:!1};case 5:a.label++;n=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(s=a.trys,s=s.length>0&&s[s.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){a.label=o[1];break}if(6===o[0]&&a.label<s[1]){a.label=s[1];s=o;break}if(s&&a.label<s[2]){a.label=s[2];a.ops.push(o);break}s[2]&&a.ops.pop();a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e];n=0}finally{r=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,i])}}};function j(e){var t=e.email,r=e.setEmail,o=e.claimRequired,p=e.onSuccess,x=e.onClose,_=S(s.useState(),2),N=_[0],j=_[1],L=S(s.useState(""),2),O=L[0],E=L[1],w=S(s.useState(""),2),R=w[0],T=w[1],Z=S(s.useState(!1),2),k=Z[0],P=Z[1];s.useEffect((function(){return u.Z.flowStep(b.MK.ANY,b.mx.CLAIM_ACCOUNT)}),[]);var U,D,z=(D=(U=function(e){var r,n,s;return I(this,(function(o){switch(o.label){case 0:e.preventDefault();P(!0);j("");T("");o.label=1
;case 1:o.trys.push([1,3,,4]);return[4,(0,c.S2)({email:t,password:O})];case 2:o.sent();P(!1);p();return[3,4];case 3:(null==(r=o.sent())||null===(n=r.body)||void 0===n?void 0:n.email)&&j(r.body.email);(null==r||null===(s=r.body)||void 0===s?void 0:s.password)&&T(r.body.password);P(!1);return[3,4];case 4:return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(r,n){var s=U.apply(e,t);function o(e){M(s,r,n,o,a,"next",e)}function a(e){M(s,r,n,o,a,"throw",e)}o(void 0)}))}),function(e){return D.apply(this,arguments)});return(0,n.jsxs)("div",{className:a()(g().modalLight,(0,A.Q)(v.BRd.LIGHT)),children:[(0,n.jsxs)(C.xB,{className:g().formHeader,direction:f.Z.Direction.VERTICAL,separator:!1,children:[(0,n.jsx)("div",{className:g().formImage}),(0,n.jsx)(i.X6,{className:g().formTitle,variant:"heading-xl/semibold",children:y.Z.Messages.FINISH_SIGNING_UP}),(0,n.jsx)(i.xv,{className:g().formBody,variant:"text-md/normal",color:"header-secondary",
children:o?y.Z.Messages.CLAIM_ACCOUNT_REQUIRED_BODY:y.Z.Messages.CLAIM_ACCOUNT_BODY_2}),(0,n.jsx)(C.ol,{className:g().closeButton,onClick:x})]}),(0,n.jsx)(C.hz,{children:(0,n.jsxs)("form",{className:g().formContent,onSubmit:z,children:[(0,n.jsx)(h.xJ,{title:y.Z.Messages.FORM_LABEL_EMAIL,className:g().formItem,children:(0,n.jsx)(m.ZP,{value:t,error:N,onChange:function(e){return r(e)},autoFocus:!0})}),(0,n.jsx)(h.xJ,{title:y.Z.Messages.FORM_LABEL_PASSWORD,className:g().formItem,children:(0,n.jsx)(m.ZP,{type:"password",value:O,error:R,onChange:function(e){return E(e)}})}),(0,n.jsx)(d.Co,{type:"submit",size:d.Co.Sizes.LARGE,fullWidth:!0,submitting:k,disabled:0===t.length||0===O.length,children:y.Z.Messages.CLAIM_ACCOUNT}),o&&(0,n.jsx)(d.Co,{className:g().logoutButton,color:d.Co.Colors.PRIMARY,look:d.Co.Looks.LINK,size:d.Co.Sizes.NONE,onClick:function(){l.Z.logout();x()},children:y.Z.Messages.LOGOUT})]})})]})}function L(e){var t=e.email,r=e.claimRequired,o=e.onClose,l=function(){
window.open((0,x.t3)(),"_blank");p.default.track(v.rMx.DOWNLOAD_APP,{platform:(0,x.DW)(),ptb:!1,released:!0,has_e_mail:!0,referring_location:"Claim Modal",qr_code:!1})},c=r?y.Z.Messages.CLAIM_ACCOUNT_REQUIRED_EMAIL_TO:y.Z.Messages.CLAIM_ACCOUNT_EMAIL_TO;s.useEffect((function(){return u.Z.flowStep(b.MK.ANY,b.mx.CLAIM_ACCOUNT_SUCCESS)}),[]);return(0,n.jsxs)("div",{className:a()(g().modalLight,(0,A.Q)(v.BRd.LIGHT)),children:[(0,n.jsxs)(C.hz,{className:g().successContent,children:[!r&&(0,n.jsx)(C.ol,{className:g().closeButton,onClick:o}),(0,n.jsx)("div",{className:g().successImage}),(0,n.jsx)(i.xv,{className:g().successTitle,variant:"text-lg/semibold",children:c.format({email:t})}),(0,n.jsx)(i.xv,{className:g().successPromotion,variant:"text-md/normal",children:y.Z.Messages.CLAIM_ACCOUNT_PROMOTE_APP_2021_04})]}),r?(0,n.jsx)(C.mz,{direction:f.Z.Direction.VERTICAL,children:(0,n.jsx)(d.Co,{size:d.Co.Sizes.LARGE,onClick:o,children:y.Z.Messages.OKAY})}):(0,n.jsx)(C.mz,{
direction:f.Z.Direction.VERTICAL,children:(0,n.jsx)(d.Co,{color:d.Co.Colors.BRAND,size:d.Co.Sizes.LARGE,onClick:l,children:y.Z.Messages.CLAIM_ACCOUNT_GET_APP})})]})}function O(e){var t=e.onClose,r=e.transitionState,o=e.claimRequired,a=void 0!==o&&o,i=S(s.useState(""),2),l=i[0],c=i[1],u=S(s.useState(!1),2),d=u[0],f=u[1];return d?(0,n.jsx)(C.Y0,{transitionState:r,children:(0,n.jsx)(L,{email:l,claimRequired:a,onClose:t})}):(0,n.jsx)(C.Y0,{transitionState:r,children:(0,n.jsx)(j,{email:l,setEmail:c,claimRequired:a,onSuccess:function(){return f(!0)},onClose:t})})}}}]);
//# sourceMappingURL=bedb17bfb2b789a007ae.js.map