"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[99964],{499964:(e,t,n)=>{n.r(t);n.d(t,{default:()=>A});var r=n(785893),o=n(667294),a=n(791462),s=n(489992),i=n(810574),l=n(859023),u=n(191940),c=n(629590),f=n(552007),p=n(272729),h=n(719455),d=n(67416),y=n(112712),v=n(911324),b=n(932847),m=n(113204),C=n(809096),_=n(461061),N=n(959797),O=n(230013),E=n.n(O);function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t,n,r,o,a,s){try{var i=e[a](s),l=i.value}catch(e){n(e);return}i.done?t(l):Promise.resolve(l).then(r,o)}function g(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){S(a,r,o,s,i,"next",e)}function i(e){S(a,r,o,s,i,"throw",e)}s(void 0)}))}}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){
var r,o,a=[],s=!0,i=!1;try{for(n=n.call(e);!(s=(r=n.next()).done);s=!0){a.push(r.value);if(t&&a.length===t)break}}catch(e){i=!0;o=e}finally{try{s||null==n.return||n.return()}finally{if(i)throw o}}return a}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(e,t){var n,r,o,a,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function i(a){return function(i){return function(a){
if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;(r=0,o)&&(a=[2&a[0],o.value]);switch(a[0]){case 0:case 1:o=a;break;case 4:s.label++;return{value:a[1],done:!1};case 5:s.label++;r=a[1];a=[0];continue;case 7:a=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1];o=a;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(a);break}o[2]&&s.ops.pop();s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e];r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,i])}}};function A(e){var t=e.guildId,n=e.userId,O=e.transitionState,I=e.onClose,S=(0,p.Dt)(),A=(0,a.e7)([l.default],(function(){return l.default.getUser(n)}),[n]),U=w((0,
m.Z)(n,t),2),x=U[0],T=U[1],j=w(o.useState(!1),2),D=j[0],R=j[1],Z=o.useCallback(g((function(){return M(this,(function(e){switch(e.label){case 0:if(null==A)return[2];R(!0);e.label=1;case 1:e.trys.push([1,3,4,5]);return[4,i.Z.setCommunicationDisabledDuration(t,n)];case 2:e.sent();(0,v.CF)((0,y.Yz)(N.Z.Messages.GUILD_ENABLE_COMMUNICATION_SUCCESS,y.pC.SUCCESS));I();return[3,5];case 3:e.sent();(0,v.CF)((0,y.Yz)(N.Z.Messages.APPLICATION_STORE_LISTING_PURCHASE_GENERIC_ERROR,y.pC.FAILURE));return[3,5];case 4:R(!1);return[7];case 5:return[2]}}))})),[t,A,n,I]),k=o.useCallback((function(){T||I()}),[T,I]);o.useEffect((function(){null!=A&&b.default.track(_.rMx.OPEN_MODAL,{type:C.av,guild_id:t,other_user_id:A.id})}),[]);o.useEffect((function(){null!=A&&null!=t||I()}));return null==A||null==t?null:(0,r.jsxs)(d.Y0,{transitionState:O,"aria-labelledby":S,children:[(0,r.jsxs)(d.xB,{className:E().header,separator:!1,children:[(0,r.jsx)(s.X6,{variant:"heading-lg/semibold",
children:N.Z.Messages.GUILD_ENABLE_COMMUNICATION_HEADER}),(0,r.jsx)(c.Z,{onClick:I,className:E().closeButton,"aria-label":N.Z.Messages.CLOSE,children:(0,r.jsx)(h.Z,{className:E().closeIcon,width:16,height:16})})]}),(0,r.jsxs)(d.hz,{children:[(0,r.jsx)(s.xv,{variant:"text-md/normal",color:"interactive-normal",children:N.Z.Messages.GUILD_ENABLE_COMMUNICATION_TIME_REMAINING.format({username:A.username,countdown:function(e){return null==x?null:(0,r.jsx)(f.Z,{className:E().countdown,deadline:new Date(x),onInterval:k,showUnits:!0,stopAtOneSec:!0})}})}),(0,r.jsx)(s.xv,{className:E().cta,variant:"text-md/normal",color:"interactive-normal",children:N.Z.Messages.GUILD_ENABLE_COMMUNICATION_CTA.format({link:C.cu})})]}),(0,r.jsxs)(d.mz,{children:[(0,r.jsx)(u.Co,{color:u.Co.Colors.RED,onClick:Z,submitting:D,children:N.Z.Messages.REMOVE_TIME_OUT}),(0,r.jsx)(u.Co,{type:"button",look:u.Co.Looks.LINK,color:u.Co.Colors.PRIMARY,onClick:I,children:N.Z.Messages.CANCEL})]})]})}},552007:(e,t,n)=>{n.d(t,{
Z:()=>v});var r=n(785893),o=n(667294),a=n(496486),s=n.n(a),i=n(493316),l=n(959797);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function f(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e)
;if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}var y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=d(n);function n(){u(this,n);return t.apply(this,arguments)}var o=n.prototype;o.componentDidMount=function(){var e=this,t=this.props,n=t.intervalDuration,r=t.onInterval;this._interval=setInterval((function(){e.forceUpdate();null==r||r()}),n)};o.componentWillUnmount=function(){null!=this._interval&&clearInterval(this._interval)};o.defaultRender=function(e){var t=this.props,n=t.showDays,o=t.showUnits,a=t.className,i=[e.days,e.hours,e.minutes,e.seconds],u=[l.Z.Messages.COUNTDOWN_UNITS_SECONDS,l.Z.Messages.COUNTDOWN_UNITS_MINUTES,l.Z.Messages.COUNTDOWN_UNITS_HOURS,l.Z.Messages.COUNTDOWN_UNITS_DAYS]
;if(0===e.days)i.shift();else if(!n){var c=i.shift();i[0]+=24*c}var f=s()(i).map((function(e){return e<10?"0".concat(e):e})).map((function(e,t){return[t>0&&!o?":":" ",(0,r.jsxs)("span",{children:[e,o?u[i.length-t-1]:null]},t)]})).flatten().value();return(0,r.jsx)("span",{className:a,children:f})};o.render=function(){var e=this.props,t=e.deadline,n=e.children,o=e.className,a=e.stopAtOneSec;if(t===1/0)return(0,r.jsx)("span",{className:o,"aria-label":l.Z.Messages.MAX_AGE_NEVER,children:"âˆž"});var s=(0,i.TD)(Date.now(),t,a);return null!=n?n(s,this.defaultRender.bind(this,s)):this.defaultRender(s)};return n}(o.PureComponent);y.defaultProps={showDays:!0,showUnits:!1,stopAtOneSec:!1,intervalDuration:1e3};const v=y}}]);
//# sourceMappingURL=5cc8eb73dd4d8736eac0.js.map