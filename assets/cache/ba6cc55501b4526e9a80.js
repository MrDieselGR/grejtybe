"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[9948],{209948:(e,n,r)=>{r.r(n);r.d(n,{default:()=>G});var t=r(785893),i=r(667294),o=r(496486),s=r.n(o),l=r(489992),a=r(34076),c=r(55690),u=r(807322),d=r(99298),f=r(191940),p=r(326440),h=r(67416),m=r(766936),y=r(917870),b=r(96920),v=r(339710),C=r(822157),g=r(469525),j=r(832010),O=r(757987),S=r(565228),N=r(410665),x=r(461061),I=r(959797),w=r(871548),L=r.n(w);function P(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function E(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));r.push.apply(r,t)}return r}(Object(n)).forEach((function(r){
Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}));return e}function M(e){var n=e.applicationName,r=e.isSynced,i=e.onSync,o=!r,s=o&&null==i,a=r?S.Z:N.Z,c=r?I.Z.Messages.INTEGRATIONS_APPLICATION_COMMAND_PERMISSIONS_SYNCED:I.Z.Messages.INTEGRATIONS_APPLICATION_COMMAND_PERMISSIONS_UNSYNCED;return(0,t.jsxs)("div",{className:L().syncCard,children:[(0,t.jsx)(a,{width:20,height:20,color:(0,j.Lq)(x.Ilk.STATUS_YELLOW_500)}),(0,t.jsx)("div",{className:L().label,children:(0,t.jsx)(l.xv,{variant:"text-md/normal",children:c.format({integrationName:n})})}),o?(0,t.jsx)(O.ZP,{text:I.Z.Messages.INTEGRATIONS_PERMISSIONS_SYNC_DISABLED,shouldShow:s,children:function(e){return(0,t.jsx)("div",E(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){
P(e,n,r[n])}))}return e}({},e),{children:(0,t.jsx)(f.Co,{size:f.Co.Sizes.SMALL,color:f.Co.Colors.PRIMARY,onClick:i,disabled:s,children:I.Z.Messages.SYNC_NOW})}))}}):null]})}var A=r(443080),Z=r.n(A),k=r(100293),R=r.n(k);function _(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=new Array(n);r<n;r++)t[r]=e[r];return t}function D(e,n,r,t,i,o,s){try{var l=e[o](s),a=l.value}catch(e){r(e);return}l.done?n(a):Promise.resolve(a).then(t,i)}function T(e){return function(){var n=this,r=arguments;return new Promise((function(t,i){var o=e.apply(n,r);function s(e){D(o,t,i,s,l,"next",e)}function l(e){D(o,t,i,s,l,"throw",e)}s(void 0)}))}}function z(e,n,r){n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r;return e}function Y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var t,i,o=[],s=!0,l=!1;try{
for(r=r.call(e);!(s=(t=r.next()).done);s=!0){o.push(t.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{s||null==r.return||r.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return _(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var U=function(e,n){var r,t,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){
if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,t&&(i=2&o[0]?t.return:o[0]?t.throw||((i=t.return)&&i.call(t),0):t.next)&&!(i=i.call(t,o[1])).done)return i;(t=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;t=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(i=s.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1];i=o;break}if(i&&s.label<i[2]){s.label=i[2];s.ops.push(o);break}i[2]&&s.ops.pop();s.trys.pop();continue}o=n.call(e,s)}catch(e){o=[6,e];t=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function G(e){var n=e.applicationIcon,r=e.applicationId,o=e.applicationName,m=e.command,y=e.guildId,j=e.onClose,O=e.transitionState,S=Y(i.useState(null),2),N=S[0],x=S[1],w=Y(i.useState(!1),2),L=w[0],P=w[1],E=(0,
C.Z)(y,r,m.id),A=E.applicationPermissions,k=E.hasChanges,R=E.isSynced,_=E.permissions,D=E.selectedPermissionCount,G=E.sync,W=i.useCallback(T((function(){var e,n,t,i,o,l,a,f,p,h,C,g,O,S,N;return U(this,(function(I){switch(I.label){case 0:if(!k){j();return[2]}i=s().difference(Object.keys(null!==(t=m.permissions)&&void 0!==t?t:{}),Object.keys(_));o=s().omit(R?{}:function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));t.forEach((function(n){z(e,n,r[n])}))}return e}({},_),i);l=y;a=(0,d.bD)(y);f=(0,v.rE)(l,u.Kw.ROLE);p=(0,v.rE)(a,u.Kw.CHANNEL);C=null===(h=null===(e=A[f])||void 0===e?void 0:e.permission)||void 0===h||h;O=null===(g=null===(n=A[p])||void 0===n?void 0:n.permission)||void 0===g||g;S=Object.values(o).map((function(e){return{id:e.id,permission:e.permission,
type:e.type}}));x(null);P(!0);I.label=1;case 1:I.trys.push([1,3,,4]);return[4,b.U3({defaultEveryoneValue:C,defaultEverywhereValue:O,applicationId:r,commandId:m.id,guildId:y,permissions:S})];case 2:I.sent();P(!1);j();return[3,4];case 3:N=I.sent();x(new c.Z(N));return[3,4];case 4:P(!1);return[2]}}))})),[r,A,m.id,m.permissions,y,k,R,j,_,x,P]);i.useEffect((function(){return function(){b.Ui(m.id);a.Z.stopEditingCommandPermissions(m.id)}}),[m.id]);var F=(0,v.gw)(m.type,m.displayName);return(0,t.jsxs)(h.Y0,{"aria-label":I.Z.Messages.INTEGRATIONS_APPLICATION_COMMAND_PERMISSIONS_MODIFY,size:h.Cg.MEDIUM,transitionState:O,children:[(0,t.jsxs)(h.xB,{separator:!1,className:Z().modalHeader,children:[(0,t.jsx)(B,{icon:n,id:r,name:o}),(0,t.jsxs)("div",{className:Z().headerDescription,children:[(0,t.jsx)(l.xv,{variant:"text-md/semibold",children:F}),(0,t.jsx)(l.xv,{color:"text-muted",variant:"text-sm/normal",children:m.displayDescription})]})]}),(0,t.jsxs)(h.hz,{className:Z().modalBody,children:[(0,
t.jsx)("div",{className:Z().section,children:(0,t.jsx)(M,{applicationName:o,isSynced:R,onSync:G})}),null==N||N.hasFieldErrors()?null:(0,t.jsx)(p.Z,{children:N.getAnyErrorMessage()}),(0,t.jsx)(g.Z,{applicationId:r,commandId:m.id,guildId:y,inModal:!0,permissions:_,selectedPermissionCount:D,applicationPermissions:A,isSynced:R})]}),(0,t.jsxs)(h.mz,{className:Z().modalFooter,children:[(0,t.jsx)(f.Co,{type:"submit",disabled:L,onClick:W,color:!0===k?f.Co.Colors.GREEN:f.Co.Colors.PRIMARY,children:I.Z.Messages.SAVE}),(0,t.jsx)(f.Co,{onClick:j,look:f.Co.Looks.LINK,color:f.Co.Colors.PRIMARY,children:I.Z.Messages.CANCEL})]})]})}function B(e){var n,r=e.icon,i=e.id,o=null!==(n=y.ZP.getApplicationIconURL({id:i,icon:r,size:40}))&&void 0!==n?n:R();return(0,t.jsx)(m.ZP,{src:o,size:m.ZP.Sizes.SIZE_40,"aria-hidden":!0})}},565228:(e,n,r)=>{r.d(n,{Z:()=>i});var t=r(785893);r(667294);function i(e){
var n=e.width,r=void 0===n?18:n,i=e.height,o=void 0===i?18:i,s=e.color,l=void 0===s?"currentColor":s,a=e.foreground,c=e.className;return(0,t.jsx)("svg",{width:r,height:o,className:c,viewBox:"0 0 18 18",children:(0,t.jsx)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,t.jsx)("path",{d:"M9,3 L9,0.75 L6,3.75 L9,6.75 L9,4.5 C11.4825,4.5 13.5,6.5175 13.5,9 C13.5,9.7575 13.3125,10.4775 12.975,11.1 L14.07,12.195 C14.655,11.2725 15,10.1775 15,9 C15,5.685 12.315,3 9,3 Z M9,13.5 C6.5175,13.5 4.5,11.4825 4.5,9 C4.5,8.2425 4.6875,7.5225 5.025,6.9 L3.93,5.805 C3.345,6.7275 3,7.8225 3,9 C3,12.315 5.685,15 9,15 L9,17.25 L12,14.25 L9,11.25 L9,13.5 Z",fill:l,className:a,fillRule:"nonzero"})})})}},410665:(e,n,r)=>{r.d(n,{Z:()=>i});var t=r(785893);r(667294);function i(e){var n=e.width,r=void 0===n?18:n,i=e.height,o=void 0===i?18:i,s=e.color,l=void 0===s?"currentColor":s,a=e.foreground,c=e.background,u=e.className;return(0,t.jsx)("svg",{width:r,height:o,className:u,
viewBox:"0 0 18 18",children:(0,t.jsxs)("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:[(0,t.jsx)("polygon",{points:"0 0 18 0 18 18 0 18"}),(0,t.jsx)("path",{d:"M2.25,9 C2.25,10.6575 2.9325,12.15 4.02,13.23 L2.25,15 L6.75,15 L6.75,10.5 L5.07,12.18 C4.26,11.3625 3.75,10.245 3.75,9 C3.75,7.0425 5.0025,5.3775 6.75,4.7625 L6.75,3.195 C4.1625,3.8625 2.25,6.2025 2.25,9 Z M15.75,3 L11.25,3 L11.25,7.5 L12.93,5.82 C13.74,6.6375 14.25,7.755 14.25,9 C14.25,10.9575 12.9975,12.6225 11.25,13.2375 L11.25,14.805 C13.8375,14.1375 15.75,11.7975 15.75,9 C15.75,7.3425 15.0675,5.85 13.98,4.77 L15.75,3 Z",fillOpacity:"0.3",fill:l,fillRule:"nonzero",className:c}),(0,t.jsx)("path",{d:"M8.25,12.75 L8.25,11.25 L9.75,11.25 L9.75,12.75 L8.25,12.75 Z M8.25,9.75 L8.25,5.25 L9.75,5.25 L9.75,9.75 L8.25,9.75 Z",fill:l,className:a})]})})}}}]);
//# sourceMappingURL=ba6cc55501b4526e9a80.js.map