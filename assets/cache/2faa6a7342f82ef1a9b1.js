"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[19936],{19936:(e,t,n)=>{n.r(t);n.d(t,{default:()=>Zt});var r=n(785893),s=n(667294),i=n(496486),o=n.n(i),a=n(730381),l=n.n(a),c=n(973935),u=n(388721),d=n(791462),h=n(489992),f=n(688417),g=n(620974),p=n(265123),O=n(53211),E=n(394803),S=n(832010),m=n(359590),v=n(825431);var N=(0,n(553494).B)({kind:"user",id:"2022-11_notification_redesign",label:"NotificationRedesign",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Notification Redesign Enabled",config:{enabled:!0}}]}),b=n(461061),_=n(861298),y=n(959797);function L(){return[{label:y.Z.Messages.MUTE_DURATION_15_MINUTES,value:_.Oe.MINUTES_15},{label:y.Z.Messages.MUTE_DURATION_1_HOUR,value:_.Oe.HOURS_1},{label:y.Z.Messages.MUTE_DURATION_3_HOURS,value:_.Oe.HOURS_3},{label:y.Z.Messages.MUTE_DURATION_8_HOURS,value:_.Oe.HOURS_8},{label:y.Z.Messages.MUTE_DURATION_24_HOURS,value:_.Oe.HOURS_24},{label:y.Z.Messages.MUTE_DURATION_ALWAYS,value:_.Oe.ALWAYS}]}
function C(e){return Object.keys(e).filter((function(t){return!(!(0,g.m)(e[t])&&e[t].message_notifications===b.bL.NULL)}))}var M=n(60392),j=n(356004),x=n(384995),R=n(105405),I=n(859023),T=n(624387),Z=n(146530),A=n(487502),P=n(936531),U=n.n(P);function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e){D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return D(e)}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function H(e,t){H=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return H(e,t)}var B=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1
;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=D(e);if(t){var s=D(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return G(this,n)}}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&H(e,t)}(n,e);var t=F(n);function n(){w(this,n);var e;(e=t.apply(this,arguments)).state={highlight:!1};e.unhighlight=function(){e.setState({highlight:!1})};e.handleMute=function(t,n){var r=e.props.messageNotifications;e.setMessageNotification(null!=r?r:b.bL.NULL,n)};e.handleDelete=function(){var t=e.props,n=t.onDelete,r=t.channel;e.setMessageNotification(b.bL.NULL,!1);null!=n&&n(r.id)};return e}var s=n.prototype;s.highlight=function(){var e=this;this.setState({
highlight:!0},(function(){null!=e._timeout&&clearTimeout(e._timeout);e._timeout=setTimeout(e.unhighlight,1e3)}))};s.componentWillUnmount=function(){null!=this._timeout&&clearTimeout(this._timeout)};s.setMessageNotification=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props.channel,r=n.getGuildId();null!=r&&f.Z.updateChannelOverrideSettings(r,n.id,{message_notifications:e,muted:t})};s.handleRadioChange=function(e){this.setMessageNotification(e)};s.renderMessageNotificationsRadioOption=function(e){var t=this.props,n=t.messageNotifications,s=t.guildMuted,i=t.muted,o=t.guildMessageNotifications,a=t.checkboxColor,l=n===e;null!=n&&n!==b.bL.NULL||e!==o||(l=!0);var c=Z.Z.Types.INVERTED;(i||n===b.bL.NULL||null==n)&&(c=Z.Z.Types.GHOST);return(0,r.jsx)(Z.Z,{value:!s&&l,disabled:s,shape:Z.Z.Shapes.ROUND,color:a,type:c,onChange:this.handleRadioChange.bind(this,e)})};s.renderName=function(){var e,t=this.props.channel
;null!=t.parent_id&&(e=j.Z.getChannel(t.parent_id));var n,s=(0,E.KS)(t);if(null==s)return null;if(t.type===b.d4z.GUILD_CATEGORY&&null!=t.guild_id&&""!==t.guild_id){var i=x.Z.getCategories(t.guild_id);n=y.Z.Messages.NUM_CHANNELS.format({num:null!=i[t.id]?i[t.id].length:0})}else n=null!=e?y.Z.Messages.IN_CATEGORY.format({categoryName:(0,O.F)(e,I.default,R.Z)}):y.Z.Messages.NO_CATEGORY;return(0,r.jsxs)(A.Z,{grow:1,className:U().nameContainer,children:[(0,r.jsx)(s,{className:U().icon}),(0,r.jsxs)("div",{className:U().channelNameContainer,children:[(0,r.jsx)(h.xv,{variant:"text-md/semibold",className:U().channelName,children:(0,O.F)(t,I.default,R.Z)}),(0,r.jsx)(h.xv,{variant:"text-xs/normal",className:U().channelNameByline,children:n})]})]})};s.renderOptions=function(){var e=this.props,t=e.muted,n=e.guildMuted;return(0,r.jsxs)(A.Z,{grow:0,shrink:0,className:U().checkboxGroup,justify:A.Z.Justify.AROUND,align:A.Z.Align.CENTER,children:[(0,r.jsx)(A.Z.Child,{wrap:!0,grow:0,shrink:0,
className:n?U().checkboxContainerMuted:U().checkboxContainer,children:this.renderMessageNotificationsRadioOption(b.bL.ALL_MESSAGES)}),(0,r.jsx)(A.Z.Child,{wrap:!0,grow:0,shrink:0,className:n?U().checkboxContainerMuted:U().checkboxContainer,children:this.renderMessageNotificationsRadioOption(b.bL.ONLY_MENTIONS)}),(0,r.jsx)(A.Z.Child,{wrap:!0,grow:0,shrink:0,className:n?U().checkboxContainerMuted:U().checkboxContainer,children:this.renderMessageNotificationsRadioOption(b.bL.NO_MESSAGES)}),(0,r.jsx)(A.Z.Child,{wrap:!0,grow:0,shrink:0,className:U().checkboxMute,children:(0,r.jsx)(Z.Z,{value:t,shape:Z.Z.Shapes.BOX,type:Z.Z.Types.INVERTED,onChange:this.handleMute})})]})};s.render=function(){var e=this.state.highlight;return(0,r.jsxs)(T.Z,{outline:!0,editable:!0,className:e?U().overrideHighlight:U().override,children:[this.renderName(),this.renderOptions(),(0,r.jsx)(M.Z,{className:U().removeOverride,onClick:this.handleDelete})]})};return n
}(s.PureComponent),Y=n(53551),V=n(95350),z=n(653772),X=n(390504),W=n(497762),K=n(67416),q=n(173436);function $(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Q(e){Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Q(e)}function ee(e,t){return!t||"object"!==ne(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function te(e,t){te=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return te(e,t)}var ne=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Q(e);if(t){var s=Q(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return ee(this,n)}}var se={ALL:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,mobilePushNotifications:b.bL.ALL_MESSAGES,inAppNotifications:b.bL.ALL_MESSAGES,serverUnreads:b.bL.ALL_MESSAGES,muteScheduledEvents:!1,muted:!1,muteConfig:void 0},ESSENTIALS:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,mobilePushNotifications:b.bL.ONLY_MENTIONS,inAppNotifications:b.bL.ONLY_MENTIONS,serverUnreads:b.bL.ONLY_MENTIONS,muteScheduledEvents:!1,muted:!1,muteConfig:void 0},MUTED:{suppressEveryone:!0,suppressAllRoleMentions:!0,notifyHighlights:b.gLR.DISABLED,mobilePushNotifications:b.bL.NO_MESSAGES,inAppNotifications:b.bL.NO_MESSAGES,serverUnreads:b.bL.NO_MESSAGES,muteScheduledEvents:!0,muted:!0,
muteConfig:{end_time:null}},CUSTOM:{suppressEveryone:!1,suppressAllRoleMentions:!1,notifyHighlights:b.gLR.ENABLED,mobilePushNotifications:b.bL.ONLY_MENTIONS,inAppNotifications:b.bL.ONLY_MENTIONS,serverUnreads:b.bL.ONLY_MENTIONS,muteScheduledEvents:!1,muted:!1,muteConfig:void 0}},ie=se,oe={},ae=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&te(e,t)}(n,e);var t=re(n);function n(){$(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getState=function(){return{userNotificationProfiles:ie,selectedProfiles:oe}};r.initialize=function(e){null!=e&&(ie=e.userNotificationProfiles)};r.getNotificationProfiles=function(){return ie};r.getSelectedProfile=function(e,t,n){null==oe[e]&&(oe[e]=ce(t,n));return{selectedOption:oe[e],profile:ie[oe[e]]}};r.__getLocalVars=function(){return{userNotificationProfiles:ie,
selectedProfiles:oe,convertNotificationsProfileToNotificationSettings:le,setNotificationProfile:ue,updateNotificationProfile:de,instance:he}};return n}(d.ZP.PersistedStore);ae.displayName="NotificationProfilesStore";ae.persistKey="NotificationProfilesStore";var le=function(e){return{muted:e.muted,mute_config:e.muteConfig,message_notifications:e.serverUnreads,mobile_push:e.mobilePushNotifications!==b.bL.NO_MESSAGES,suppress_everyone:e.suppressEveryone,suppress_roles:e.suppressAllRoleMentions,mute_scheduled_events:e.muteScheduledEvents,notify_highlights:e.notifyHighlights}},ce=function(e,t){if(e.muted)return"MUTED";if(e.message_notifications===b.bL.ALL_MESSAGES)return"ALL";if(t){var n,r,s,i,o,a,l,c=(ie=se).CUSTOM.mobilePushNotifications;null===e.mobile_push||void 0===e.mobile_push||e.mobile_push||(c=b.bL.NO_MESSAGES);ie.CUSTOM={muted:null!==(n=e.muted)&&void 0!==n?n:ie.CUSTOM.muted,muteConfig:null!==(r=e.mute_config)&&void 0!==r?r:ie.CUSTOM.muteConfig,
serverUnreads:null!==(s=e.message_notifications)&&void 0!==s?s:ie.CUSTOM.serverUnreads,mobilePushNotifications:c,suppressEveryone:null!==(i=e.suppress_everyone)&&void 0!==i?i:ie.CUSTOM.suppressEveryone,suppressAllRoleMentions:null!==(o=e.suppress_roles)&&void 0!==o?o:ie.CUSTOM.suppressAllRoleMentions,muteScheduledEvents:null!==(a=e.mute_scheduled_events)&&void 0!==a?a:ie.CUSTOM.muteScheduledEvents,notifyHighlights:null!==(l=e.notify_highlights)&&void 0!==l?l:ie.CUSTOM.notifyHighlights,inAppNotifications:ie.CUSTOM.inAppNotifications}}return"CUSTOM"},ue=function(e){oe[e.guildId]=e.profile;e.handleUpdate(e.guildId,le(ie[oe[e.guildId]]))},de=function(e){ie[e.profile]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){J(e,t,n[t])}))}return e
}({},ie[e.profile],e.updatedSettings);e.handleUpdate(e.guildId,le(ie[e.profile]))},he=new ae(q.Z,{GUILD_SET_NOTIFICATION_PROFILE:ue,GUILD_UPDATE_NOTIFICATION_PROFILE:de});const fe=he;var ge=n(757987),pe=n(983319),Oe=n(604175),Ee=n(81335),Se=n(521495),me=n(90816),ve=n(666812),Ne=n.n(ve);function be(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _e(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function ye(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Le(e,t){
return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return be(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ce=function(e){var t=j.Z.getChannel(e.value);if(null==t)return e.label;var n=j.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,
r.jsx)(Ee.Z,{icon:(0,E.KS)(t),title:e.label,subtitle:s})};function Me(e){var t=e.channelOverrides,n=e.guildMuted,i=e.channels,a=e.messageNotifications,l=e.categories,c=Le(s.useState(new Set(C(t))),2),u=c[0],d=c[1],f=function(e){var t=new Set(u);t.delete(e);d(t)},p=(0,S.Sl)(b.Ilk.STATUS_GREEN_600).hex,E=o()(i).filter((function(e){var t=e.channel;return t.type!==b.d4z.GUILD_CATEGORY||null!=l[t.id]&&l[t.id].length>0})).map((function(e){var t=e.channel;return{value:t.id,label:(0,O.F)(t,I.default,R.Z)}})).value(),m=i.map((function(e){var s=e.channel;if(!u.has(s.id)||null!=l[s.id]&&0===l[s.id].length)return null;var i=t[s.id];return(0,r.jsx)(k,{channel:s,guildMuted:n,muted:null!=i&&(0,g.m)(i),messageNotifications:null!=i?i.message_notifications:null,guildMessageNotifications:a,onDelete:f,checkboxColor:p},s.id)})).filter(me.lm);0!==u.size&&0!==m.length||m.push((0,r.jsx)("div",{className:Ne().overridePlaceholder,children:(0,r.jsx)(h.xv,{className:Ne().overrideHeader,variant:"text-sm/semibold",
children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE})},"placeholder"));return(0,r.jsxs)("div",{className:Ne().container,children:[(0,r.jsxs)(pe.Z,{title:y.Z.Messages.NOTIFICATION_OVERRIDES,className:Ne().largeSpacing,children:[(0,r.jsx)(Oe.Z,{type:Oe.Z.Types.DESCRIPTION,className:Ne().smallSpacing,children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE}),(0,r.jsx)(Se.Z,{value:"",placeholder:y.Z.Messages.SELECT_CHANNEL_OR_CATEGORY,renderOptionLabel:Ce,options:E,onChange:function(e){if(null!=e){var t=new Set(u);t.add(e);d(t)}}})]}),(0,r.jsxs)("div",{className:Ne().overrideList,children:[(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(h.X6,{variant:"eyebrow",className:Ne().headerName,children:y.Z.Messages.CHANNEL_OR_CATEGORY}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Ne().headerOption,children:y.Z.Messages.FORM_LABEL_ALL}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Ne().headerOption,children:y.Z.Messages.FORM_LABEL_MENTIONS}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Ne().headerOption,
children:y.Z.Messages.FORM_LABEL_NOTHING}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:Ne().headerOption,children:(0,r.jsx)(ge.ZP,{text:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:ge.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)("span",ye(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){_e(e,t,n[t])}))}return e}({},e),{children:y.Z.Messages.SOUND_MUTE}))}})})]}),m]})]})}var je=n(138402),xe=n(946596),Re=n(680977),Ie=n(240243);function Te(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Ze(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e)
;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ae(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function Pe(e){var t=e.width,n=void 0===t?16:t,s=e.height,i=void 0===s?16:s,o=e.color,a=void 0===o?"currentColor":o,l=Ae(e,["width","height","color"]);return(0,r.jsxs)("svg",Ze(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Te(e,t,n[t])}))}return e}({},(0,Ie.Z)(l)),{width:n,height:i,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsxs)("g",{"clip-path":"url(#clip0_3523_134157)",children:[(0,r.jsx)("path",{
d:"M22.2856 1.81423L23.7697 2.6283C23.8391 2.66388 23.8973 2.71794 23.9379 2.78452C23.9785 2.8511 24 2.92762 24 3.00565C24 3.08369 23.9785 3.16021 23.9379 3.22679C23.8973 3.29337 23.8391 3.34743 23.7697 3.38301L22.2856 4.18577C22.2402 4.21036 22.2029 4.24769 22.1784 4.29318L21.3657 5.77999C21.3292 5.8466 21.2755 5.90217 21.2103 5.94087C21.145 5.97958 21.0705 6 20.9947 6C20.9188 6 20.8444 5.97958 20.7791 5.94087C20.7138 5.90217 20.6601 5.8466 20.6236 5.77999L19.811 4.29318C19.7869 4.24903 19.7507 4.21273 19.7066 4.1886L18.2196 3.37453C18.1531 3.33797 18.0977 3.28418 18.059 3.21879C18.0204 3.1534 18 3.07881 18 3.00283C18 2.92684 18.0204 2.85225 18.059 2.78686C18.0977 2.72147 18.1531 2.66768 18.2196 2.63112L19.7038 1.81706C19.7486 1.79172 19.7857 1.75458 19.811 1.70964L20.6265 0.220011C20.663 0.153397 20.7166 0.0978302 20.7819 0.0591255C20.8472 0.0204207 20.9216 0 20.9975 0C21.0734 0 21.1478 0.0204207 21.2131 0.0591255C21.2784 0.0978302 21.3321 0.153397 21.3685 0.220011L22.1812 1.70682C22.2057 1.75138 22.2418 1.78849 22.2856 1.81423Z",
fill:a}),(0,r.jsx)("path",{
d:"M14.9888 9.50624L18.7402 11.5593C18.8189 11.6025 18.8845 11.666 18.9302 11.7433C18.9759 11.8205 19 11.9086 19 11.9983C19 12.0881 18.9759 12.1762 18.9302 12.2534C18.8845 12.3306 18.8189 12.3941 18.7402 12.4373L14.9855 14.4904C14.7769 14.6044 14.6055 14.7759 14.4915 14.9845L12.4389 18.7402C12.3957 18.8188 12.3322 18.8845 12.255 18.9302C12.1778 18.9759 12.0897 19 12 19C11.9103 19 11.8222 18.9759 11.745 18.9302C11.6678 18.8845 11.6043 18.8188 11.5611 18.7402L9.50851 14.9845C9.39437 14.776 9.22297 14.6046 9.01454 14.4904L5.25978 12.4373C5.18112 12.3941 5.11551 12.3306 5.06981 12.2534C5.02411 12.1762 5 12.0881 5 11.9983C5 11.9086 5.02411 11.8205 5.06981 11.7433C5.11551 11.666 5.18112 11.6025 5.25978 11.5593L9.01454 9.49289C9.22319 9.37903 9.39467 9.20751 9.50851 8.99881L11.5644 5.25984C11.6076 5.18117 11.6711 5.11554 11.7483 5.06983C11.8255 5.02412 11.9136 5 12.0033 5C12.0931 5 12.1811 5.02412 12.2583 5.06983C12.3356 5.11554 12.3991 5.18117 12.4422 5.25984L14.4948 8.99881C14.6066 9.21244 14.7783 9.3888 14.9888 9.50624Z",
fill:a})]}),(0,r.jsx)("defs",{children:(0,r.jsx)("clipPath",{id:"clip0_3523_134157",children:(0,r.jsx)("rect",{width:"24",height:"24",fill:a})})})]}))}var Ue,we=n(740435),De=n(294184),Ge=n.n(De),He=n(601465),Be=n(736488);!function(e){e.MUTED="muted";e.SERVER_UNREADS="serverUnreads";e.SUPPRESS_EVERYONE="suppressEveryone";e.SUPPRESS_ROLES="suppressAllRoleMentions";e.MOBILE_PUSH="mobilePushNotifications";e.MUTE_EVENTS="muteScheduledEvents";e.NOTIFY_HIGHLIGHTS="notifyHighlights";e.MUTE_CONFIG="muteConfig"}(Ue||(Ue={}));var Fe=n(925714),ke=n.n(Fe);function Ye(e){var t=e.guild,n=e.suppressEveryone,i=e.suppressRoles,o=e.mobilePush,a=e.serverUnreads,l=e.notifyHighlights,c=s.useMemo((function(){return[{value:b.bL.ALL_MESSAGES,label:y.Z.Messages.USER_UNREADS_ALL_MESSAGES},{value:b.bL.ONLY_MENTIONS,label:y.Z.Messages.USER_UNREADS_MENTIONS_AND_HIGHLIGHTS},{value:b.bL.NO_MESSAGES,label:y.Z.Messages.USER_UNREADS_NULL}]}),[]);return(0,r.jsx)("div",{className:Ge()(ke().largeSpacing,ke().container),
children:(0,r.jsxs)(pe.Z,{children:[(0,r.jsxs)("div",{className:ke().dropDownContainer,children:[(0,r.jsx)(h.xv,{variant:"text-md/medium",children:y.Z.Messages.MOBILE_PUSH}),(0,r.jsx)(He.Z,{value:o,className:ke().dropDown,options:c,onChange:function(e){f.Z.handleSelectChange("CUSTOM",Ue.MOBILE_PUSH,e.value,t)}})]}),(0,r.jsxs)("div",{className:ke().dropDownContainer,children:[(0,r.jsxs)(h.xv,{variant:"text-md/medium",children:[" ",y.Z.Messages.SERVER_UNREADS]}),(0,r.jsx)(He.Z,{value:a,className:ke().dropDown,options:c,onChange:function(e){f.Z.handleSelectChange("CUSTOM",Ue.SERVER_UNREADS,e.value,t)}})]}),(0,r.jsx)(Be.Z,{className:ke().switchItemContainer,onChange:function(e){return f.Z.handleCheckboxChange("CUSTOM",Ue.SUPPRESS_EVERYONE,!e,t)},hideBorder:!0,value:!n,children:y.Z.Messages.NOTIFY_AT_EVERYONE}),(0,r.jsx)(Be.Z,{className:ke().switchItemContainer,onChange:function(e){return f.Z.handleCheckboxChange("CUSTOM",Ue.SUPPRESS_ROLES,!e,t)},hideBorder:!0,value:!i,
children:y.Z.Messages.NOTIFY_ROLES}),(0,r.jsx)(Be.Z,{className:ke().switchItemContainer,onChange:function(e){return f.Z.handleHighlightsChange("CUSTOM",e?b.gLR.ENABLED:b.gLR.DISABLED,t)},hideBorder:!0,value:l===b.gLR.ENABLED,children:y.Z.Messages.NOTIFY_HIGHLIGHTS}),(0,r.jsx)(h.xv,{className:ke().highlightsText,variant:"text-xs/normal",children:y.Z.Messages.NOTIFY_HIGHLIGHTS_DESC})]})})}var Ve=n(969225),ze=n(254580),Xe=n(609993),We=n(255061),Ke=n.n(We);function qe(e){var t=e.setting,n=e.guild,s=function(e){switch(e){case b.bL.ALL_MESSAGES:return y.Z.Messages.USER_UNREADS_ALL_MESSAGES;case b.bL.ONLY_MENTIONS:return y.Z.Messages.USER_UNREADS_MENTIONS_AND_HIGHLIGHTS;case b.bL.NO_MESSAGES:return y.Z.Messages.USER_UNREADS_NULL}}(t),i=(0,S.Sl)(Xe.Il.WHITE_500).hex;return(0,r.jsxs)("div",{className:Ke().container,children:[(0,r.jsxs)("div",{className:Ke().settingContainer,children:[(0,r.jsxs)("div",{className:Ke().guildIconContainer,children:[t!=b.bL.NO_MESSAGES&&(0,r.jsx)("div",{
className:Ke().semiCircle}),(0,r.jsx)(Ve.Z,{guild:n,size:Ve.Z.Sizes.SMALLER})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.xv,{variant:"text-xs/normal",children:y.Z.Messages.SERVER_UNREAD_BADGE}),(0,r.jsx)(h.xv,{variant:"text-sm/medium",children:s})]})]}),(0,r.jsxs)("div",{className:Ke().settingContainer,children:[(0,r.jsxs)("div",{className:Ke().discordIconContainer,children:[(0,r.jsx)(ze.Z,{width:24,height:24,color:i}),t!=b.bL.NO_MESSAGES&&(0,r.jsx)("div",{className:Ke().notificationBadge,children:(0,r.jsx)(h.xv,{className:Ke().messageCount,variant:"text-xs/bold",children:"3"})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)(h.xv,{variant:"text-xs/normal",children:y.Z.Messages.MOBILE_PUSH}),(0,r.jsx)(h.xv,{variant:"text-sm/medium",children:s})]})]})]})}function $e(e){var t=e.guild,n=e.suppressEveryone,s=e.suppressRoles,i=e.notifyHighlights;return(0,r.jsxs)("div",{className:ke().container,children:[(0,r.jsx)(qe,{setting:b.bL.ONLY_MENTIONS,guild:t}),(0,r.jsx)("div",{className:ke().divider
}),(0,r.jsx)("div",{className:ke().largeSpacing,children:(0,r.jsxs)(pe.Z,{children:[(0,r.jsx)(Be.Z,{onChange:function(e){return f.Z.handleCheckboxChange("ESSENTIALS",Ue.SUPPRESS_EVERYONE,!e,t)},hideBorder:!0,value:!n,children:y.Z.Messages.NOTIFY_AT_EVERYONE}),(0,r.jsx)(Be.Z,{onChange:function(e){return f.Z.handleCheckboxChange("ESSENTIALS",Ue.SUPPRESS_ROLES,!e,t)},hideBorder:!0,value:!s,children:y.Z.Messages.NOTIFY_ROLES}),(0,r.jsx)(Be.Z,{className:ke().switchItemContainer,onChange:function(e){return f.Z.handleHighlightsChange("ESSENTIALS",e?b.gLR.ENABLED:b.gLR.DISABLED,t)},hideBorder:!0,value:i===b.gLR.ENABLED,children:y.Z.Messages.NOTIFY_HIGHLIGHTS}),(0,r.jsx)(h.xv,{className:ke().highlightsText,variant:"text-xs/normal",children:y.Z.Messages.NOTIFY_HIGHLIGHTS_DESC})]})})]})}function Je(e){var t,n=e.guild,s=e.muteConfig,i=null!==(t=null==s?void 0:s.selected_time_window)&&void 0!==t?t:_.Oe.ALWAYS;return(0,r.jsxs)("div",{className:ke().container,children:[(0,r.jsx)(qe,{
setting:b.bL.NO_MESSAGES,guild:n}),(0,r.jsx)("div",{className:ke().divider}),(0,r.jsx)("div",{className:ke().largeSpacing,children:(0,r.jsx)(pe.Z,{children:(0,r.jsxs)("div",{className:ke().dropDownContainer,children:[(0,r.jsxs)(h.xv,{variant:"text-md/medium",children:[" ",y.Z.Messages.MUTE_DURATION]}),(0,r.jsx)(He.Z,{value:i,className:ke().dropDown,options:L(),onChange:function(e){f.Z.handleMuteConfigChange(Ue.MUTE_CONFIG,e.value,n)}})]})})})]})}var Qe=n(21053),et=n.n(Qe);function tt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function rt(e){var t=e.selectedProfile,n=e.userNotificationProfiles,s=e.guild,i=Object.entries(n);if(null==s)return null;var o=i.map((function(e){var t=e[0],n=e[1],i=function(e){switch(e){case"ALL":return{name:y.Z.Messages.ALL_PROFILE_TITLE,desc:y.Z.Messages.ALL_PROFILE_DESC,icon:xe.Z};case"ESSENTIALS":return{name:y.Z.Messages.ESSENTIALS_PROFILE_TITLE,desc:y.Z.Messages.ESSENTIALS_PROFILE_DESC,icon:Pe};case"MUTED":return{name:y.Z.Messages.MUTED_PROFILE_NAME,desc:y.Z.Messages.MUTED_PROFILE_DESC,icon:Re.Z};case"CUSTOM":return{name:y.Z.Messages.CUSTOM_PROFILE_NAME,desc:y.Z.Messages.CUSTOM_PROFILE_DESC,icon:we.Z}}}(t),o=function(e,t,n){switch(e){case"ALL":return(0,r.jsx)(qe,{setting:b.bL.ALL_MESSAGES,guild:n});case"ESSENTIALS":return(0,r.jsx)($e,{guild:n,suppressEveryone:t.suppressEveryone,suppressRoles:t.suppressAllRoleMentions,notifyHighlights:t.notifyHighlights});case"MUTED":return(0,r.jsx)(Je,{guild:n,
muteConfig:t.muteConfig});case"CUSTOM":return(0,r.jsx)(Ye,{guild:n,suppressEveryone:t.suppressEveryone,suppressRoles:t.suppressAllRoleMentions,mobilePush:t.mobilePushNotifications,serverUnreads:t.serverUnreads,notifyHighlights:t.notifyHighlights})}}(t,n,s);return nt(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tt(e,t,n[t])}))}return e}({},i),{value:t,radioItemIconClassName:et().radioIcon,collapsibleContent:o})}));return(0,r.jsx)(je.ZP,{options:o,value:t,onChange:function(e){f.Z.handleProfileChange(e,s)},radioItemClassName:et().radioItem})}var st=n(704166),it=n.n(st);function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function at(e,t,n){t in e?Object.defineProperty(e,t,{value:n,
enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function lt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function ct(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(r=n.next()).done);o=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){a=!0;s=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw s}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ot(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name)
;if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ot(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ut=function(e){var t,n=e.guildId,i=e.guild,o=e.muted,a=e.muteConfig,l=e.messageNotifications,c=e.mobilePush,u=e.suppressEveryone,f=e.suppressRoles,g=e.notifyHighlights,p=e.muteEvents,O=e.channelOverrides,E=e.categories,S=e.channels,m=e.transitionState,v=e.onClose,N=ct(s.useState("SERVER_NOTIFICATIONS"),2),b=N[0],_=N[1],L=(0,d.cj)([fe],(function(){return{userNotificationProfiles:fe.getNotificationProfiles(),selectedProfile:fe.getSelectedProfile(n,{muted:o,mute_config:a,message_notifications:l,mobile_push:c,suppress_everyone:u,suppress_roles:f,notify_highlights:g},!0)}}),[]),C=L.userNotificationProfiles,M=L.selectedProfile;if(null==i||null==C||null==M)return null;switch(b){
case"SERVER_NOTIFICATIONS":t=(0,r.jsx)(rt,{guildId:n,guild:i,muted:o,muteConfig:a,messageNotifications:l,mobilePush:c,suppressEveryone:u,suppressRoles:f,selectedProfile:M.selectedOption,userNotificationProfiles:C,muteEvents:p});break;case"CHANNEL_OVERRIDES":t=(0,r.jsx)(Me,{guildMuted:o,messageNotifications:l,channelOverrides:O,categories:E,channels:S})}return(0,r.jsxs)(K.Y0,{className:it().modal,"aria-label":y.Z.Messages.NOTIFICATION_SETTINGS,size:K.Cg.MEDIUM,transitionState:m,children:[(0,r.jsxs)(K.xB,{children:[(0,r.jsxs)(A.Z.Child,{children:[(0,r.jsx)(h.X6,{variant:"heading-lg/semibold",children:y.Z.Messages.NOTIFICATION_SETTINGS}),(0,r.jsx)(h.xv,{className:it().subtitleText,variant:"text-xs/normal",children:i.name})]}),(0,r.jsx)(A.Z.Child,{grow:0,children:(0,r.jsx)(K.ol,{onClick:v})})]}),(0,r.jsxs)(K.hz,{className:it().content,children:[(0,r.jsxs)(W.ZP,{className:it().tabBar,type:W.ZP.Types.TOP,look:W.ZP.Looks.BRAND,selectedItem:b,onItemSelect:_,children:[(0,r.jsx)(W.ZP.Item,{
className:it().tabBarItem,id:"SERVER_NOTIFICATIONS",children:y.Z.Messages.SERVER_NOTIFICATIONS_TAB},"SERVER_NOTIFICATIONS"),(0,r.jsx)(W.ZP.Item,{className:it().tabBarItem,id:"CHANNEL_OVERRIDES",children:y.Z.Messages.CHANNEL_OVERRIDES_TAB},"CHANNEL_OVERRIDES")]}),t]})]})};function dt(e){var t=e.guildId,n=lt(e,["guildId"]),s=(0,v.RX)(),i=(0,d.cj)([x.Z,z.Z,V.Z,X.Z],(function(){var e=x.Z.getCategories(t);return{guildId:t,categories:e,guild:z.Z.getGuild(t),memberCount:V.Z.getMemberCount(t),suppressEveryone:X.Z.isSuppressEveryoneEnabled(t),suppressRoles:X.Z.isSuppressRolesEnabled(t),muteEvents:X.Z.isMuteScheduledEventsEnabled(t),mobilePush:X.Z.isMobilePushEnabled(t),muted:X.Z.isMuted(t),muteConfig:X.Z.getMuteConfig(t),messageNotifications:X.Z.getMessageNotifications(t),channelOverrides:X.Z.getChannelOverrides(t),channels:(0,p.Z)(e._categories,e,(function(e){var t=e.channel.type;return(0,Y.r8)(t)||t===b.d4z.GUILD_CATEGORY})),notifyHighlights:X.Z.getNotifyHighlights(t),showUnreadsSettings:s,
isGuildUnreadsEnabled:X.Z.isGuildUnreadSettingEnabled(t)}}));return(0,r.jsx)(ut,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){at(e,t,n[t])}))}return e}({},i,n))}var ht=n(893673),ft=n(892472),gt=n(191940),pt=n(15063),Ot=n(962271),Et=n(226300),St=n(632895),mt=n(95467);function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nt(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function bt(e){bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return bt(e)}function _t(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nt(e,t,n[t])}))}return e}function yt(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Lt(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n,r,s={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(s[n]=e[n])}return s}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}}return s}function Ct(e,t){return!t||"object"!==xt(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Mt(e,t){Mt=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Mt(e,t)}var jt,xt=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Rt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=bt(e);if(t){var s=bt(this).constructor;n=Reflect.construct(r,arguments,s)}else n=r.apply(this,arguments);return Ct(this,n)}}!function(e){e.MUTED="muted";e.MESSAGE_NOTIFICATIONS="message_notifications"
;e.SUPPRESS_EVERYONE="suppress_everyone";e.SUPPRESS_ROLES="suppress_roles";e.MOBILE_PUSH="mobile_push";e.MUTE_EVENTS="mute_scheduled_events";e.NOTIFY_HIGHLIGHTS="notify_highlights"}(jt||(jt={}));function It(e){return[{name:y.Z.Messages.FORM_LABEL_ALL_MESSAGES,value:b.bL.ALL_MESSAGES,desc:null!=e&&e>=b.qWG?y.Z.Messages.LARGE_GUILD_NOTIFY_ALL_MESSAGES_DESCRIPTION:null},{name:y.Z.Messages.FORM_LABEL_ONLY_MENTIONS.format(),value:b.bL.ONLY_MENTIONS},{name:y.Z.Messages.FORM_LABEL_NOTHING,value:b.bL.NO_MESSAGES}]}var Tt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Mt(e,t)}(n,e);var t=Rt(n);function n(){vt(this,n);var e;(e=t.apply(this,arguments))._scroller=null;e._channelRefs={};e.state={overrides:new Set(C(e.props.channelOverrides)),channelOverridesProp:e.props.channelOverrides,lastSelected:null}
;e.setScrollerRef=function(t){e._scroller=t};e.handleSelectChange=function(t){if(null!=t){var n=e.state.overrides;(n=new Set(n)).add(t);e.setState({overrides:n,lastSelected:t})}};e.handleSelectMuteTime=function(t){var n=t>0?l()().add(t,"second").toISOString():null;f.Z.updateGuildNotificationSettings(e.props.guildId,{muted:!0,mute_config:{selected_time_window:t,end_time:n}})};e.handleDeleteOverride=function(t){var n=e.state.overrides;(n=new Set(n)).delete(t);e.setState({overrides:n})};e.renderOptionLabel=function(e){var t=j.Z.getChannel(e.value);if(null==t)return e.label;var n=j.Z.getChannel(t.parent_id),s=null!=n?n.name:null;return(0,r.jsx)(Ee.Z,{icon:(0,E.KS)(t),title:e.label,subtitle:s})};return e}var s=n.prototype;s.componentDidUpdate=function(e,t){var n=this,r=this.state.lastSelected,s=null!=r?this._channelRefs[r]:null;if(null!=this._scroller&&null!=s&&r!==t.lastSelected){var i=(0,c.findDOMNode)(s);if(null!=this._scroller&&(0,u.k)(i,HTMLElement)){var o
;null===(o=this._scroller)||void 0===o||o.scrollIntoViewNode({node:i,animate:!0,padding:20,callback:function(){return n.setState({lastSelected:null})}});s.highlight()}}if(this.props.channelOverrides!==e.channelOverrides){var a=this.state.overrides;a=new Set(a);C(this.props.channelOverrides).forEach((function(e){return a.add(e)}));this.setState({overrides:a})}};s.handleCheckboxChange=function(e,t){f.Z.updateGuildNotificationSettings(this.props.guildId,Nt({},e,t))};s.handleRadioChange=function(e,t){var n=t.value;f.Z.updateGuildNotificationSettings(this.props.guildId,Nt({},e,n))};s.renderHeader=function(){var e=this.props.guild;return null==e?null:(0,r.jsxs)(K.xB,{children:[(0,r.jsxs)(A.Z.Child,{children:[(0,r.jsx)(h.X6,{variant:"heading-lg/semibold",children:y.Z.Messages.NOTIFICATION_SETTINGS}),(0,r.jsx)(h.xv,{variant:"text-md/normal",className:U().guildName,children:e.name})]}),(0,r.jsx)(A.Z.Child,{grow:0,children:(0,r.jsx)(K.ol,{onClick:this.props.onClose})})]})}
;s.renderFooter=function(){return(0,r.jsx)(K.mz,{children:(0,r.jsx)(gt.Co,{onClick:this.props.onClose,children:y.Z.Messages.DONE})})};s.renderMute=function(){var e,t=this.props,n=t.muted,s=t.muteConfig,i=t.guild,o=null!==(e=null==s?void 0:s.selected_time_window)&&void 0!==e?e:_.Oe.ALWAYS;return null==i?null:(0,r.jsxs)(pe.Z,{className:U().largeSpacing,children:[(0,r.jsx)(Be.Z,{hideBorder:!0,value:n,onChange:this.handleCheckboxChange.bind(this,jt.MUTED),note:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,children:y.Z.Messages.FORM_LABEL_MUTE_SERVER.format({name:i.name})}),n?(0,r.jsxs)(A.Z,{className:U().spacing,align:A.Z.Align.CENTER,children:[(0,r.jsxs)(A.Z,{direction:A.Z.Direction.VERTICAL,className:U().muteUntilTextWrapper,children:[(0,r.jsx)(Ot.Z,{tag:"h3",className:U().muteUntilTitle,children:y.Z.Messages.MUTE_UNTIL}),(0,r.jsx)(ht.Z,{className:U().muteUntilText,muteConfig:s})]}),(0,r.jsx)(St.q4,{className:U().muteTimeSelector,options:L(),value:o,onChange:this.handleSelectMuteTime
})]}):null,(0,r.jsx)(pt.Z,{})]})};s.renderServerSettings=function(){var e=this.props,t=e.messageNotifications,n=e.muted,s=e.memberCount;return(0,r.jsxs)("div",{className:U().spacing,children:[(0,r.jsx)(pe.Z,{title:y.Z.Messages.FORM_LABEL_SERVER_NOTIFICATION_SETTINGS,className:U().largeSpacing,children:(0,r.jsx)(je.ZP,{disabled:n,value:t,onChange:this.handleRadioChange.bind(this,jt.MESSAGE_NOTIFICATIONS),options:It(s)})}),(0,r.jsx)(pt.Z,{})]})};s.renderUnreadsOptions=function(){var e=this.props,t=e.isGuildUnreadsEnabled,n=e.muted,s=e.guildId;return(0,r.jsx)(pe.Z,{children:(0,r.jsx)(Be.Z,{onChange:function(e){(0,m.EQ)(s,e)},value:!n&&t,disabled:n,note:(0,r.jsx)(h.xv,{variant:"text-sm/normal",children:y.Z.Messages.FORM_LABEL_UNREAD_SETTINGS_OPT_IN_NOTE}),children:(0,r.jsxs)(r.Fragment,{children:[y.Z.Messages.FORM_LABEL_UNREAD_SETTINGS_OPT_IN,(0,r.jsx)(Et.IG,{text:y.Z.Messages.BETA,color:(0,S.Lq)(b.Ilk.BRAND_500),className:U().betaTag})]})})})};s.renderNotificationOptions=function(){
var e=this.props,t=e.suppressEveryone,n=e.suppressRoles,s=e.mobilePush,i=e.muted,o=e.muteEvents,a=e.notifyHighlights,l=e.guildId;return(0,r.jsxs)(pe.Z,{className:U().largeSpacing,children:[(0,r.jsx)(Be.Z,{onChange:this.handleCheckboxChange.bind(this,jt.SUPPRESS_EVERYONE),value:t,children:y.Z.Messages.FORM_LABEL_SUPPRESS_EVERYONE.format()}),(0,r.jsx)(Be.Z,{onChange:this.handleCheckboxChange.bind(this,jt.SUPPRESS_ROLES),value:n,children:y.Z.Messages.FORM_LABEL_SUPPRESS_ROLES}),(0,r.jsx)(Be.Z,{onChange:function(e){f.Z.updateGuildNotificationSettings(l,Nt({},jt.NOTIFY_HIGHLIGHTS,e?b.gLR.DISABLED:b.gLR.ENABLED))},value:i||a===b.gLR.DISABLED,disabled:i,note:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.xv,{variant:"text-sm/normal",children:y.Z.Messages.FORM_LABEL_SUPPRESS_HIGHLIGHTS_NOTE}),(0,r.jsx)("div",{className:U().highlightsLink,children:(0,r.jsx)(ft.Z,{href:mt.Z.getArticleURL(b.BhN.HIGHLIGHTS),children:y.Z.Messages.HIGHLIGHTS_LEARN_MORE})})]}),children:(0,r.jsx)(r.Fragment,{
children:y.Z.Messages.FORM_LABEL_SUPPRESS_HIGHLIGHTS})}),(0,r.jsx)(Be.Z,{value:o,onChange:this.handleCheckboxChange.bind(this,jt.MUTE_EVENTS),children:y.Z.Messages.FORM_LABEL_MUTE_SCHEDULED_EVENTS}),(0,r.jsx)(Be.Z,{value:!i&&s,disabled:i,onChange:this.handleCheckboxChange.bind(this,jt.MOBILE_PUSH),children:y.Z.Messages.FORM_LABEL_MOBILE_PUSH_NOTIFICATIONS})]})};s.renderOverrideSelect=function(){var e=this.props,t=e.channels,n=e.categories,s=o()(t).filter((function(e){var t=e.channel;return t.type!==b.d4z.GUILD_CATEGORY||null!=n[t.id]&&n[t.id].length>0})).map((function(e){var t=e.channel;return{value:t.id,label:(0,O.F)(t,I.default,R.Z)}})).value();return(0,r.jsxs)(pe.Z,{title:y.Z.Messages.NOTIFICATION_OVERRIDES,className:U().largeSpacing,children:[(0,r.jsx)(Oe.Z,{type:Oe.Z.Types.DESCRIPTION,className:U().smallSpacing,children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE}),(0,r.jsx)(Se.Z,{value:"",placeholder:y.Z.Messages.SELECT_CHANNEL_OR_CATEGORY,renderOptionLabel:this.renderOptionLabel,
options:s,onChange:this.handleSelectChange})]})};s.renderChannelNotifications=function(){var e=this,t=this.props,n=t.channelOverrides,s=t.muted,i=t.channels,o=t.messageNotifications,a=t.categories,l=t.checkboxColor,c=this.state.overrides,u=i.map((function(t){var i=t.channel;if(!c.has(i.id)||null!=a[i.id]&&0===a[i.id].length)return null;var u=n[i.id];return(0,r.jsx)(k,{ref:function(t){e._channelRefs[i.id]=t},channel:i,guildMuted:s,muted:null!=u&&(0,g.m)(u),messageNotifications:null!=u?u.message_notifications:null,guildMessageNotifications:o,onDelete:e.handleDeleteOverride,checkboxColor:l},i.id)})).filter(me.lm);0!==c.size&&0!==u.length||u.push((0,r.jsx)("div",{className:U().overridePlaceholder,children:(0,r.jsx)(h.xv,{className:U().overrideHeader,variant:"text-sm/semibold",children:y.Z.Messages.ADD_CHANNEL_TO_OVERRIDE})},"placeholder"));return(0,r.jsxs)("div",{className:U().overrideList,children:[(0,r.jsxs)(A.Z,{children:[(0,r.jsx)(h.X6,{variant:"eyebrow",className:U().headerName,
children:y.Z.Messages.CHANNEL_OR_CATEGORY}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:U().headerOption,children:y.Z.Messages.FORM_LABEL_ALL}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:U().headerOption,children:y.Z.Messages.FORM_LABEL_MENTIONS}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:U().headerOption,children:y.Z.Messages.FORM_LABEL_NOTHING}),(0,r.jsx)(h.X6,{variant:"eyebrow",className:U().headerOption,children:(0,r.jsx)(ge.ZP,{text:y.Z.Messages.FORM_LABEL_MUTE_SERVER_DESCRIPTION,position:ge.ZP.Positions.BOTTOM,children:function(e){return(0,r.jsx)("span",yt(_t({},e),{children:y.Z.Messages.SOUND_MUTE}))}})})]}),u]})};s.render=function(){var e=this.props.showUnreadsSettings;return(0,r.jsxs)(K.Y0,{"aria-label":y.Z.Messages.NOTIFICATION_SETTINGS,size:K.Cg.MEDIUM,transitionState:this.props.transitionState,children:[this.renderHeader(),(0,r.jsxs)(K.hz,{scrollerRef:this.setScrollerRef,
children:[this.renderMute(),this.renderServerSettings(),e&&this.renderUnreadsOptions(),this.renderNotificationOptions(),this.renderOverrideSelect(),this.renderChannelNotifications()]}),this.renderFooter()]})};n.getDerivedStateFromProps=function(e,t){var n=t.overrides,r=t.channelOverridesProp;if(e.channelOverrides!==r){n=new Set(n);C(e.channelOverrides).forEach((function(e){return n.add(e)}));return{overrides:n,channelOverridesProp:e.channelOverrides}}return null};return n}(s.PureComponent);function Zt(e){var t=e.guildId,n=Lt(e,["guildId"]),s=(0,v.RX)(),i=N.useExperiment({},{autoTrackExposure:!0}).enabled,o=(0,d.cj)([x.Z,z.Z,V.Z,X.Z],(function(){var e=x.Z.getCategories(t);return{guildId:t,categories:e,guild:z.Z.getGuild(t),memberCount:V.Z.getMemberCount(t),suppressEveryone:X.Z.isSuppressEveryoneEnabled(t),suppressRoles:X.Z.isSuppressRolesEnabled(t),muteEvents:X.Z.isMuteScheduledEventsEnabled(t),mobilePush:X.Z.isMobilePushEnabled(t),muted:X.Z.isMuted(t),muteConfig:X.Z.getMuteConfig(t),
messageNotifications:X.Z.getMessageNotifications(t),channelOverrides:X.Z.getChannelOverrides(t),channels:(0,p.Z)(e._categories,e,(function(e){var t=e.channel.type;return(0,Y.r8)(t)||t===b.d4z.GUILD_CATEGORY})),notifyHighlights:X.Z.getNotifyHighlights(t),showUnreadsSettings:s,isGuildUnreadsEnabled:X.Z.isGuildUnreadSettingEnabled(t)}})),a=(0,S.Sl)(b.Ilk.STATUS_GREEN_600).hex,l=i?dt:Tt;return(0,r.jsx)(l,yt(_t({},o,n),{checkboxColor:a}))}}}]);
//# sourceMappingURL=2faa6a7342f82ef1a9b1.js.map