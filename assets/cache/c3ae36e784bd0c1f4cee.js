(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[66058],{8395:(e,t,n)=>{e.exports=n.p+"1fe68f65b459ac02929bb531fead064b.svg"},442055:(e,t,n)=>{"use strict";n.r(t);n.d(t,{default:()=>ms});var r=n(785893),o=n(667294),i=n(791462),a=n(684552),c=n(430023),l=n(35599),u=n(108994),s=n(698532),f=n(245556),d=n(520571),p=n(733621),h=n(420202),y=n(577990),v=n(88414),b=n(440455),g=n(294184),m=n.n(g),O=n(472631),S=n(587156),E=n(655695),w=n(629590),j=n(213192),_=n.n(j),C=n(191940),P=n(996810),Z=n.n(P),I=function(e){var t=e.keybind,n=e.separator,i=e.className;return(0,r.jsx)(r.Fragment,{children:t.map((function(e,a){return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("span",{className:m()(Z().key,i),children:e}),a===t.length-1?void 0:n]},a)}))})};I.defaultProps={separator:"+"};const x=I;var N=n(719455),T=n(766936),R=n(959797),A=n(959454),k=n.n(A),M=n(380203),D=n.n(M);function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n
;return e}function V(e){V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return V(e)}function B(e,t){return!t||"object"!==z(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function U(e,t){U=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return U(e,t)}var z=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function G(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return B(this,n)}}var Y=function(e){return e.stopPropagation()
},W=function(){return(0,r.jsx)("div",{className:k().clickBlocker,onClick:Y,onMouseEnter:Y,onMouseOver:Y})},H=function(){return(0,r.jsx)("div",{className:k().divider})},F=function(e,t,n){return(0,r.jsx)("div",{className:k().keybindMessage,children:n.format({keybind:t,keybindHook:function(e,n){return(0,r.jsx)(x,{keybind:t,className:k().keybind},n)}})})},K=_()({PRIMARY:null,BRAND:null,DANGER:null}),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&U(e,t)}(n,e);var t=G(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleDismiss=function(e){e.stopPropagation();var t=r.props.onDismissClick;null==t||t(e)};r.handleConfirmClick=function(e){e.stopPropagation();var t=r.props.onConfirmClick;null==t||t(e)}
;r.handleCancelClick=function(e){e.stopPropagation();var t=r.props.onCancelClick;null==t||t(e)};r.handleMouseEnter=function(){r.props.disabled||r.setState({expanded:!0})};var o=e.expand;r.state={expanded:o};return r}var i=n.prototype;i.componentDidMount=function(){var e=this.props.onNotificationShow;null==e||e()};i.componentDidUpdate=function(e){var t=this.props.onNotificationShow;null!=t&&null==e.onNotificationShow&&t()};i.renderCloseButton=function(){return(0,r.jsx)(C.Co,{look:C.Co.Looks.BLANK,size:C.Co.Sizes.NONE,onClick:this.handleDismiss,className:k().dismissButton,"aria-label":R.Z.Messages.NOTIFICATION_DISMISS,children:(0,r.jsx)(N.Z,{width:16,height:16,className:k().dismissIcon})})};i.renderHint=function(){var e=this.props,t=e.hint,n=e.colorScheme,i=this.state.expanded;if(null==t)return null;if("function"==typeof t){var a=t(i,n);return null!=a?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),a]},"hint-custom"):null}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),(0,
r.jsx)("div",{className:"string"==typeof t?k().hintText:void 0,children:t},"hint-text")]},"hint-text")};i.renderFooter=function(){var e=this.props,t=e.renderFooter,n=e.cancelText,i=e.confirmText,a=e.onConfirmClick,c=e.onCancelClick,l=e.hint,u=e.colorScheme,s=this.state.expanded;if(!s)return null!=l?this.renderHint():null;if(null!=t){var f=t(s,u);return null!=f?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),f]},"footer-custom-content"):null}if(null!=a||null!=c){var d=C.Co.Colors.GREEN,p=C.Co.Colors.PRIMARY,h=C.Co.Looks.FILLED;switch(u){case K.DANGER:case K.BRAND:d=p=C.Co.Colors.WHITE;h=C.Co.Looks.OUTLINED}return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(H,{}),(0,r.jsxs)("div",{className:k().buttonContainer,children:[null!=a?(0,r.jsx)(C.Co,{fullWidth:!0,size:C.Co.Sizes.SMALL,color:d,onClick:this.handleConfirmClick,className:k().button,innerClassName:k().innerText,children:null!=i?i:R.Z.Messages.OKAY}):null,null!=c?(0,r.jsx)(C.Co,{fullWidth:!0,size:C.Co.Sizes.SMALL,look:h,color:p,
onClick:this.handleCancelClick,className:k().button,children:null!=n?n:R.Z.Messages.CANCEL}):null]})]},"footer-button-content")}return this.renderHint()};i.renderIcon=function(){var e=this.props.icon;return null==e?null:"string"==typeof e?(0,r.jsx)(T.ZP,{src:e,size:T.ZP.Sizes.SIZE_40,className:k().avatar,"aria-hidden":!0}):(0,r.jsx)("div",{className:k().avatar,children:e})};i.renderContent=function(){var e=this.props,t=e.body,n=e.title,o=e.maxBodyLines;return(0,r.jsxs)("div",{className:k().content,children:[this.renderIcon(),(0,r.jsxs)("div",{className:k().details,children:[(0,r.jsx)("div",{className:k().title,children:n}),null!=t?(0,r.jsx)("div",{className:m()(k().body,D().marginTop4),style:{WebkitLineClamp:o,lineClamp:o},children:t}):null]})]})};i.render=function(){var e,t=this.props,n=t.onNotificationClick,o=t.colorScheme,i=t.disabled,a=this.state.expanded,c=null!=n?w.Z:"div";return(0,r.jsxs)(c,{onMouseOver:a?null:this.handleMouseEnter,onFocus:a?null:this.handleMouseEnter,onClick:n,
className:m()(k().container,(e={},L(e,k().themePrimary,o===K.PRIMARY),L(e,k().themeBrand,o===K.BRAND),L(e,k().themeDanger,o===K.DANGER),L(e,k().clickable,null!=n&&!i),e)),children:[this.renderCloseButton(),this.renderContent(),this.renderFooter(),i?(0,r.jsx)(W,{}):null]})};n.getDerivedStateFromProps=function(e,t){var n=e.expand;return!t.expanded&&n?{expanded:!0}:null};return n}(o.PureComponent);X.ColorSchemes=K;X.defaultProps={maxBodyLines:void 0,colorScheme:K.PRIMARY,expand:!1,disabled:!1};const Q=X;var q=n(240243);function J(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function $(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n
}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ee(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function te(e){var t=e.width,n=void 0===t?16:t,o=e.height,i=void 0===o?16:o,a=e.color,c=void 0===a?"currentColor":a,l=e.foreground,u=ee(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",$(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
J(e,t,n[t])}))}return e}({},(0,q.Z)(u)),{width:n,height:i,viewBox:"0 0 430 430",children:(0,r.jsx)("path",{className:l,color:c,
d:"M187.9,308.1c17.9-13.5,43-13.7,61.1-0.3c1.9,1.3,2.4,4,1.1,5.8s-3.7,2.3-5.6,0.9l-0.3-0.3 c-15.1-11.3-36.3-11.2-51.3,0.1c-0.8,0.5-1.6,0.8-2.4,0.8c-1.2,0-2.4-0.5-3.2-1.6C185.8,312,186.2,309.3,187.9,308.1 M124.4,236 c11.7,0,21.3,9.4,21.3,21.1s-9.4,21.1-21.1,21.1c-11.7,0-21.1-9.4-21.1-21.1C103.1,245.6,112.7,236,124.4,236 M315,236 c11.7,0,21.3,9.4,21.3,21.3c0,11.7-9.4,21.1-21.1,21.1s-21.1-9.4-21.1-21.1C294,245.6,303.5,236,315,236 M347.8,307.2 c2-0.3,4-0.7,6-1.2c2.3-0.5,4.4,0.7,5,2.9c0.7,2.1-0.7,4.4-2.8,5c-2.3,0.7-4.6,1.1-7,1.3c-0.1,0-0.3,0-0.5,0c-2,0-3.7-1.5-4-3.6 C344.1,309.7,345.7,307.6,347.8,307.2 M128.1,87.2l-0.3,0.1c-14.3,5.8-23.6,19.5-23.6,35.1c0,8.5,2.9,16.6,8.5,23.5 c0,0,0,0.1,0.1,0.1l0,0c0.1,0.1,11.3,15.3,31.4,16.9c2.3,0.1,3.9,2.1,3.7,4.4c-0.1,2.1-2,3.7-4,3.7c-0.1,0-0.3,0-0.3,0 c-18.9-1.5-30.8-12.8-35.3-17.8l-4.6,1.7c-0.1,0.1-0.3,0.1-0.5,0.3c-25.6,9.6-42.2,32.1-42.2,57.5c0,10.6,3.1,21.1,8.6,30.4 c0.7,1.1,0.8,2.3,0.4,3.3c-0.3,1.2-1.2,2-2.3,2.5C36.2,263.1,16,293.6,16,327c0,47.6,39.9,86.2,88.9,86.2c32.4,0,68-6.2,106.1-18.5 c3.1-1.3,39.5-16.7,91.1-14.5c2.3,0.1,4,2,3.9,4.3c-0.1,2.3-1.9,4.1-4.3,3.9c-35.6-1.6-64,5.7-78.1,10.4 c26.2,9.6,63.8,14.5,111.7,14.5c43.3,0,78.6-35.2,78.6-78.6c0-20.3-8-39.7-22.1-54.3c-3.2,7.6-10.2,20.2-23.2,28.2 c-0.7,0.4-1.3,0.7-2.1,0.7c-1.3,0-2.7-0.7-3.5-1.9c-1.2-1.9-0.5-4.4,1.3-5.6c16.2-10,21.8-28.7,22.1-29.6 c4.1-17.7,2.4-35.6-4.9-53.3c-4.1-10-10.1-19-17.8-26.8c-1.5-1.6-13.5-11.3-13.5-11.3c-3.6,6.9-12.8,19-33.6,23.6 c-0.3,0-0.5,0.1-0.8,0.1c-1.9,0-3.6-1.3-4-3.2c-0.5-2.3,0.9-4.4,3.1-4.8c23.9-5.2,29.2-21.7,29.6-22.7c3.5-13,2.3-26.4-3.5-39.6 c-8.2-18.9-25.9-32.7-47.4-37.2c-3.5,5.2-12.8,16.1-31.6,20.3c-0.3,0.1-0.7,0.1-0.9,0.1c-1.9,0-3.6-1.3-4-3.2 c-0.5-2.3,0.8-4.4,3.1-4.9c20.2-4.6,27.2-17.7,27.8-18.7c2.8-6.4,2.8-13.7,0.3-21.4c-4.6-14.1-15.9-16.9-31.6-20.9 c-16.9-4.1-37.6-9.3-55.7-31.5c-15.7,10.9-30.8,33.3-29,50.7c1.1,9.8,7.4,16.9,19,20.9c2.1,0.8,3.2,3.1,2.5,5.2 c-0.8,2.1-3.1,3.2-5.2,2.5c-11.8-4.1-18.1-10.5-21.4-17C167,79.1,141.9,80.6,128.1,87.2z"
})}))}var ne=n(968929),re=n.n(ne),oe=n(757987),ie=n(725002),ae=n(461061),ce=n(660044),le=n.n(ce),ue=n(3066),se=n.n(ue);function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function pe(e){pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return pe(e)}function he(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ye(e,t){if(null==e)return{};var n,r,o=function(e,t){
if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function ve(e,t){return!t||"object"!==ge(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function be(e,t){be=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return be(e,t)}var ge=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var n,r=pe(e);if(t){var o=pe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ve(this,n)}}var Oe=ae.t_t.DEFAULT,Se=o.createContext({type:Oe,opacity:1}),Ee=o.createContext(void 0),we=function(e){var t=e.children,n=e.className,o=ye(e,["children","className"]);return(0,r.jsx)(Se.Consumer,{children:function(e){var i=e.type;return(0,r.jsx)(Ee.Consumer,{children:function(e){return(0,r.jsx)("div",he(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){de(e,t,n[t])}))}return e}({className:m()(n,le().bar,le()[re()(i)]),style:e},o),{children:t}))}})}})},je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function")
;e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&be(e,t)}(n,e);var t=me(n);function n(){fe(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.disableScroll,n=e.children,o=e.className;return(0,r.jsx)(Ee.Consumer,{children:function(e){return(0,r.jsx)(Se.Consumer,{children:function(i){var a=m()(le().body,le()[re()(i.type)],o);return t?(0,r.jsx)("div",{className:a,style:e,children:n}):(0,r.jsx)(ie.ZP,{fade:!0,className:a,children:n})}})}})};return n}(o.PureComponent);je.defaultProps={disableScroll:!1};var _e=function(e){var t=e.type,n=void 0===t?Oe:t,o=e.width,i=e.height,a=e.children,c=e.className,l=e.opacity,u=void 0===l?1:l,s=e.onClick;return(0,r.jsx)(Se.Provider,{value:{type:n,opacity:u},children:(0,r.jsx)("div",{className:m()(le().widget,le()[re()(n)],c),style:{width:o,height:i},onClick:s,children:a})})},Ce=function(e){var t=e.children,n=e.className,o=e.dynamicSize,i=void 0!==o&&o;return(0,
r.jsx)(Ee.Consumer,{children:function(e){return(0,r.jsx)("div",{className:m()(le().content,n,de({},le().staticSize,!i)),style:e,children:t})}})};_e.Background=function(e){var t=e.children,n=e.opacityOverride;if(null==t)return null;var i=[we,je,Ce];return(0,r.jsx)(Se.Consumer,{children:function(e){var a=e.opacity,c={backgroundColor:"rgba(54, 57, 63, ".concat(""+(null!=n?n:a),")")};if("string"==typeof t.type){var l={style:c};return o.cloneElement(t,l)}if(i.includes(t.type))return(0,r.jsx)(Ee.Provider,{value:c,children:t});var u=t.type.displayName;throw new Error("Widget.Background cannot be wrapped around ".concat(u,". Pass a DOM node or one of ").concat(i.map((function(e){return"Widget."+e.name})).join(",")))}})};_e.Body=je;_e.Content=Ce;_e.Icon=function(e){var t=e.icon,n=e.label,o=e.onClick,i=e.isActive,a=e.tooltipPosition,c=void 0===a?oe.ZP.Positions.TOP:a,l=e.size,u=void 0===l?20:l,s=e.isTutorial,f=void 0!==s&&s;return(0,r.jsx)(oe.ZP,{text:f?(0,r.jsx)("div",{
className:le().tutorialTip,children:n}):n,"aria-label":n,position:c,forceOpen:f,color:f?oe.ZP.Colors.BRAND:oe.ZP.Colors.BLACK,children:function(e){var a=e.onMouseEnter,c=e.onMouseLeave;return(0,r.jsx)(C.Co,{look:C.Co.Looks.BLANK,size:C.Co.Sizes.NONE,onClick:o,onMouseEnter:a,onMouseLeave:c,className:m()(le().icon,de({},le().toggledIconOn,i)),innerClassName:se().flexCenter,"aria-label":n,children:(0,r.jsx)(t,{width:u,height:u,role:"img"})})}})};_e.Bar=we;const Pe=_e;var Ze=n(937026),Ie=n(170729),xe=n(285183),Ne=n(496486),Te=n.n(Ne),Re=n(973935),Ae=n(388721),ke=n(606750),Me=n(365523);var De=n(742269),Le=n(588641);function Ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e){Ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ue(e)}function ze(e,t){
return!t||"object"!==Ye(t)&&"function"!=typeof t?Ve(e):t}function Ge(e,t){Ge=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ge(e,t)}var Ye=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function We(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ue(e);if(t){var o=Ue(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ze(this,n)}}var He={x:0,y:0};function Fe(e){var t=e.clientX,n=e.clientY;He.x=t;He.y=n}var Ke=new Map;function Xe(e,t){if(null==t){Ke.delete(e);0===Ke.size&&window.removeEventListener("mousemove",Fe)}else{var n=Ke.get(e);if(null!=n&&(0,ke.Z)(n.zone,t.zone))return;0===Ke.size&&window.addEventListener("mousemove",Fe);Ke.set(e,t)}
if(De.FB){Le.default.requireModule("discord_overlay2").broadcastCommand({message:"set_click_zones",zones:Array.from(Ke.values()).map((function(e){return e.zone}))});!function(){if(Qe)return;Le.default.requireModule("discord_overlay2").setClickZoneCallback((function(e){var t=Ke.get(e);null!=t&&t.instance.click()}));Qe=!0}()}}var Qe=!1;var qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ge(e,t)}(n,e);var t=We(n);function n(){Be(this,n);var e;(e=t.apply(this,arguments)).zone=Te().uniqueId("ClickArea");e.interval=new Me.Xp;e.updateZone=function(){var t=(0,Re.findDOMNode)(Ve(e));if((0,Ae.k)(t)){var n=t.getBoundingClientRect(),r=n.left,o=n.top,i=n.right,a=n.bottom;Xe(e.zone,{instance:Ve(e),zone:{name:e.zone,left:r,top:o,right:i,bottom:a}})}};return e}var r=n.prototype;r.componentDidMount=function(){
this.props.observe?this.observeZone():this.updateZone()};r.componentWillUnmount=function(){this.interval.stop();Xe(this.zone,null)};r.componentDidUpdate=function(e){var t=this.props.observe;t!==e.observe&&(t?this.observeZone():this.interval.stop())};r.render=function(){return o.Children.only(this.props.children)};r.observeZone=function(){this.updateZone();this.interval.start(this.props.observeInterval,this.updateZone)};r.click=function(){var e,t,n;!function(e,t,n){var r=document.elementFromPoint(t,n);if(null==r)throw new Error;r.dispatchEvent(e)}((e="click",t=He.x,n=He.y,new MouseEvent(e,{screenX:t,screenY:n,clientX:t,clientY:n,bubbles:!0,view:window})),He.x,He.y)};return n}(o.PureComponent);qe.defaultProps={observe:!0,observeInterval:1e3};var Je=n(77159),$e=n.n(Je);function et(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}
function nt(e){nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nt(e)}function rt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&it(e,t)}function ot(e,t){return!t||"object"!==at(t)&&"function"!=typeof t?et(e):t}function it(e,t){it=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return it(e,t)}var at=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ct(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nt(e);if(t){var o=nt(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ot(this,n)}}function lt(){var e=(0,xe.QF)(),t=(0,xe.Ht)();(0,S.lW)({type:ae.BmY.DISPATCH,pid:e,token:t,payloads:[{type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:e}]})}var ut=function(e){rt(n,e);var t=ct(n);function n(){tt(this,n);var e;(e=t.apply(this,arguments)).state={showTrace:!1,busy:!1};e.hideNotification=function(){lt();var t=et(e).notificationTimer;null!=t&&clearTimeout(t);e.notificationTimer=null};e.handleReload=function(t){e.setState({busy:!0});lt();O.Z.track(ae.rMx.NOTIFICATION_CLICKED,{notif_type:"Overlay Crashed",action_type:"reload"},!0);t.stopPropagation();setTimeout((function(){return location.reload(!0)}),200)};e.handleNotificationClick=function(t){t.stopPropagation();var n=et(e).notificationTimer;null!=n&&clearTimeout(n);t.shiftKey&&e.setState({showTrace:!0})};return e}var o=n.prototype;o.componentDidMount=function(){this.notificationTimer=setTimeout(this.hideNotification,1e4)
;O.Z.track(ae.rMx.NOTIFICATION_VIEWED,{notif_type:"Overlay Crashed"})};o.componentWillUnmount=function(){var e=this.notificationTimer;null!=e&&clearTimeout(e)};o.render=function(){var e=this.props,t=e.info,n=e.error,o=this.state.showTrace;return null==this.notificationTimer?null:(0,r.jsx)(qe,{observe:!1,children:(0,r.jsxs)(w.Z,{className:m()((0,Ie.Q)(ae.BRd.DARK),$e().container),onClick:function(e){return e.stopPropagation()},children:[(0,r.jsx)(Q,{expand:!0,colorScheme:K.DANGER,icon:(0,r.jsx)(te,{width:40,height:40,className:$e().notificationIcon}),title:R.Z.Messages.OVERLAY_CRASHED_TITLE,confirmText:R.Z.Messages.OVERLAY_RELOAD,onNotificationClick:this.handleNotificationClick,onConfirmClick:this.handleReload,onDismissClick:this.hideNotification}),o&&null!=t?(0,r.jsxs)(Pe,{className:$e().stackTrace,children:[(0,r.jsx)(Pe.Bar,{children:"Error Details"}),(0,r.jsx)(Pe.Content,{className:$e().stackTraceCode,children:(0,r.jsx)("code",{className:$e().code,children:(0,r.jsx)("pre",{
children:n.stack})})})]}):null]})})};return n}(o.PureComponent),st=function(e){rt(n,e);var t=ct(n);function n(){tt(this,n);var e;(e=t.apply(this,arguments)).state={error:null,info:null};return e}var o=n.prototype;o.componentDidCatch=function(e,t){var n=(0,E.s1)().location;this.setState({error:e,info:t});var r=(0,xe.QF)(),o=(0,xe.Ht)();(0,S.lW)({type:ae.BmY.DISPATCH,pid:(0,xe.QF)(),token:o,payloads:[{type:"OVERLAY_CRASHED",pid:r},{type:"OVERLAY_SET_INPUT_LOCKED",locked:!0,pid:r}]});setImmediate((function(){return window.addEventListener("click",lt)}));Ze.Z.captureCrash(e,{extra:t});O.Z.track(ae.rMx.APP_CRASHED,{path:n.pathname})};o.render=function(){var e=this.props,t=e.children,n=e.className,o=this.state,i=o.error,a=o.info;return null!=i?(0,r.jsx)(ut,{error:i,info:a}):(0,r.jsx)("div",{className:n,children:t})};return n}(o.PureComponent);const ft=st
;var dt=n(427537),pt=n.n(dt),ht=n(23279),yt=n.n(ht),vt=n(618446),bt=n.n(vt),gt=n(992497),mt=n(281081),Ot=n(104203),St=n(16122),Et=n(78979),wt=n(877271),jt=n(859169),_t=n(64833),Ct=n(742572),Pt=n(127949),Zt=n(125315),It=n(602589),xt=n(18416),Nt=n(631134),Tt=n(356004),Rt=n(653772),At=n(934714),kt=n(73462),Mt=n(379822),Dt=n(946849),Lt=n(343435),Vt=n(766243),Bt=n(931439),Ut=n(300327),zt=n(426217),Gt=n(487502),Yt=n(897576),Wt=(n(109813),n(185347)),Ht=n(368365),Ft=n(23816),Kt=n(735489),Xt=n(1812),Qt=n(212218),qt=n(940712),Jt=n(971738),$t=n(859023);function en(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function nn(e){nn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return nn(e)}function rn(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){tn(e,t,n[t])}))}return e}function on(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function an(e,t){return!t||"object"!==ln(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function cn(e,t){cn=Object.setPrototypeOf||function(e,t){e.__proto__=t
;return e};return cn(e,t)}var ln=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function un(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=nn(e);if(t){var o=nn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return an(this,n)}}var sn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&cn(e,t)}(n,e);var t=un(n);function n(){en(this,n);return t.apply(this,arguments)}var r=n.prototype;r.componentDidUpdate=function(e){if(this.props.locked)return null
;var t=this.props,n=t.selectedGuild,r=t.selectedChannel,o=t.isNSFWChannel,i=t.isMemberPending,a=t.hasPreviewEnabled,c=t.postableChannelCount;if(n!==e.selectedGuild||i&&!e.isMemberPending){var l=i?{is_pending:i,preview_enabled:a}:{};(0,Kt.Q)(ae.rMx.GUILD_VIEWED,on(rn({},l),{postable_channels:c}))}if(null!=r&&r!==e.selectedChannel){var u=(0,Ft.KG)(Tt.Z.getChannel(r),!0);(0,Kt.Q)(ae.rMx.CHANNEL_OPENED,rn({channel_is_nsfw:o},u))}};r.render=function(){return null};return n}(o.Component);const fn=i.ZP.connectStores([Jt.Z,Mt.Z,Tt.Z,Rt.Z,$t.default,Ut.Z,Qt.ZP,Xt.ZP,qt.Z],(function(){var e,t,n,r=Jt.Z.getGuildId(),o=Mt.Z.getChannelId(r),i=Tt.Z.getChannel(o),a=Rt.Z.getGuild(r),c=$t.default.getCurrentUser(),l=null!==(t=Xt.ZP.getChannels(null==a?void 0:a.id)[Xt.sH])&&void 0!==t?t:[],u=l.length>0?l.filter((function(e){var t=e.channel;return qt.Z.can(Ht.Z.combine(ae.Plq.SEND_MESSAGES,ae.Plq.VIEW_CHANNEL),t)
})).length:0,s=null!=c&&null!=r&&(null!==(n=null===(e=Qt.ZP.getMember(r,c.id))||void 0===e?void 0:e.isPending)&&void 0!==n&&n);return{selectedGuild:r,selectedChannel:o,isNSFWChannel:null==i?void 0:i.nsfw,locked:Ut.Z.isUILocked((0,xe.QF)()),hasPreviewEnabled:null==a?void 0:a.features.has(ae.oNc.PREVIEW_ENABLED),isMemberPending:s,postableChannelCount:u}}))(sn);var dn=n(589175),pn=n(441143),hn=n.n(pn),yn=n(468811),vn=n.n(yn),bn=n(173436),gn=n(881548),mn=n(873463);function On(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Sn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function En(e){return{trackView:function(){O.Z.track(ae.rMx.NOTIFICATION_VIEWED,e)},trackClick:function(t){var n=Ut.Z.isInstanceUILocked()?ae.Sbl.LOCKED_OVERLAY:ae.Sbl.UNLOCKED_OVERLAY;O.Z.track(ae.rMx.NOTIFICATION_CLICKED,Sn(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){On(e,t,n[t])}))}return e}({},e),{location:n,action_type:t}))}}}function wn(){var e=Bt.Z.getOverlayKeybind();return null!=e?(0,Wt.BB)(e.shortcut,!0).split(" + "):["???"]}var jn=n(917870);function _n(e,t){var n=e.username,o=R.Z.Messages.USER_ACTIVITY_USER_JOIN.format({username:""}),i=(0,jn.ov)(e),a=En({notif_type:"Activity User Join",notif_user_id:e.id,activity_type:ae.mFx.JOIN,
activity_name:t.name}),c=a.trackView,l=a.trackClick;return{colorScheme:Q.ColorSchemes.PRIMARY,icon:i,title:n,body:o,hint:function(e){return t=R.Z.Messages.USER_ACTIVITY_USER_JOIN_HINT,(0,r.jsx)("div",{className:k().hintSubtleText,children:t});var t},onNotificationShow:function(){c()},onDismissClick:function(){l("dismiss")}}}var Cn=n(90816),Pn=n(346411),Zn=n.n(Pn);function In(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function xn(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){In(i,r,o,a,c,"next",e)}function c(e){In(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Nn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Tn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Nn(e,t,n[t])}))}return e}function Rn(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}var An=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};function kn(){return(0,r.jsx)("div",{className:Zn().footer,children:(0,r.jsx)(C.Co,{color:C.Co.Colors.GREEN,size:C.Co.Sizes.SMALL,className:Zn().ctaButton,children:R.Z.Messages.OVERLAY_NEWS_GO_LIVE_CTA})})}
var Mn=n(650331),Dn=n(125628),Ln=n(53211),Vn=n(105405);var Bn=n(7584),Un=n(320646);var zn=n(86111),Gn=n(402801);var Yn=function(e){return F(0,wn(),R.Z.Messages.OVERLAY_LAUNCH_OPEN_TIP)};var Wn=n(765515),Hn=n(962564),Fn=n(979662),Kn=n(893321);function Xn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qn(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Jn(e){Jn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Jn(e)}function $n(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){qn(e,t,n[t])}))}return e}function er(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function tr(e,t){return!t||"object"!==or(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function nr(e,t){nr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return nr(e,t)}function rr(e){return function(e){if(Array.isArray(e))return Xn(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){
if(!e)return;if("string"==typeof e)return Xn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xn(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var or=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ir(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Jn(e);if(t){var o=Jn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tr(this,n)}}
var ar=5e3,cr=Object.freeze({priority:ae.Tu6.NORMAL,duration:ar,expirationExternallyManaged:!1,type:ae.kLU.GENERIC}),lr=[],ur=function(e,t,n){var r=t?ae._1z.TIMED_OUT:ae._1z.DISMISSED;return setTimeout((function(){return O.Z.updateNotificationStatus(e,r)}),null!=n?n:ar)};function sr(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ae._1z.DISMISSED;if(null==e)return!1;var n=lr.findIndex((function(t){return t.id===e}));if(-1===n)return!1;var r=lr[n];clearTimeout(r.timerId);lr=rr(lr);t===ae._1z.DISMISSED?lr.splice(n,1):lr[n]=er($n({},r),{status:t})}function fr(e){var t=lr.length;return(lr=lr.filter((function(t){return t.type!==ae.kLU.TEXT||t.channelId!==e}))).length!==t}function dr(e){var t=lr.find((function(t){return t.type===ae.kLU.INCOMING_CALL&&t.channelId===e}));return null!=t?t.id:null}function pr(e,t){var n=$n({},cr,t);if(n.priority!==ae.Tu6.URGENT&&!Ut.Z.isInstanceFocused())return null;var r=vn().v4(),o=$n({id:r,status:ae._1z.ACTIVE,
timerId:ur(r,n.expirationExternallyManaged,n.duration),props:e},n),i=(lr=rr(lr)).findIndex((function(e){return e.priority<=n.priority}));-1===i?lr.push(o):lr.splice(i,0,o);if(lr.length>10){var a=lr.pop();clearTimeout(a.timerId)}return r}function hr(e,t,n){hn()(null!=t.activity,"received null message activity");if(n.id===Nt.default.getId())return!1;var r,o,i=Lt.Z.getGame();if(null==i)return!1;switch(t.activity.type){case ae.mFx.JOIN:if(null==(r=Hn.Z.getApplicationActivity(n.id,i.id))||null==r.party||r.party.id!==t.activity.party_id)return!1;o=function(e,t,n,r,o){if(null==t.activity)return null;var i=t.activity.type,a=o.session_id;if(null==a)return null;var c=(0,mn.Xi)(e,t,n),l=c.icon,u=c.title,s=c.body,f=En({notif_type:"Activity Invite",notif_user_id:n.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type,activity_type:i,activity_name:o.name}),d=f.trackView,p=f.trackClick;return{colorScheme:Q.ColorSchemes.PRIMARY,icon:l,title:u,body:s,
hint:function(e){return F(0,wn(),R.Z.Messages.OVERLAY_UNLOCK_TO_JOIN)},onNotificationShow:function(){d()},confirmText:R.Z.Messages.JOIN,onConfirmClick:function(o,i){gn.Z.join({userId:n.id,sessionId:a,applicationId:r.id,channelId:e.id,messageId:t.id});O.Z.updateNotificationStatus(i);p("join")},onDismissClick:function(){p("dismiss")}}}(e,t,n,i,r);break;case ae.mFx.JOIN_REQUEST:if(null==(r=Fn.Z.getApplicationActivity(i.id))||null==r.party||r.party.id!==t.activity.party_id)return!1;o=function(e,t,n,r){var o=t.username,i=R.Z.Messages.USER_ACTIVITY_INVITE_REQUEST_REQUESTED.format({username:"",game:n.name}),a=t.getAvatarURL(e.guild_id,80),c=En({notif_type:"Activity Invite",notif_user_id:t.id,activity_type:ae.mFx.JOIN_REQUEST,activity_name:n.name}),l=c.trackView,u=c.trackClick;return{colorScheme:Q.ColorSchemes.PRIMARY,icon:a,title:o,body:i,hint:function(e){return F(0,wn(),R.Z.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:R.Z.Messages.USER_ACTIVITY_RESPOND_YEAH,
cancelText:R.Z.Messages.USER_ACTIVITY_RESPOND_NOPE,onNotificationShow:function(){l()},onConfirmClick:function(t,n){Bn.Z.sendActivityInvite({channelId:e.id,type:ae.mFx.JOIN,activity:r,location:Ut.Z.isInstanceUILocked()?ae.Sbl.LOCKED_OVERLAY:ae.Sbl.UNLOCKED_OVERLAY});u("join");O.Z.updateNotificationStatus(n)},onCancelClick:function(t,n){(0,Un.In)(e.id,!0,!0);O.Z.updateNotificationStatus(n);u("decline")},onDismissClick:function(){u("dismiss")}}}(e,n,i,r)}if(null==o)return!1;var a=pr(o,{priority:ae.Tu6.URGENT,expirationExternallyManaged:!0,channelId:e.id});null!=a&&ur(a,!1,3e4);return!0}function yr(e){var t=e.channelId,n=e.ringing,r=dr(t);if(!n.includes(Nt.default.getId()))return sr(r);if(null!=r)return!1;var o=Tt.Z.getChannel(t);if(null==o||!o.isPrivate())return!1;if(Fn.Z.getStatus()===ae.Skl.DND)return!1;var i=lr.find((function(e){return e.type===ae.kLU.TEXT&&e.channelId===t&&e.messageType===ae.uaV.CALL}));null!=i&&sr(i.id);pr(function(e){var t=(0,
Ln.F)(e,$t.default,Vn.Z),n=R.Z.Messages.OVERLAY_NOTIFICATION_INCOMING_CALL,r=(0,Dn.x)(e),o=En({notif_type:"Incoming Call",notif_user_id:1===e.recipients.length?e.recipients[0]:null,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),i=o.trackView,a=o.trackClick;return{colorScheme:Q.ColorSchemes.PRIMARY,icon:r,title:t,body:n,hint:function(e){return F(0,wn(),R.Z.Messages.OVERLAY_UNLOCK_TO_ANSWER)},confirmText:R.Z.Messages.JOIN_CALL,cancelText:R.Z.Messages.DECLINE,onNotificationShow:function(){i()},onConfirmClick:function(){O.Z.callPrivateChannel(e.id);a("join");O.Z.track(ae.rMx.VOICE_CHANNEL_SELECTED,{location:"Overlay Notificaiton",guild_id:null,channel_id:e.id,video_enabled:!1})},onCancelClick:function(){Mn.Z.stopRinging(e.id);a("decline")},onDismissClick:function(){a("dismiss")}}}(o),{priority:ae.Tu6.HIGH,expirationExternallyManaged:!0,type:ae.kLU.INCOMING_CALL,channelId:o.id})}var vr=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&nr(e,t)}(n,e);var t=ir(n);function n(){Qn(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(Tt.Z,$t.default)};r.getNotifications=function(){return lr};r.__getLocalVars=function(){return{NOTIFICATION_TIMEOUT:ar,NEWS_NUDGE_TIMEOUT:8e3,ACTIVITY_INVITE_DISMISS_TIMEOUT:3e4,MAX_NOTIFICATIONS:10,DEFAULT_METADATA:cr,notifications:lr,scheduleTimeout:ur}};return n}(i.ZP.Store);vr.displayName="OverlayNotificationsStore";const br=new vr(bn.Z,__OVERLAY__?{OVERLAY_UPDATE_NOTIFICATION_STATUS:function(e){sr(e.notificationId,e.status)},OVERLAY_MOUNTED:function(e){var t,o,i,a,c,l,u=e.newsNudge,s=e.goLiveNudge,f=null!=s?function(e){switch(e.type){case"go-live":var t=e.game,o=e.voiceGuild,i=En({notif_type:"Go Live Nudge"}),a=i.trackView,c=i.trackClick;return{
colorScheme:K.PRIMARY,icon:n(8395),title:null,body:R.Z.Messages.OVERLAY_NEWS_GO_LIVE_BODY.format({game:t.name,server:o.toString()}),hint:function(){return(0,r.jsx)(kn,{})},renderFooter:function(){return(0,r.jsx)(kn,{})},onNotificationShow:function(){a()},onNotificationClick:function(e,t){c("unlock");O.Z.updateNotificationStatus(t);Ut.Z.isInstanceUILocked()&&O.Z.setInstanceLocked(!1);(0,Yt.ZD)(xn((function(){var e,t;return An(this,(function(i){switch(i.label){case 0:return[4,Promise.all([n.e(40532),n.e(58342)]).then(n.bind(n,58342))];case 1:e=i.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Rn(Tn({},e),{selectSource:!1,guildId:o.id,analyticsLocation:ae.Sbl.OVERLAY_NUDGE}))}]}}))})))},onDismissClick:function(){c("dismiss")}};case"go-live-2":var l=e.game,u=En({notif_type:"Go Live Non Voice Nudge"}),s=u.trackView,f=u.trackClick;return{colorScheme:K.PRIMARY,icon:n(8395),title:null,body:R.Z.Messages.OVERLAY_NEWS_GO_LIVE_BODY_NO_VOICE_CHANNEL.format({game:l.name}),hint:function(){
return(0,r.jsx)(kn,{})},renderFooter:function(){return(0,r.jsx)(kn,{})},onNotificationShow:function(){s()},onNotificationClick:function(e,t){f("unlock");O.Z.updateNotificationStatus(t);Ut.Z.isInstanceUILocked()&&O.Z.setInstanceLocked(!1);(0,Yt.ZD)(xn((function(){var e,t;return An(this,(function(o){switch(o.label){case 0:return[4,Promise.all([n.e(40532),n.e(58342)]).then(n.bind(n,58342))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Rn(Tn({},e),{selectSource:!1,selectGuild:!0,analyticsLocation:ae.Sbl.OVERLAY_NUDGE}))}]}}))})))},onDismissClick:function(){f("dismiss")}};default:return(0,Cn.vE)(e)}}(s):(o=null!=(t=u)&&null!=t.icon?t.icon:n(603008),i=null!=t?t.title:R.Z.Messages.OVERLAY_LAUNCH_TITLE,a=En({notif_type:null!=t?"News Nudge":"Welcome Nudge"}),c=a.trackView,l=a.trackClick,{colorScheme:null!=t?K.BRAND:K.PRIMARY,icon:o,title:i,body:null!=t?t.body:null,hint:null!=t?t.hint:Yn,renderFooter:function(){return(0,r.jsx)("div",{style:{textAlign:"center",padding:2},
children:R.Z.Messages.OVERLAY_CLICK_TO_UNLOCK})},onNotificationShow:function(){c()},onNotificationClick:function(e,n){l("unlock");null==t&&O.Z.updateNotificationStatus(n);Ut.Z.isInstanceUILocked()&&O.Z.setInstanceLocked(!1)},onDismissClick:function(){l("dismiss")}});pr(f,{priority:ae.Tu6.URGENT,duration:8e3})},OVERLAY_SET_INPUT_LOCKED:function(e){if(e.locked)return!1;lr=lr.map((function(e){if(e.status===ae._1z.ACTIVE){clearTimeout(e.timerId);return er($n({},e),{timerId:ur(e.id,e.expirationExternallyManaged)})}return e}))},MESSAGE_CREATE:function(e){var t,n,o=e.channelId,i=e.message,a=Tt.Z.getChannel(o),c=$t.default.getUser(i.author.id);if(null==a||null==c)return!1;if((null===(t=i.activity)||void 0===t?void 0:t.type)===ae.mFx.JOIN||(null===(n=i.activity)||void 0===n?void 0:n.type)===ae.mFx.JOIN_REQUEST){if(!(0,mn.eF)(i,o,!0,!0))return!1;var l=hr(a,i,c);if(!1!==l)return l}if((!Ut.Z.isInstanceUILocked()||Ut.Z.isPinned(ae.Odu.TEXT))&&o===Mt.Z.getChannelId())return!1
;if(Ut.Z.getTextChatNotificationMode()===ae.Ypu.DISABLED||Kn.Z.disableNotifications||!(0,mn.eF)(i,o))return!1;pr(function(e,t,n,o){var i=(0,mn.Xi)(e,t,n),a=i.icon,c=i.title,l=i.body,u=En({notif_type:"Text Chat",notif_user_id:t.author.id,message_id:t.id,message_type:t.type,guild_id:e.guild_id,channel_id:e.id,channel_type:e.type}),s=u.trackView,f=u.trackClick;return{colorScheme:K.PRIMARY,icon:a,title:c,body:l,renderFooter:function(e){return e?(0,r.jsx)("div",{style:{textAlign:"center"},children:R.Z.Messages.OVERLAY_CLICK_TO_JUMP_TO_CHANNEL}):null},maxBodyLines:2,onNotificationShow:function(){o&&(0,Gn.GN)(zn.Ay,zn.yk);s()},onNotificationClick:function(){(0,E.uL)(ae.Z5c.CHANNEL(e.guild_id,e.id));f("jump");Ut.Z.isInstanceUILocked()&&O.Z.setInstanceLocked(!1)},onDismissClick:function(){f("dismiss")}}}(a,i,c,!Wn.Z.isSoundDisabled(zn.Ay)),{type:ae.kLU.TEXT,channelId:a.id,messageType:i.type})},CHANNEL_SELECT:function(e){var t=e.channelId;return null!=t&&fr(t)},MESSAGE_ACK:function(e){
return fr(e.channelId)},CALL_CREATE:yr,CALL_UPDATE:yr,CALL_DELETE:function(e){sr(dr(e.channelId))},ACTIVITY_USER_ACTION:function(e){var t,n=e.actionType,r=e.user,o=e.applicationId,i=Lt.Z.getGame();if(null==i||i.id!==o)return!1;if(n===ae.mFx.JOIN)t=_n(r,i);if(null==t)return!1;pr(t,{priority:ae.Tu6.URGENT,type:ae.kLU.GENERIC})}}:{});var gr=n(738017),mr=n(586865),Or=n.n(mr);function Sr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Er(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function wr(e){wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return wr(e)}function jr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable
}))));r.forEach((function(t){Er(e,t,n[t])}))}return e}function _r(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Cr(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Pr(e,t){return!t||"object"!==Ir(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Zr(e,t){Zr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Zr(e,t)}var Ir=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=wr(e);if(t){var o=wr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pr(this,n)}}var Nr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Zr(e,t)}(n,e);var t=xr(n)
;function n(){Sr(this,n);var e;(e=t.apply(this,arguments)).translateX=new gr.Z.Value(0);e.translateY=new gr.Z.Value(0);e.scale=new gr.Z.Value(1);e.opacity=new gr.Z.Value(1);e.state={animatedIn:!1};e.handleNotificationShow=function(){var t=e.props.notification,n=t.id;(0,t.props.onNotificationShow)(n)};e.handleDismissClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onDismissClick;O.Z.updateNotificationStatus(r);null!=o&&o(t,r)};e.handleNotificationClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onNotificationClick;null!=o&&o(t,r)};e.handleConfirmClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onConfirmClick;null!=o&&o(t,r)};e.handleCancelClick=function(t){var n=e.props.notification,r=n.id,o=n.props.onCancelClick;null!=o&&o(t,r)};e.handleAnimationEnd=function(){e.state.animatedIn||e.setState({animatedIn:!0})};return e}var o=n.prototype;o.componentWillAppear=function(e){var t=this.props.index;e();this.animateTo(t)};o.componentWillEnter=function(e){
var t=this.props.index;e();this.animateTo(t)};o.componentWillLeave=function(e){var t=this.props.index;this.animateTo(t,e)};o.componentDidUpdate=function(e){var t=this.props.index;e.index!==t&&this.animateTo(t)};o.animateTo=function(e,t){var n,r,o,i,a=this,c=a.opacity,l=a.scale,u=a.translateX,s=a.translateY;switch(e){case 0:r=0;o=1;i=1;break;case 1:r=.3;o=.6;i=.98;break;case 2:r=.6;o=.3;i=.95;break;default:r=.6;o=0;i=.93}if(null!=t){0===e?i=1.1:r=1.3;o=0;n=t}else n=this.handleAnimationEnd;u.setValue(1);s.setValue(r);l.setValue(i);c.setValue(o);n()};o.getStyle=function(){var e,t,n,r,o,i=this,a=i.opacity,c=i.scale,l=i.translateX,u=i.translateY,s=i.props,f=s.position,d=s.zIndex;switch(f){case ae._vf.TOP_LEFT:case ae._vf.BOTTOM_LEFT:e="-100%";t=0;break;default:n=0;e="100%"}switch(f){case ae._vf.BOTTOM_LEFT:case ae._vf.BOTTOM_RIGHT:r=0;break;default:o=0}return{left:t,right:n,bottom:r,top:o,zIndex:d,opacity:a,transform:[{translateX:l.interpolate({inputRange:[0,1],outputRange:[e,"0%"]})},{
translateY:u.interpolate({inputRange:[0,1],outputRange:["0px","20px"]})},{scale:c}]}};o.render=function(){var e=this,t=e.props,n=t.locked,o=t.index,i=t.notification.props,a=(i.onNotificationShow,i.onDismissClick,i.onNotificationClick),c=i.onConfirmClick,l=i.onCancelClick,u=e.state.animatedIn,s=Cr(e.props.notification.props,["onNotificationShow","onDismissClick","onNotificationClick","onConfirmClick","onCancelClick"]),f=(0,r.jsx)(gr.Z.div,{className:Or().animationContainer,style:this.getStyle(),children:(0,r.jsx)(Q,_r(jr({},s),{onNotificationShow:u&&0===o?this.handleNotificationShow:null,onDismissClick:this.handleDismissClick,onNotificationClick:null!=a?this.handleNotificationClick:null,onConfirmClick:null!=c?this.handleConfirmClick:null,onCancelClick:null!=l?this.handleCancelClick:null,expand:!n&&0===o,disabled:0!==o}))});return 0===o?(0,r.jsx)(qe,{observeInterval:200,children:f}):f};return n}(o.Component);const Tr=Nr;var Rr=n(347371),Ar=n.n(Rr);function kr(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e){Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Mr(e)}function Dr(e,t){return!t||"object"!==Vr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Lr(e,t){Lr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Lr(e,t)}var Vr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Br(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Dr(this,n)}}var Ur=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Lr(e,t)}(n,e);var t=Br(n);function n(){kr(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.keybind,n=e.notifications,o=e.position,i=e.locked;if(o===ae._vf.DISABLED)return null;var a=-1;return(0,r.jsx)(dn.Z,{component:"div",className:m()(Ar().container,Ar()[o]),children:n.map((function(e){if(i&&e.status===ae._1z.TIMED_OUT)return null;a+=1;return(0,r.jsx)(Tr,{index:a,zIndex:100-a,position:o,notification:e,keybind:t,locked:i},e.id)}))})};return n}(o.Component);const zr=i.ZP.connectStores([br,Ut.Z],(function(){return{notifications:br.getNotifications(),position:Ut.Z.getNotificationPositionMode()}}))(Ur);var Gr=n(760153);function Yr(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e){Wr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Wr(e)}function Hr(e,t){return!t||"object"!==Kr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Fr(e,t){Fr=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Fr(e,t)}var Kr=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Xr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Wr(e);if(t){var o=Wr(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return Hr(this,n)}}var Qr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Fr(e,t)}(n,e);var t=Xr(n);function n(){Yr(this,n);return t.apply(this,arguments)}n.prototype.render=function(){var e=this.props,t=e.layout,n=e.layoutSize,o=e.className,i=e.renderWidget;return null!=t?(0,r.jsx)("div",{className:o,style:{width:n.width,height:n.height},children:t.widgets.map((function(e){return i(e,n)}))}):null};return n}(o.PureComponent);const qr=Qr;var Jr=n(90354),$r=n(434987),eo=n(843116),to=n.n(eo);function no(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ro(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oo(e){
oo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return oo(e)}function io(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ro(e,t,n[t])}))}return e}function ao(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function co(e,t){return!t||"object"!==uo(t)&&"function"!=typeof t?no(e):t}function lo(e,t){
lo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return lo(e,t)}var uo=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function so(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=oo(e);if(t){var o=oo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return co(this,n)}}var fo=_()({MOVE:null,RESIZE_NORTH:null,RESIZE_WEST:null,RESIZE_EAST:null,RESIZE_SOUTH:null,RESIZE_NORTH_WEST:null,RESIZE_NORTH_EAST:null,RESIZE_SOUTH_WEST:null,RESIZE_SOUTH_EAST:null}),po=new Set([fo.RESIZE_NORTH,fo.RESIZE_WEST,fo.RESIZE_EAST,fo.RESIZE_SOUTH,fo.RESIZE_NORTH_WEST,fo.RESIZE_NORTH_EAST,fo.RESIZE_SOUTH_WEST,fo.RESIZE_SOUTH_EAST]);function ho(e,t,n){var r=e.width,o=e.height
;return{width:"auto"===r?"auto":Math.max(t,r),height:"auto"===o?"auto":Math.max(n,o)}}function yo(e){var t=e.top,n=e.left,r=e.bottom,o=e.right;null==n&&null==o&&(n=0);null!=n&&null!=o&&(o=null);null==t&&null==r&&(t=0);null!=t&&null!=r&&(r=null);return{top:t,left:n,bottom:r,right:o}}function vo(e){return"auto"===e||null==e?"auto":"".concat(e,"px")}function bo(e,t){return{width:"auto"===t.width?null!=e?e.clientWidth:0:t.width,height:"auto"===t.height?null!=e?e.clientHeight:0:t.height}}function go(e,t){var n=t.top,r=t.left,o=t.bottom,i=t.right;switch(e){case fo.RESIZE_EAST:case fo.RESIZE_NORTH_EAST:case fo.RESIZE_NORTH:return{bottom:o,left:r,right:null,top:null};case fo.RESIZE_WEST:case fo.RESIZE_NORTH_WEST:return{bottom:o,right:i,left:null,top:null};case fo.RESIZE_SOUTH_EAST:return{top:n,left:r,bottom:null,right:null};case fo.RESIZE_SOUTH:case fo.RESIZE_SOUTH_WEST:return{top:n,right:i,bottom:null,left:null};default:throw new Error("getOrientedCoords: Invalid orientation: ".concat(e))}}
var mo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&lo(e,t)}(n,e);var t=so(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).ref=o.createRef();r.dragState={startX:0,startY:0,offsetX:0,offsetY:0,offsetWidth:0,offsetHeight:0};r.state={operation:null,operationStarted:!1};r.handleMouseDown=function(e){e.stopPropagation();var t=r.props.dragAnywhere;null!=r.ref.current&&e.button===ae.AeJ.PRIMARY&&t&&r.handleOperationStart(fo.MOVE,e.clientX,e.clientY)};r.handleMouseMove=function(e){e.preventDefault();e.stopPropagation();var t=e.clientX,n=e.clientY,o=no(r),i=o.dragState,a=i.startX,c=i.startY,l=o.state,u=l.operation,s=l.operationStarted;if(!(null==u||!s&&(f=a,d=c,p=t,h=n,Math.pow(f-p,2)+Math.pow(d-h,2))<3)){var f,d,p,h
;u===fo.MOVE?r.handleDragMove(t,n):po.has(u)&&r.handleResizeMove(t,n)}};r.handleOperationStart=function(e,t,n){var o=no(r),i=o.ref.current,a=o.props,c=a.active,l=a.container,u=l.maxX,s=l.maxY;if(null!=i&&c){var f=bo(i,r.size),d=f.width,p=f.height,h=(0,$r.PY)(r.anchor,u,s,d,p);if(e===fo.MOVE){var y=function(e){var t=e.top;return{x:e.left,y:t}}(h),v=y.x,b=y.y;r.dragState=ao(io({},r.dragState),{startX:t,startY:n,offsetX:t-v,offsetY:n-b})}else{var g=go(e,h);r.setDOMPositions(g);r.dragState=ao(io({},r.dragState),{startX:t,startY:n,offsetWidth:d,offsetHeight:p})}r.setState({operation:e,operationStarted:!1},(function(){window.addEventListener("mousemove",r.handleMouseMove);window.addEventListener("mouseup",r.handleOperationEnd)}))}};r.handleOperationEnd=function(){var e=r.state,t=e.operation,n=e.operationStarted,o=r.props.onDragEnd;window.removeEventListener("mousemove",r.handleMouseMove);window.removeEventListener("mouseup",r.handleOperationEnd);var i=n?function(){
var e=r.props,n=e.onUpdate,o=e.id;n(t,o,r.anchor,r.size,bo(r.ref.current,r.size))}:void 0;if(n){var a=r.props.container,c=a.maxX,l=a.maxY,u=bo(r.ref.current,r.size),s=u.width,f=u.height,d=(0,$r.PY)(r.anchor,c,l,s,f),p=(0,$r.R)(d);r.setDOMPositions(p);r.setDOMSize({width:s,height:f});null!=o&&o()}r.setState({operation:null,operationStarted:!1},i)};r.anchor=yo(e.anchor);r.size=ho(e.size,e.minSize.width,e.minSize.height);return r}var i=n.prototype;i.shouldComponentUpdate=function(e,t){return!((0,ke.Z)(t,this.state)&&(0,ke.Z)(e,this.props,["anchor","size","minSize","container"])&&(0,ke.Z)(e.anchor,this.props.anchor)&&(0,ke.Z)(e.size,this.props.size)&&(0,ke.Z)(e.minSize,this.props.minSize)&&(0,ke.Z)(e.container,this.props.container))};i.componentDidUpdate=function(e,t){if(null==t.operation){(0,ke.Z)(this.props.anchor,e.anchor)||this.setDOMPositions(yo(this.props.anchor));(0,ke.Z)(this.props.size,e.size)||this.setDOMSize(ho(this.props.size,this.props.minSize.width,this.props.minSize.height))
}};i.componentWillUnmount=function(){this.handleOperationEnd()};i.handleResizeMouseDown=function(e,t){var n=e.clientX,r=e.clientY;e.stopPropagation();this.handleOperationStart(t,n,r)};i.handleDragMove=function(e,t){var n=this,r=n.ref.current,o=n.props,i=o.id,a=o.container,c=a.maxX,l=a.maxY,u=a.minX,s=a.minY,f=o.onDragStart,d=o.onDrag,p=o.snapOrientation,h=n.dragState,y=h.offsetX,v=h.offsetY,b=n.state.operationStarted;if(null==r)return null;e=Math.max(Math.min(c,e),u);t=Math.max(Math.min(l,t),s);var g=bo(r,this.size),m=g.width,O=g.height,S=t-v,E=e-y,w=(0,$r.ou)((0,$r.PY)({top:S,left:E,bottom:null,right:null},c,l,m,O)),j=p?(0,$r.R)(w):go(fo.RESIZE_SOUTH_EAST,w);this.setDOMPositions(j);if(!b){null!=f&&f();this.setState({operationStarted:!0})}null!=d&&d(i,fo.MOVE,this.anchor,this.size)};i.handleResizeMove=function(e,t){
var n=this.props,r=n.id,o=n.minSize,i=n.container,a=i.maxX,c=i.maxY,l=i.minX,u=i.minY,s=n.onDragStart,f=n.onDrag,d=this.state,p=d.operation,h=d.operationStarted,y=this.dragState,v=y.startX,b=y.startY,g=y.offsetWidth,m=y.offsetHeight,O=0,S=0;if(null!=p){e=Math.max(Math.min(a,e),l);t=Math.max(Math.min(c,t),u);switch(p){case fo.RESIZE_EAST:case fo.RESIZE_SOUTH_EAST:case fo.RESIZE_NORTH_EAST:O-=v-e;break;case fo.RESIZE_WEST:case fo.RESIZE_SOUTH_WEST:case fo.RESIZE_NORTH_WEST:O+=v-e}switch(p){case fo.RESIZE_SOUTH:case fo.RESIZE_SOUTH_WEST:case fo.RESIZE_SOUTH_EAST:S-=b-t;break;case fo.RESIZE_NORTH:case fo.RESIZE_NORTH_WEST:case fo.RESIZE_NORTH_EAST:S+=b-t}g=Math.max(g+O,o.width);m=Math.max(m+S,o.height);this.setDOMSize({width:g,height:m});if(!h){null!=s&&s();this.setState({operationStarted:!0})}null!=f&&f(r,p,this.anchor,this.size)}};i.setDOMPositions=function(e){var t=e.top,n=e.left,r=e.bottom,o=e.right,i=this.ref.current;this.anchor={top:t,left:n,bottom:r,right:o};if(null!=i){
i.style.top=vo(t);i.style.bottom=vo(r);i.style.left=vo(n);i.style.right=vo(o)}};i.setDOMSize=function(e){var t=e.width,n=e.height,r=this.ref.current;t="auto"===this.size.width?"auto":t;n="auto"===this.size.height?"auto":n;this.size={width:t,height:n};if(null!=r){r.style.width=vo(t);r.style.height=vo(n)}};i.renderResizeHandles=function(){var e=this,t=this.props,n=t.resizeY,i=t.resizeX,a=t.active;return(0,r.jsxs)(o.Fragment,{children:[n?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(to().resizeNorth,ro({},to().resizeNSCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_NORTH)}}),(0,r.jsx)("div",{className:m()(to().resizeSouth,ro({},to().resizeNSCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_SOUTH)}})]}):null,i?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(to().resizeEast,ro({},to().resizeEWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_EAST)}}),(0,r.jsx)("div",{
className:m()(to().resizeWest,ro({},to().resizeEWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_WEST)}})]}):null,i&&n?(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)("div",{className:m()(to().resizeNorthWest,ro({},to().resizeNWSECursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_NORTH_WEST)}}),(0,r.jsx)("div",{className:m()(to().resizeNorthEast,ro({},to().resizeNESWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_NORTH_EAST)}}),(0,r.jsx)("div",{className:m()(to().resizeSouthWest,ro({},to().resizeNESWCursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_SOUTH_WEST)}}),(0,r.jsx)("div",{className:m()(to().resizeSouthEast,ro({},to().resizeNWSECursor,a)),onMouseDown:function(t){return e.handleResizeMouseDown(t,fo.RESIZE_SOUTH_EAST)}})]}):null]})};i.render=function(){
var e,t=this,n=t.props,o=n.children,i=n.hidden,a=n.onClick,c=n.id,l=n.style,u=t.size,s=t.anchor,f=t.state,d=f.operation,p=f.operationStarted;return(0,r.jsxs)("div",{ref:this.ref,style:io({},s,u,l,null!=d?{zIndex:1e3}:void 0,i?{visibility:"hidden"}:void 0),className:m()((e={},ro(e,to().wrapper,!0),ro(e,to().operation,p),e)),onMouseDown:this.handleMouseDown,onClick:null!=a?function(){return a(c)}:void 0,children:[o(this.handleOperationStart),this.renderResizeHandles()]})};return n}(o.Component);mo.Operations=fo;mo.defaultProps={snapOrientation:!0,minSize:{width:0,height:0},container:{minX:0,minY:0,maxX:1/0,maxY:1/0},resizeX:!0,resizeY:!0,hidden:!1,dragAnywhere:!0,active:!0};const Oo=mo
;var So=n(394471),Eo=n(248088),wo=n(296771),jo=n(245662),_o=n(217891),Co=n(827449),Po=n(807370),Zo=n(513073),Io=n(551433),xo=n(710348),No=n(660582),To=n(145072),Ro=n(384995),Ao=n(9906),ko=n(390504),Mo=n(645897),Do=n(761434),Lo=n(73393),Vo=n(138402),Bo=n(736488),Uo=n(497762),zo=n(983319),Go=n(962271),Yo=n(67416),Wo=n(115375),Ho=n(86030),Fo=n(790257),Ko=n.n(Fo);function Xo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qo(e){Qo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Qo(e)}function qo(e,t){return!t||"object"!==$o(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Jo(e,t){Jo=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Jo(e,t)}var $o=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ei(e){
var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Qo(e);if(t){var o=Qo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qo(this,n)}}var ti=_()({GENERAL:null,VOICE:null});function ni(){var e=Ut.Z.getNotificationPositionMode(),t=e!==ae._vf.DISABLED,n=Bt.Z.getOverlayKeybind(),r=Bt.Z.getOverlayChatKeybind();O.Z.track(ae.rMx.OVERLAY_SETTINGS_UPDATED,{enabled:!0,notifications_enabled:t,notifications_position:t?e:null,text_notifications_mode:Ut.Z.getTextChatNotificationMode(),text_opacity_slider:Ut.Z.getTextWidgetOpacity(),hotkey:null!=n?(0,Wt.BB)(n.shortcut):null,text_activation_hotkey:null!=r?(0,Wt.BB)(r.shortcut):null})}var ri=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Jo(e,t)}(n,e);var t=ei(n);function n(){Xo(this,n);var e;(e=t.apply(this,arguments)).state={selectedSection:ti.GENERAL};e.handleSelectSection=function(t){e.setState({selectedSection:t})};e.handleToggleTextChatNotifications=function(){var t=ae.Ypu.ENABLED,n=ae.Ypu.DISABLED,r=e.props.textChatNotificationMode===t?n:t;O.Z.setTextChatNotificationMode(r);ni()};return e}var i=n.prototype;i.componentDidMount=function(){O.Z.track(ae.rMx.SETTINGS_PANE_VIEWED,{settings_type:"overlay",destination_pane:"OVERLAY SETTINGS",origin_pane:null})};i.handleChangeNotificationPositionMode=function(e,t){O.Z.setNotificationPositionMode(t);ni()};i.handleChangeAvatarSizeMode=function(e){var t=e.value;O.Z.setAvatarSizeMode(t)};i.handleChangeDisplayNameMode=function(e){var t=e.value;O.Z.setDisplayNameMode(t)}
;i.handleChangeDisplayUserMode=function(e){var t=e.value;O.Z.setDisplayUserMode(t)};i.renderHeader=function(){return(0,r.jsxs)(Gt.Z,{direction:Gt.Z.Direction.VERTICAL,grow:0,shrink:0,className:Ko().header,children:[(0,r.jsxs)(Gt.Z,{children:[(0,r.jsx)(Go.Z,{className:Ko().headerTitle,tag:"h1",children:R.Z.Messages.OVERLAY_SETTINGS_TITLE}),(0,r.jsx)(Yo.ol,{className:Ko().headerClose,onClick:this.props.onClose})]}),this.renderTabBar()]})};i.renderTabBar=function(){var e=this.state.selectedSection;return(0,r.jsxs)(Uo.ZP,{selectedItem:e,type:Uo.ZP.Types.TOP,className:Ko().tabBar,onItemSelect:this.handleSelectSection,children:[(0,r.jsx)(Uo.ZP.Item,{id:ti.GENERAL,className:Ko().tabBarItem,children:R.Z.Messages.OVERLAY_SETTINGS_GENERAL_TAB}),(0,r.jsx)(Uo.ZP.Item,{id:ti.VOICE,className:Ko().tabBarItem,children:R.Z.Messages.OVERLAY_SETTINGS_VOICE_TAB})]})};i.renderBody=function(){var e,t=this.state.selectedSection;switch(t){case ti.VOICE:e=this.renderVoiceSettings();break;case ti.GENERAL:
default:e=this.renderGeneralSettings()}return(0,r.jsx)(Yo.hz,{className:Ko().content,children:e},t)};i.renderGeneralSettings=function(){var e=this.props,t=e.textChatNotificationMode,n=e.notificationPositionMode,i=n!==ae._vf.DISABLED;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(zo.Z,{title:R.Z.Messages.FORM_LABEL_NOTIFICATION_POSITION,className:D().marginBottom20,children:(0,r.jsx)(Wo.Z,{position:n,onChange:this.handleChangeNotificationPositionMode})}),(0,r.jsx)(Bo.Z,{value:i&&t===ae.Ypu.ENABLED,onChange:this.handleToggleTextChatNotifications,disabled:!i,hideBorder:!0,children:R.Z.Messages.FORM_LABEL_OVERLAY_TEXT_CHAT_NOTIFICATIONS})]})};i.renderVoiceSettings=function(){var e=this.props,t=e.avatarSizeMode,n=e.displayNameMode,i=e.displayUserMode;return(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(zo.Z,{title:R.Z.Messages.FORM_LABEL_AVATAR_SIZE,className:D().marginBottom20,children:(0,r.jsx)(Vo.ZP,{onChange:this.handleChangeAvatarSizeMode,options:[{value:ae.ipw.LARGE,
name:R.Z.Messages.AVATAR_SIZE_OPTION_LARGE},{value:ae.ipw.SMALL,name:R.Z.Messages.AVATAR_SIZE_OPTION_SMALL}],value:t,size:Vo.ZP.Sizes.SMALL})}),(0,r.jsx)(zo.Z,{title:R.Z.Messages.FORM_LABEL_DISPLAY_NAMES,className:D().marginBottom20,children:(0,r.jsx)(Vo.ZP,{onChange:this.handleChangeDisplayNameMode,options:[{value:ae.wC$.ALWAYS,name:R.Z.Messages.DISPLAY_OPTION_ALWAYS},{value:ae.wC$.ONLY_WHILE_SPEAKING,name:R.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING},{value:ae.wC$.NEVER,name:R.Z.Messages.DISPLAY_OPTION_NEVER}],value:n,size:Vo.ZP.Sizes.SMALL})}),(0,r.jsx)(zo.Z,{title:R.Z.Messages.FORM_LABEL_DISPLAY_USERS,className:D().marginBottom20,children:(0,r.jsx)(Vo.ZP,{onChange:this.handleChangeDisplayUserMode,options:[{value:ae.OYC.ALWAYS,name:R.Z.Messages.DISPLAY_OPTION_ALWAYS},{value:ae.OYC.ONLY_WHILE_SPEAKING,name:R.Z.Messages.DISPLAY_OPTION_ONLY_WHILE_SPEAKING}],value:i,size:Vo.ZP.Sizes.SMALL})})]})};i.render=function(){return(0,r.jsxs)(Yo.Y0,{
"aria-label":R.Z.Messages.OVERLAY_SETTINGS_TITLE,transitionState:Ho.Dv.ENTERED,children:[this.renderHeader(),this.renderBody()]})};return n}(o.PureComponent);const oi=i.ZP.connectStores([Ut.Z],(function(){return{avatarSizeMode:Ut.Z.getAvatarSizeMode(),displayNameMode:Ut.Z.getDisplayNameMode(),displayUserMode:Ut.Z.getDisplayUserMode(),notificationPositionMode:Ut.Z.getNotificationPositionMode(),textChatNotificationMode:Ut.Z.getTextChatNotificationMode()}}))(ri);var ii=n(386638),ai=n.n(ii);function ci(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function li(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}const ui=function(e){var t,n=e.title,o=e.header,i=e.children,a=e.renderSettings,c=e.onDragStart;t=null!=n?(0,r.jsxs)(Pe.Bar,{className:m()(ai().header,ai().draggableStartArea),onMouseDown:c,children:[(0,r.jsx)(Pe.Content,{className:m()(ai().headerTitle,ai().draggableStartArea),dynamicSize:!0,children:n}),(0,r.jsx)(Pe.Content,{children:(0,r.jsx)(Do.ZP,{position:Do.ZP.Positions.RIGHT,renderPopout:null!=a?a:ae.dG4,autoInvert:!1,children:function(e){return(0,r.jsx)(Pe.Icon,li(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ci(e,t,n[t])}))}return e}({},e),{icon:Lo.Z,label:R.Z.Messages.SETTINGS}))}})})]}):o;return(0,r.jsxs)("div",{className:ai().sidebar,
children:[t,(0,r.jsx)("div",{className:ai().children,children:i})]})};var si=n(733346),fi=n(329132),di=n.n(fi);function pi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hi(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function yi(e){yi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return yi(e)}function vi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){hi(e,t,n[t])}))}return e}function bi(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function gi(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function mi(e,t){return!t||"object"!==Si(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Oi(e,t){Oi=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Oi(e,t)}var Si=function(e){
return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ei(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=yi(e);if(t){var o=yi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return mi(this,n)}}var wi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Oi(e,t)}(n,e);var t=Ei(n);function n(){pi(this,n);var e;(e=t.apply(this,arguments)).state={controller:new Eo.Controller({value:1,immediate:!0}),renderBanner:!1,bannerVisible:!1,communityInfoVisible:!1};e.handleScroll=function(t){var n=t.scrollTop
;e.setAnimatedValue(n)};return e}var o=n.prototype;o.componentDidMount=function(){var e=this.props.guildId,t=To.Z.getGuildDimensions(e).scrollTop;this.setAnimatedValue(null!=t?t:0)};o.componentDidUpdate=function(e){var t=this.props,n=t.guild,r=t.guildId;if(e.guild!==n){var o=To.Z.getGuildDimensions(r).scrollTop;this.setAnimatedValue(null!=o?o:0)}};o.renderSettings=function(e){var t=e.closePopout;return(0,r.jsx)(oi,{onClose:t})};o.setAnimatedValue=function(e){var t=this.props.guild,n=null==t?void 0:t.hasCommunityInfoSubheader();null==t||null==t.banner&&!n||(null!=t.banner?this.setAnimatedValueForBanner(e):this.setAnimatedValueForCommunityInfo(e))};o.setAnimatedValueForBanner=function(e){var t=this.state,n=t.renderBanner,r=t.communityInfoVisible,o=t.bannerVisible,i=t.controller;(e>=54&&o||e<54&&!o)&&(o=!o);(e>=78&&!n||e<78&&n)&&(n=!n);r=o;n===this.state.renderBanner&&o===this.state.bannerVisible&&r===this.state.communityInfoVisible||this.setState({renderBanner:n,bannerVisible:o,
communityInfoVisible:r});i.update({value:Math.min(1,Math.max(0,1-e/78)),immediate:!0}).start()};o.setAnimatedValueForCommunityInfo=function(e){var t=this.state,n=t.communityInfoVisible,r=t.controller;(e>=20&&n||e<20&&!n)&&this.setState({communityInfoVisible:!n});r.update({value:Math.min(1,Math.max(0,1-e/20)),immediate:!0}).start()};o.render=function(){var e=this.props,t=e.onDragStart,n=gi(e,["onDragStart"]),o=n.guild,i=this.state,a=i.controller,c=i.renderBanner,l=i.bannerVisible,u=i.communityInfoVisible,s=o.id===si._?Co.j:Co.E;return(0,r.jsxs)(ui,{header:(0,r.jsx)(Po.ZP,{guild:o,controller:a,renderBanner:c,bannerVisible:l,className:di().guildHeader,headerClassName:di().guildHeaderInner,onMouseDown:t,disableBannerAnimation:!1,communityInfoVisible:u,children:(0,r.jsx)(Do.ZP,{position:Do.ZP.Positions.RIGHT,renderPopout:this.renderSettings,children:function(e){return(0,r.jsx)(Pe.Icon,vi({icon:Lo.Z,label:R.Z.Messages.SETTINGS},e))}})}),children:[(0,r.jsx)("div",{className:di().channelList,
children:(0,r.jsx)(s,bi(vi({},n),{guild:o,disableManageChannels:!0,onScroll:null!=o&&null!=o.banner?this.handleScroll:null}))}),(0,r.jsx)("section",{className:di().panels,"aria-label":R.Z.Messages.ACCOUNT_A11Y_LABEL,children:(0,r.jsx)(wo.Z,{guildId:o.id})})]})};n.getDerivedStateFromProps=function(e){var t=e.guild;return null==t||null==t.banner?{renderBanner:!1,bannerVisible:!1}:null};return n}(o.PureComponent);function ji(e){var t=e.guildId,n=(0,i.e7)([Rt.Z],(function(){return Rt.Z.getGuild(t)})),o=(0,i.e7)([Xt.ZP],(function(){return Xt.ZP.getChannels(t)})),a=(0,i.e7)([Ro.Z],(function(){return Ro.Z.getCategories(t)})),c=(0,i.cj)([ko.Z],(function(){return{mutedChannels:ko.Z.getMutedChannels(t),collapseMuted:ko.Z.isGuildCollapsed(t)}})),l=c.mutedChannels,u=c.collapseMuted,s=(0,i.e7)([Mo.ZP],(function(){return Mo.ZP.getVoiceStates(t)})),f=(0,i.e7)([No.Z],(function(){return No.Z.getCollapsed()})),d=(0,i.e7)([To.Z],(function(){return To.Z.getGuildDimensions(t)})).scrollTo,p=(0,
Io.Z)((function(e){return e.channelId})),h=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),y=(0,i.e7)([qt.Z],(function(){return qt.Z.getGuildVersion(t)})),v=(0,i.e7)([xo.Z],(function(){return xo.Z.version})),b=(0,i.e7)([Ao.Z],(function(){return Ao.Z.getGuildChangeSentinel(t)})),g=(0,jo.Q)(null==n?void 0:n.id),m=(0,_o.gM)(null==n?void 0:n.id),O=(0,Zo.i8)(t);return(0,r.jsx)(wi,{guildId:t,guild:n,channels:o,categories:a,mutedChannels:l,scrollToChannel:d,selectedChannelId:p,selectedVoiceChannelId:h,voiceStates:s,collapsedChannels:f,collapseMuted:u,guildReadStateSentinel:b,permissionVersion:y,categoryCollapseVersion:v,embeddedAppsByChannel:g,activeEventsByChannel:m,showNewUnreadsBar:O,optInEnabled:!1})}var _i=n(428907),Ci=n(112886),Pi=n(47254),Zi=n.n(Pi),Ii=function(){return(0,Ci.$Z)("DM_SEARCH")};function xi(){var e=(0,i.e7)([Ut.Z],(function(){return Ut.Z.isUILocked((0,xe.QF)())?"true":"false"})),t=(0,Io.Z)((function(e){return e.channelId}));return(0,r.jsxs)("div",{
className:Zi().privateChannels,children:[(0,r.jsx)("div",{className:Zi().searchBar,children:(0,r.jsx)("button",{type:"button",className:Zi().searchBarComponent,onClick:Ii,children:R.Z.Messages.DM_SEARCH_PLACEHOLDER})}),(0,r.jsx)(_i.Z,{padding:8,theme:ae.BRd.DARK,version:e,selectedChannelId:t}),(0,r.jsx)("section",{className:Zi().panels,"aria-label":R.Z.Messages.ACCOUNT_A11Y_LABEL,children:(0,r.jsx)(wo.Z,{guildId:null})})]})}const Ni=o.memo(xi);var Ti=n(865037),Ri=n.n(Ti);function Ai(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ki(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Mi(e){Mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Mi(e)}function Di(e,t){return!t||"object"!==Vi(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Li(e,t){Li=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Li(e,t)}var Vi=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Bi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Mi(e);if(t){var o=Mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Di(this,n)}}function Ui(e){var t=e.closePopout;return(0,r.jsx)(oi,{onClose:t})}var zi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{
value:e,writable:!0,configurable:!0}});t&&Li(e,t)}(n,e);var t=Bi(n);function n(){Ai(this,n);var e;(e=t.apply(this,arguments)).onDragStart=function(t){(0,e.props.dragStart)(fo.MOVE,t.clientX,t.clientY)};return e}n.prototype.render=function(){var e=this.props,t=e.selectedGuildId,n=e.locked,o=e.contained,i=null!=t?(0,r.jsx)(ji,{guildId:t,onDragStart:this.onDragStart},t):(0,r.jsx)(ui,{title:R.Z.Messages.DIRECT_MESSAGES,renderSettings:Ui,onDragStart:this.onDragStart,children:(0,r.jsx)(Ni,{})}),a=o?"div":Pe;return(0,r.jsxs)(a,{className:m()(Ri().base,ki({},Ri().widget,!o)),children:[(0,r.jsx)(So.Z,{isOverlay:!0,disableAppDownload:!0,isVisible:!n}),i]})};return n}(o.PureComponent);zi.defaultProps={contained:!1};const Gi=i.ZP.connectStores([Jt.Z],(function(){return{selectedGuildId:Jt.Z.getGuildId()}}))(zi)
;var Yi=n(741655),Wi=n(549425),Hi=n(541307),Fi=n(511479),Ki=n(567007),Xi=n(748670),Qi=n(300376),qi=n(884021),Ji=n(303540),$i=n(425309),ea=n(99719),ta=n(691869),na=n(172458),ra=n(144109),oa=n(994858),ia=n(640753),aa=n(729216),ca=n(302561),la=n(11870),ua=n(402124),sa=n(179468),fa=n(171447),da=n(401386),pa=n(882699),ha=n(391595),ya=n(254274);var va=n(804626),ba=n(782226),ga=n(772235),ma=n(53551),Oa=n(464623),Sa=n(429677),Ea=n(845724),wa=n(58877);function ja(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function _a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function Ca(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Pa(e){var t=e.width,n=void 0===t?24:t,o=e.height,i=void 0===o?24:o,a=e.color,c=void 0===a?"currentColor":a,l=e.foreground,u=Ca(e,["width","height","color","foreground"]);return(0,r.jsx)("svg",_a(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){ja(e,t,n[t])}))}return e}({},(0,q.Z)(u)),{
width:n,height:i,viewBox:"0 0 24 24",children:(0,r.jsx)("path",{fill:c,className:l,fillRule:"evenodd",clipRule:"evenodd",d:"M21 2H3C1.897 2 1 2.898 1 4V6H23V4C23 2.898 22.103 2 21 2ZM13 12H15V14H13V12ZM11 12H13V10H15V12H17V14H15V16H13V14H11V12ZM9 12H11V10H9V12ZM9 14V12H7V10H5V12H7V14H5V16H7V18H9V16H11V18H13V16H11V14H9ZM9 14V16H7V14H9ZM17 16V14H19V16H17ZM17 16H15V18H17V16ZM17 12H19V10H17V12ZM3 22C1.897 22 1 21.103 1 20V7H23V20C23 21.103 22.103 22 21 22H3Z"})}))}var Za=n(924635),Ia=n(27617),xa=n(476213),Na=n(272729);function Ta(e){switch(e){case ya.w.BOTTOM:return ya.w.BOTTOM;case ya.w.LOWER:return ya.w.LOWER;case ya.w.UPPER:return ya.w.UPPER;default:return ya.w.TOP}}var Ra=n(545262),Aa=n.n(Ra);function ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ma(e){Ma=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Ma(e)}function Da(e,t){
return!t||"object"!==Va(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function La(e,t){La=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return La(e,t)}var Va=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Ba(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Ma(e);if(t){var o=Ma(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Da(this,n)}}var Ua=Object.values(ya.w).map((function(e){return 100*e})),za=(0,Na.hQ)(),Ga=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&La(e,t)}(n,e);var t=Ba(n);function n(){ka(this,n);var e;(e=t.apply(this,arguments)).initialValue=100*e.props.opacity;return e}var o=n.prototype;o.handleUpdateBackgroundOpacity=function(e){O.Z.setTextWidgetOpacity(Ta(e/100));O.Z.track(ae.rMx.OVERLAY_SETTINGS_UPDATED,{text_opacity_slider:e})};o.handlePreviewBackgroundOpacity=function(e){O.Z.setTextWidgetOpacity(Ta(e/100))};o.render=function(){return(0,r.jsxs)("div",{className:Aa().container,children:[(0,r.jsx)(Go.Z,{id:za,tag:Go.$.H5,className:Aa().title,children:R.Z.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY}),(0,r.jsx)("div",{className:Aa().sliderContainer,children:(0,r.jsx)(xa.Z,{mini:!0,initialValue:this.initialValue,defaultValue:this.initialValue,minValue:Ua[0],maxValue:Ua[Ua.length-1],handleSize:10,
onValueChange:this.handleUpdateBackgroundOpacity,asValueChanges:this.handlePreviewBackgroundOpacity,markers:Ua,onMarkerRender:ae.dG4,equidistant:!0,stickToMarkers:!0,"aria-labelledby":za})})]})};return n}(o.PureComponent);const Ya=i.ZP.connectStores([Ut.Z],(function(){return{opacity:Ut.Z.getTextWidgetOpacity()}}))(Ga);var Wa=n(973337),Ha=n.n(Wa);function Fa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ka(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Xa(e){Xa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Xa(e)}function Qa(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function qa(e,t){return!t||"object"!==$a(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ja(e,t){Ja=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Ja(e,t)}var $a=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ec(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Xa(e);if(t){var o=Xa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return qa(this,n)}}var tc=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Ja(e,t)}(n,e);var t=ec(n);function n(){Fa(this,n);var e;(e=t.apply(this,arguments)).state={showOpacitySlider:!1};e.handleClickCall=function(t){var n=e.props,r=n.channel,o=n.userIsInChannelCall,i=n.channelHasActiveCall;if(i)o?va.default.selectVoiceChannel(null):O.Z.callPrivateChannel(r.id,!1);else{var a=!i&&!t.shiftKey;O.Z.callPrivateChannel(r.id,a)}};e.handleOpenOpacitySettings=function(){var t=e.props.pinned;e.setState({showOpacitySlider:!0});t&&O.Z.setPreviewInGameMode(!0)};e.handleCloseOpacitySettings=function(){var t=e.props.pinned;e.setState({showOpacitySlider:!1});t&&O.Z.setPreviewInGameMode(!1)};e.handleMouseDown=function(t){var n=e.props.onMouseDown;null!=n&&n(t)};e.renderWidgetButtons=function(){
var t=e.props,n=t.locked,i=t.handlePin,a=t.pinned,c=a?R.Z.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:R.Z.Messages.OVERLAY_WIDGET_SHOW_IN_GAME;return n?null:(0,r.jsxs)(o.Fragment,{children:[e.renderCallButton(),a?(0,r.jsx)(ba.Z.Icon,{icon:Pa,tooltip:R.Z.Messages.FORM_LABEL_OVERLAY_CHAT_OPACITY,onClick:e.handleOpenOpacitySettings}):null,(0,r.jsx)(ba.Z.Icon,{icon:a?Ia.Z:Za.Z,tooltip:c,selected:a,onClick:i})]})};return e}var i=n.prototype;i.componentDidUpdate=function(){this.props.locked&&this.state.showOpacitySlider&&this.setState({showOpacitySlider:!1})};i.renderCallButton=function(){var e,t,n=this.props,o=n.channel,i=n.channelHasActiveCall,a=n.userIsInChannelCall,c=n.isBlocked;if(!(0,ma.hv)(o.type))return null;var l=Sa.Z,u=!1;if(i)if(a){e=R.Z.Messages.LEAVE_CALL;l=Ea.Z}else e=R.Z.Messages.JOIN_CALL;else if(c){e=R.Z.Messages.CALL_UNAVAILABLE_BLOCKED_USERS;t=oe.ZP.Colors.RED;u=!0}else e=R.Z.Messages.START_VOICE_CALL;return(0,r.jsx)(ba.Z.Icon,{icon:l,tooltip:e,onClick:this.handleClickCall,
tooltipColor:t,disabled:u})};i.render=function(){var e=this.props,t=e.className,n=e.draggableClassName,o=e.locked,i=e.channel,a=e.channelName,c=e.guild,l=e.onMouseDown,u=e.onContextMenu,s=e.isPreviewingInGame,f=e.disableDragIndicator,d=o||s?null:1;return this.state.showOpacitySlider&&!o?(0,r.jsxs)(Pe.Bar,{className:Ha().opacityHeader,children:[(0,r.jsx)(Ya,{}),(0,r.jsx)(ba.Z.Icon,{icon:N.Z,onClick:this.handleCloseOpacitySettings,tooltip:R.Z.Messages.CLOSE})]}):(0,r.jsx)(Pe.Background,{opacityOverride:d,children:(0,r.jsx)("div",{className:m()(t,n,Ha().headerContainer),onMouseDown:l,onContextMenu:u,children:(0,r.jsxs)(ba.Z,{guildId:i.guild_id,channelId:i.id,toolbar:this.renderWidgetButtons(),transparent:!0,children:[s||o||f?null:(0,r.jsx)(wa.Z,{className:m()(Ha().dragIcon,n),width:20,height:20}),(0,ga.ud)({channel:i,channelName:a}),o?null:(0,ga.v0)(i,c)]})})})};return n}(o.Component);function nc(e){var t=e.channel,n=Qa(e,["channel"]),o=(0,i.e7)([Mt.Z,Tt.Z],(function(){
var e=Mt.Z.getVoiceChannelId();return Tt.Z.getChannel(e)})),a=(0,i.e7)([Rt.Z],(function(){return Rt.Z.getGuild(t.guild_id)})),c=(0,i.e7)([Oa.Z],(function(){return Oa.Z.isCallActive(t.id)})),l=(0,Ln.Z)(t),u=(0,i.e7)([Vn.Z],(function(){return!(!t.isDM()||null==t.getRecipientId())&&Vn.Z.isBlocked(t.getRecipientId())}));return(0,r.jsx)(tc,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Ka(e,t,n[t])}))}return e}({channel:t,channelName:l,guild:a,channelHasActiveCall:c,userIsInChannelCall:null!=o&&o.id===t.id,isBlocked:u},n))}var rc=n(672975),oc=n.n(rc);function ic(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ac(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}
c.done?t(l):Promise.resolve(l).then(r,o)}function cc(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){ac(i,r,o,a,c,"next",e)}function c(e){ac(i,r,o,a,c,"throw",e)}a(void 0)}))}}function lc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uc(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function sc(e){sc=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return sc(e)}function fc(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&vc(e,t)}function dc(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){uc(e,t,n[t])}))}return e}function pc(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function hc(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r]
;t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function yc(e,t){return!t||"object"!==gc(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function vc(e,t){vc=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return vc(e,t)}function bc(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ic(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ic(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gc=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function mc(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=sc(e);if(t){var o=sc(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return yc(this,n)}}var Oc=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},Sc=ya.w.TOP,Ec=function(e){fc(n,e);var t=mc(n);function n(e){lc(this,n);var o
;(o=t.call(this,e)).draftDidChange=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.props,t=o.state.textValue,n=ua.Z.getDraft(e.channel.id,ua.d.ChannelMessage);t!==n&&""===n&&o.setState((0,na.eK)(n))};o.handleTextareaKeyDown=function(e){if(!(e.which!==ae.yXg.ARROW_UP||e.shiftKey||e.altKey||e.ctrlKey||e.metaKey)&&0===o.state.textValue.length){e.preventDefault();var t=o.props.channel,n=fa.Z.getLastEditableMessage(t.id);null!=n&&Wi.Z.startEditMessage(t.id,n.id,n.content)}};o.handleTextareaChange=function(e,t,n){var r=o.props.channel.id;Yi.Z.changeDraft(r,o.state.textValue,ua.d.ChannelMessage);""!==t?Hi.Z.startTyping(r):Hi.Z.stopTyping(r);o.setState({textValue:t,richValue:n})};o.handleSendMessage=function(e){var t=e.value,n=o.props,r=n.channel,i=n.pendingReply,a=n.isTemporarilyActive;return 0===t.length?Promise.resolve({shouldClear:!1,shouldRefocus:!0}):(0,ha.v)({openWarningPopout:function(e){return o.setState({contentWarningProps:e})},type:ta.I.OVERLAY,content:t,
channel:r}).then((function(e){var n=e.valid,c=e.failureReason;if(!n){if(c===ae.zYc.SLOWMODE_COOLDOWN){pa.S.dispatch(ae.CkL.EMPHASIZE_SLOWMODE_COOLDOWN);return{shouldClear:!1,shouldRefocus:!0}}return{shouldClear:!1,shouldRefocus:!1}}var l=Wi.Z.getSendMessageOptionsForReply(i);Wi.Z.sendMessage(r.id,ia.ZP.parse(r,t),!0,l);o.setState((0,na.H2)());(0,ca.A6)(r.id);if(a){O.Z.deactivateAllRegions();return{shouldClear:!1,shouldRefocus:!1}}return{shouldClear:!0,shouldRefocus:!0}}))};o.focusInput=function(){o.setState({focused:!0})};o.blurInput=function(){o.setState({focused:!1})};o.renderAttachButton=function(e,t){return(0,r.jsx)(ra.Z,{className:t,channel:o.props.channel,draftType:ua.d.ChannelMessage,editorTextContent:o.state.textValue,setValue:function(e){return o.handleTextareaChange(null,e,(0,na.JM)(e))},canShowPremiumTrialTutorial:e})};ua.Z.addChangeListener(o.draftDidChange);var i=ua.Z.getDraft(e.channel.id,ua.d.ChannelMessage);o.state=pc(dc({},(0,na.eK)(i)),{focused:!1,
contentWarningProps:null});pa.S.subscribe(ae.CkL.TEXTAREA_FOCUS,o.focusInput);pa.S.subscribe(ae.CkL.TEXTAREA_BLUR,o.blurInput);return o}var o=n.prototype;o.componentDidUpdate=function(e){e.channel.id!==this.props.channel.id&&this.draftDidChange(this.props);(this.props.channel!==e.channel||this.props.isTemporarilyActive&&!e.isTemporarilyActive)&&this.setState({focused:!0})};o.componentWillUnmount=function(){ua.Z.removeChangeListener(this.draftDidChange);pa.S.unsubscribe(ae.CkL.TEXTAREA_FOCUS,this.focusInput);pa.S.unsubscribe(ae.CkL.TEXTAREA_BLUR,this.blurInput)};o.render=function(){var e=this,t=this.props,n=t.channel,o=t.placeholder,i=hc(t,["channel","placeholder"]),a=this.state,c=a.focused,l=a.textValue,u=a.contentWarningProps,s=a.richValue,f=(0,r.jsx)(Do.ZP,{position:Do.ZP.Positions.TOP,onRequestClose:function(){var t;null==u||null===(t=u.onCancel)||void 0===t||t.call(u);e.setState({contentWarningProps:null})},shouldShow:null!=u,renderPopout:function(e){var t=e.closePopout
;hn()(null!=u,"ConnectedChannelTextArea.render - renderPopout: contentWarningProps cannot be null");return(0,r.jsx)(Ji.Z,dc({onClose:t},u))},children:function(){return(0,r.jsx)(oa.Z,pc(dc({},i),{renderAttachButton:e.renderAttachButton,channel:n,type:ta.I.OVERLAY,onFocus:function(){return e.setState({focused:!0})},onBlur:function(){return e.setState({focused:!1})},placeholder:o,textValue:l,richValue:s,onSubmit:e.handleSendMessage,onChange:e.handleTextareaChange,onKeyDown:e.handleTextareaKeyDown,focused:c}))}});return n.isPrivate()?(0,r.jsx)(Xi.Z,{channel:n,children:f},n.id):(0,r.jsx)(Qi.Z,{channel:n,children:f},n.id)};return n}(o.Component),wc=function(e){fc(i,e);var t=mc(i);function i(){lc(this,i);var e;(e=t.apply(this,arguments)).handlePin=function(){O.Z.setPinChat(!e.props.pinned)};e.handleContextMenu=function(t){var o=e.props,i=o.channel,a=o.user;null!=i&&null!=a&&(0,mt.jW)(t,cc((function(){var e,t;return Oc(this,(function(o){switch(o.label){case 0:
return[4,Promise.all([n.e(87996),n.e(45323),n.e(63952)]).then(n.bind(n,281327))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,pc(dc({},e),{user:a,channelSelected:!0,channel:i}))}]}}))})))};e.moveDragStart=function(t){(0,e.props.dragStart)(fo.MOVE,t.clientX,t.clientY)};e.resizeDragStart=function(t){(0,e.props.dragStart)(fo.RESIZE_SOUTH_EAST,t.clientX,t.clientY)};return e}var a=i.prototype;a.componentDidUpdate=function(e){var t=this.props,n=t.channel,r=t.pinned,o=t.activated;if(null!=n){r!==e.pinned&&O.Z.track(ae.rMx.OVERLAY_PIN_TOGGLED,{pinned:r,guild_id:n.guild_id,channel_id:n.id,channel_type:n.type,widget_type:ae.Odu.TEXT});o&&!e.activated&&O.Z.track(ae.rMx.OVERLAY_UNLOCKED,{channel_id:n.id,channel_type:n.type,guild_id:n.guild_id})}};a.getOpacity=function(){var e=this.props,t=e.locked,n=e.activated,r=e.opacity,o=e.isPreviewingInGame;return t&&!n||o?r/100:n||!t?Math.min(1,(r+25)/100):1};a.renderContent=function(){
var e=this.props,t=e.channel,n=e.placeholder,i=e.nsfwAgree,a=e.guild,c=e.locked,l=e.activated,u=e.chatKeybind,s=e.pinned,f=e.isPreviewingInGame,d=e.dragging,p=e.pendingReply;if(null==t)return null;var h,y,v=c||f,b=!i&&null!=t&&t.isNSFW(),g=!v||l;h=b&&null!=a?(0,r.jsx)($i.Z,{guild:a}):(0,r.jsx)(aa.Z,{channel:t,className:oc().messages,forceCompact:s,showNewMessagesBar:!v,scrollerClassName:s?oc().scroller:void 0,showingSpamBanner:!1,showingQuarantineBanner:!1},t.id);return(0,r.jsx)(da.G.Provider,{value:{disableInteractions:s&&c&&!l,disableAnimations:s&&v&&!l},children:(0,r.jsxs)(o.Fragment,{children:[!c&&!f&&(0,r.jsx)(Ki.Z,{channel:t,guild:a}),(0,r.jsx)(Pe.Background,{opacityOverride:c||f?null:Sc,children:(0,r.jsx)("div",{className:m()(oc().messagesContainer,(y={},uc(y,oc().isDragging,d),uc(y,oc().disableHoverStates,s&&c&&!l),y)),children:h})}),b?null:(0,r.jsx)("div",{children:g?(0,r.jsx)(Pe.Background,{opacityOverride:c||f?null:Sc,children:(0,r.jsxs)("div",{className:oc().footerContent,
children:[(0,r.jsx)(Ec,{channel:t,placeholder:n,isTemporarilyActive:l,pendingReply:p}),(0,r.jsx)("div",{className:oc().typingWrapper,children:(0,r.jsx)(qi.Z,{channel:t,className:oc().typing})})]})}):(0,r.jsx)("div",{className:oc().activateContainer,children:(0,r.jsx)(Pe.Background,{opacityOverride:ya.w.LOWER,children:(0,r.jsx)("div",{className:m()(oc().activateKeybind,oc().mediumBackgroundOpacity),children:null!=t.name&&t.name.length>0?R.Z.Messages.OVERLAY_CHANNEL_CHAT_HOTKEY.format({keybind:u,channelName:t.isMultiUserDM()?t.name:"#".concat(t.name)}):R.Z.Messages.OVERLAY_USER_CHAT_HOTKEY.format({keybind:u})})})})})]})})};a.renderWidgetWrapper=function(e){var t=this.props,n=t.locked,o=t.pinned,i=t.activated,a=t.isPreviewingInGame,c=t.opacity,l=ae.t_t.UNPINNED;i?l=ae.t_t.IN_GAME_ACTIVE:o&&n||a?l=ae.t_t.IN_GAME_TEXT:o&&(l=ae.t_t.PINNED);var u,s=n&&!i||a,f=o&&(s||i),d=o&&i,p=o&&s&&!i,h=function(e){switch(e){case ya.w.BOTTOM:return ya.a.LOW;case ya.w.LOWER:return ya.a.MEDIUM
;case ya.w.UPPER:return ya.a.HIGH;case ya.w.TOP:return ya.a.FULL;default:return}}(c);return(0,r.jsx)(Pe,{className:m()(h,(u={},uc(u,oc().widgetWrapper,!o),uc(u,oc().widgetWrapperPinned,o),uc(u,oc().locked,p),uc(u,oc().inGame,f),uc(u,oc().inGameActive,d),uc(u,oc().pinned,o),uc(u,"overlay-unlocked",!n),u)),type:l,opacity:c,children:e})};a.renderContainedWrapper=function(e){return(0,r.jsx)("div",{className:oc().contained,children:e})};a.render=function(){var e=this.props,t=e.locked,n=e.channel,i=e.pinned,a=e.isPreviewingInGame,c=e.contained;if(null==n)return null;var l=(0,r.jsxs)(o.Fragment,{children:[(0,r.jsx)(nc,{draggableClassName:oc().draggableStartArea,className:oc().headerDefault,channel:n,locked:t,pinned:i,disableDragIndicator:c,isPreviewingInGame:a,handlePin:this.handlePin,onContextMenu:this.handleContextMenu,onMouseDown:this.moveDragStart}),this.renderContent(),t||a?null:(0,r.jsx)("div",{className:oc().resizeIcon,onMouseDown:this.resizeDragStart})]})
;return c?this.renderContainedWrapper(l):this.renderWidgetWrapper(l)};return i}(o.PureComponent);function jc(e){var t=e.contained,n=void 0!==t&&t,o=hc(e,["contained"]),a=(0,i.e7)([Jt.Z],(function(){return Jt.Z.getGuildId()})),c=(0,i.e7)([Mt.Z],(function(){return Mt.Z.getChannelId(a)})),l=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getChannel(c)})),u=(0,i.e7)([Bt.Z],(function(){return Bt.Z.getOverlayChatKeybind()})),s=null!=u?(0,Wt.BB)(u.shortcut,!0):"]",f=bc((0,i.Wu)([Ut.Z],(function(){return[Ut.Z.getTextWidgetOpacity(),Ut.Z.getActiveRegions(),!n&&Ut.Z.isPreviewingInGame()]})),3),d=f[0],p=f[1],h=f[2],y=(0,i.e7)([Rt.Z],(function(){return Rt.Z.getGuild(a)})),v=(0,i.e7)([sa.Z],(function(){return null!=a&&sa.Z.didAgree(a)})),b=null!=l&&l.isPrivate()?l.getRecipientId():null,g=(0,i.e7)([la.Z],(function(){return null!=c?la.Z.getPendingReply(c):void 0})),m=(0,i.e7)([$t.default],(function(){return null!=b?$t.default.getUser(b):null})),O=(0,ea.Z)(l).placeholder
;return null!=l&&null!=y&&l.type===ae.d4z.GUILD_FORUM?(0,r.jsx)(Fi.Z,{}):(0,r.jsx)(wc,dc({guild:y,channel:l,user:m,opacity:d,nsfwAgree:v,chatKeybind:s,activated:p.has(ae.O0n.TEXT_WIDGET),isPreviewingInGame:h,pendingReply:g,contained:n,placeholder:O},o))}var _c=n(244764),Cc=n.n(_c);function Pc(e){var t=e.dragStart,n=e.dragging,o=e.pinned,i=e.locked;return(0,r.jsxs)(Pe,{className:Cc().wrapper,children:[(0,r.jsx)(Gi,{contained:!0,dragStart:t,locked:i}),(0,r.jsx)(jc,{dragStart:t,locked:i,pinned:o,dragging:n,contained:!0})]})}function Zc(e){var t;return null!=e?{id:e.id,name:null!==(t=e.name)&&void 0!==t?t:""}:null}var Ic=n(258698),xc=n(367124),Nc=n(403872),Tc=n(945505),Rc=n(489992),Ac=n(370442),kc=n(832010),Mc=n(997163),Dc=n(988279),Lc=n(987866),Vc=n(820498),Bc=n(312855),Uc=n(204369),zc=n(296942),Gc=n(349832),Yc=n(248604),Wc=n(693518),Hc=n(915306),Fc=n(789093),Kc=n(462428),Xc=n(430542),Qc=n(109707),qc=n(473727),Jc=n(600341),$c=n(8062),el=n(630164),tl=n(23531),nl=n(882687);function rl(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ol(e){ol=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return ol(e)}function il(e,t){return!t||"object"!==cl(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function al(e,t){al=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return al(e,t)}var cl=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ll(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=ol(e);if(t){var o=ol(this).constructor;n=Reflect.construct(r,arguments,o)
}else n=r.apply(this,arguments);return il(this,n)}}var ul={};function sl(e){var t=ul[e=null!=e?e:"null"];null==t&&(t=ul[e]={state:ae.hes.DISCONNECTED,quality:ae.IE4.UNKNOWN,pings:[],hostname:null,lossRate:null});return t}function fl(e,t,n){var r=ul[e=null!=e?e:"null"];return null!=r?t(r):n}function dl(e){var t=e.lobbyId;delete ul[t]}var pl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&al(e,t)}(n,e);var t=ll(n);function n(){rl(this,n);return t.apply(this,arguments)}var r=n.prototype;r.getConnectionState=function(e){return fl(e,(function(e){return e.state}),ae.hes.DISCONNECTED)};r.getQuality=function(e){return fl(e,(function(e){return e.quality}),ae.IE4.UNKNOWN)};r.getHostname=function(e){return fl(e,(function(e){return e.hostname}),null)};r.getPings=function(e){return fl(e,(function(e){return e.pings
}),[])};r.getAveragePing=function(e){var t=this.getPings(e);return 0===t.length?0:t.reduce((function(e,t){return e+t.value}),0)/t.length};r.getLastPing=function(e){var t,n=this.getPings(e);return 0===n.length?0:null===(t=n[n.length-1])||void 0===t?void 0:t.value};r.getOutboundLossRate=function(e){return fl(e,(function(e){return e.lossRate}),null)};r.__getLocalVars=function(){return{rtcConnectionStates:ul}};return n}(i.ZP.Store);pl.displayName="OverlayRTCConnectionStore";const hl=new pl(bn.Z,{OVERLAY_INITIALIZE:function(e){ul=e.rtcConnectionStates},RTC_CONNECTION_STATE:function(e){if(null!=e.streamKey)return!1;var t=sl(e.lobbyId);t.state=e.state;t.hostname=e.hostname},RTC_CONNECTION_PING:function(e){var t=sl(e.lobbyId);t.pings=e.pings;t.quality=e.quality},RTC_CONNECTION_LOSS_RATE:function(e){sl(e.lobbyId).lossRate=e.lossRate},LOBBY_DELETE:dl,LOBBY_DISCONNECT:dl});var yl=n(449223),vl=n(353967),bl=n(993167),gl=n(433415),ml=n(230365),Ol=n(679805),Sl=n.n(Ol),El=n(444013),wl=n.n(El)
;function jl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Pl(e){Pl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Pl(e)}function Zl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){Cl(e,t,n[t])}))}return e}function Il(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){
var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function xl(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Nl(e,t){return!t||"object"!==Al(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Tl(e,t){Tl=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Tl(e,t)}function Rl(e,t){return function(e){if(Array.isArray(e))return e
}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return jl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jl(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Al=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function kl(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Pl(e);if(t){var o=Pl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nl(this,n)}}function Ml(e){var t=e.lobbyId,n=(0,i.cj)([hl],(function(){return{connectionState:hl.getConnectionState(t),hostname:hl.getHostname(t),averagePing:hl.getAveragePing(t),lastPing:hl.getLastPing(t),pings:hl.getPings(),outboundLossRate:hl.getOutboundLossRate(t)}}));return(0,r.jsx)(tl.Z,Zl({},n))}var Dl=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Tl(e,t)}(n,e);var t=kl(n);function n(){_l(this,n);var e;(e=t.apply(this,arguments)).handleToggleSelfMute=function(){
var t=e.props.context;Jc.Z.toggleSelfMute({context:t})};e.handleToggleSelfDeaf=function(){var t=e.props.context;Jc.Z.toggleSelfDeaf({context:t})};e.renderPopout=function(){var t=e.props.lobbyId;return(0,r.jsx)(Ml,{lobbyId:t})};return e}var o=n.prototype;o.handleDisconnect=function(){va.default.selectVoiceChannel(null)};o.renderLobby=function(){return(0,r.jsx)(Xc.Z,{className:wl().channel,children:R.Z.Messages.LOBBY})};o.renderChannelLink=function(e){var t=this.props.guild,n=(0,Ln.F)(e,$t.default,Vn.Z),o=null!=t?"".concat(n," / ").concat(t.name):n,i=null!=t?t.id:ae.ME;return(0,r.jsx)(qc.rU,{to:ae.Z5c.CHANNEL(i),onClick:function(t){t.stopPropagation();$c.Z.channelListScrollTo(i,e.id)},children:(0,r.jsx)(Xc.Z,{className:wl().channel,children:o})})};o.render=function(){var e=this,t=this.props,n=t.className,o=t.contentClassName,i=t.pinned,a=t.lobbyId,c=t.channel,l=t.quality,u=t.lastPing,s=t.hasVideo,f=t.connectionState,d=t.deaf,p=t.mute;return null==c&&null==a?null:(0,r.jsx)(Pe.Bar,{
className:m()(n,Sl().controls,Cl({},Sl().unpinned,!i)),children:(0,r.jsxs)(Pe.Content,{className:m()(o,Sl().content),dynamicSize:!0,children:[(0,r.jsx)("div",{className:wl().inner,children:(0,r.jsx)(Do.ZP,{renderPopout:this.renderPopout,position:Do.ZP.Positions.TOP,children:function(t){return(0,r.jsx)(w.Z,Il(Zl({},t),{children:(0,r.jsx)(el.Z,{statusTextClassName:wl().statusWithPopout,quality:l,lastPing:u,hasVideo:s,state:f,children:null!=c?e.renderChannelLink(c):e.renderLobby()})}))}})}),(0,r.jsxs)(Gt.Z,{grow:0,children:[(0,r.jsx)(ml.Z,{tooltipText:p?R.Z.Messages.UNMUTE:R.Z.Messages.MUTE,icon:p?gl.Z:bl.Z,iconForeground:p?Sl().strikethrough:null,onClick:this.handleToggleSelfMute}),(0,r.jsx)(ml.Z,{tooltipText:d?R.Z.Messages.UNDEAFEN:R.Z.Messages.DEAFEN,icon:d?vl.Z:yl.Z,onClick:this.handleToggleSelfDeaf,iconForeground:d?Sl().strikethrough:null}),null==a&&(0,r.jsx)(ml.Z,{tooltipText:R.Z.Messages.DISCONNECT_SELF,onClick:this.handleDisconnect,icon:Ea.Z})]})]})})};return n}(o.PureComponent)
;function Ll(e){var t=e.context,n=e.lobbyId,o=e.channel,a=xl(e,["context","lobbyId","channel"]),c=(0,i.e7)([Rt.Z],(function(){return Rt.Z.getGuild(null==o?void 0:o.getGuildId())})),l=(0,i.e7)([nl.Z],(function(){return null!=o&&nl.Z.hasVideo(o.id)})),u=Rl((0,i.Wu)([At.Z],(function(){return[At.Z.isSelfMute(t)||At.Z.isSelfMutedTemporarily(t),At.Z.isSelfDeaf(t)]})),2),s=u[0],f=u[1],d=Rl((0,i.Wu)([hl],(function(){return[hl.getConnectionState(n),hl.getLastPing(n),hl.getQuality(n)]})),3),p=d[0],h=d[1],y=d[2];return(0,r.jsx)(Dl,Il(Zl({},a),{context:t,lobbyId:n,channel:o,guild:c,hasVideo:l,mute:s,deaf:f,connectionState:p,lastPing:h,quality:y}))}var Vl=n(866452),Bl=n(566827),Ul=n.n(Bl);function zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gl(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function Yl(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){Gl(i,r,o,a,c,"next",e)}function c(e){Gl(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Wl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hl(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function Fl(e){Fl=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Fl(e)}function Kl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&$l(e,t)}function Xl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){
Hl(e,t,n[t])}))}return e}function Ql(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ql(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function Jl(e,t){return!t||"object"!==tu(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function $l(e,t){$l=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return $l(e,t)}function eu(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return zl(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zl(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var tu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function nu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Fl(e);if(t){var o=Fl(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jl(this,n)}}var ru=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){
if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},ou=function(e){Kl(n,e);var t=nu(n);function n(){Wl(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){var n=e.props,r=n.onClick,o=n.user;null!=r&&r(t,o)};e.handleContextMenu=function(t){
var n=e.props,r=n.onContextMenu,o=n.user;null!=r&&r(t,o)};return e}n.prototype.render=function(){var e,t,n=this.props,o=n.flipped,i=n.locked,a=n.deafened,c=n.muted,l=n.streaming,u=n.watching,s=n.user,f=n.size,d=n.speaking,p=n.isPrioritySpeaker,h=n.nick,y=n.displayNameMode,v=n.displayUserMode,b=n.guildId;return v===ae.OYC.ONLY_WHILE_SPEAKING&&i&&!d?null:(0,r.jsx)(Qc.Z,{guildId:b,onClick:i?void 0:this.handleClick,onContextMenu:i?void 0:this.handleContextMenu,className:m()(Ul().voiceUserWrapper,(e={},Hl(e,Ul().faded,!d),Hl(e,Ul().interactive,!i),e)),user:s,nick:h,speaking:!1,flipped:o,isStreaming:l,iconClassName:m()(Ul().voiceIcon,Hl({},Ul().locked,i)),isWatching:u,size:f,priority:p,deaf:a,mute:c,userNameClassName:m()(Ul().username,(t={},Hl(t,Ul().locked,i),Hl(t,Ul().hidden,i&&(y===ae.wC$.NEVER||!d&&y===ae.wC$.ONLY_WHILE_SPEAKING)),t))})};return n}(o.PureComponent);ou.defaultProps={size:ae.ipw.LARGE,flipped:!1,locked:!1,speaking:!1,isPrioritySpeaker:!1,deafened:!1,muted:!1}
;function iu(e){var t=e.context,n=e.user,a=e.voiceState,c=ql(e,["context","user","voiceState"]),l=function(e,t,n){var r=t.isVoiceMuted();r||Nt.default.getId()!==t.userId?r||(r=n.isLocalMute(t.userId,e)):r=!n.isEnabled()||n.isSelfMute(e)||n.isSelfMutedTemporarily(e);return r}(t,a,At.Z),u=(0,i.e7)([xt.Z,Nt.default],(function(){return xt.Z.getActiveStreamForUser(Nt.default.getId())})),s=(0,i.Wu)([xt.Z],(function(){return null!=u?xt.Z.getViewerIds(u):[]})),f=(0,i.e7)([Yc.Z],(function(){return Yc.Z.isSpeaking(n.id,t)})),d=(0,i.e7)([Yc.Z],(function(){return Yc.Z.isPrioritySpeaker(n.id,t)})),p=(0,i.e7)([Nt.default,At.Z],(function(){return function(e,t){var n=t.isVoiceDeafened();n||Nt.default.getId()!==t.userId||(n=At.Z.isSelfDeaf(e));return n}(t,a)})),h=(0,i.e7)([xt.Z],(function(){return null!=xt.Z.getStreamForUser(n.id)})),y=o.useMemo((function(){return null!=u&&u.ownerId!==n.id&&s.includes(n.id)}),[u,n.id,s]);return(0,r.jsx)(ou,Ql(Xl({},c),{muted:l,context:t,user:n,speaking:f,
isPrioritySpeaker:d,deafened:p,streaming:h,watching:y}))}var au=function(e){Kl(o,e);var t=nu(o);function o(){Wl(this,o);var e;(e=t.apply(this,arguments)).handleUserContextMenu=function(t,o){var i=e.props.context;(0,mt.jW)(t,Yl((function(){var e,t;return ru(this,(function(a){switch(a.label){case 0:return[4,Promise.all([n.e(87996),n.e(45323),n.e(64178)]).then(n.bind(n,90248))];case 1:e=a.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ql(Xl({},e),{user:o,showMediaItems:!0,mediaEngineContext:i}))}]}}))})))};e.handleOpenVoiceSettings=function(){var t=e.props,o=t.context,i=t.channel,a=t.title;(0,Yt.ZD)(Yl((function(){var e,t;return ru(this,(function(c){switch(c.label){case 0:return[4,Promise.all([n.e(40532),n.e(63157),n.e(61928)]).then(n.bind(n,568694))];case 1:e=c.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,Ql(Xl({},e),{mediaEngineContext:o,title:null!=i?null:a}))}]}}))})))};e.handlePin=function(){var t=e.props.id;(0,Gr.xh)(t)};e.handleStopStream=function(){
var t=e.props.stream;null!=t&&Ac.g((0,Mc.V9)(t))};return e}var i=o.prototype;i.componentDidUpdate=function(e){var t=this.props,n=t.pinned,r=t.channel;null!=r&&n!==e.pinned&&O.Z.track(ae.rMx.OVERLAY_PIN_TOGGLED,{pinned:n,guild_id:r.guild_id,channel_id:r.id,channel_type:r.type,widget_type:ae.Odu.VOICE})};i.renderVoiceUsers=function(){var e,t=this,n=this.props,o=n.context,i=n.sortedVoiceStates,a=n.displayNameMode,c=n.displayUserMode,l=n.locked,u=n.isPreviewingInGame,s=n.channel,f=n.anchor,d=n.avatarSizeMode,p=null!=f.right,h=i.map((function(e){var n=e.user,i=e.voiceState,f=e.member;if(null==n||null==s||null==o)return null;var h,y=l||u;return(0,r.jsx)(iu,{guildId:null==s?void 0:s.guild_id,user:n,nick:null!==(h=null==f?void 0:f.nick)&&void 0!==h?h:n.toString(),channel:s,flipped:p,voiceState:i,displayNameMode:a,displayUserMode:c,size:d,locked:y,onContextMenu:t.handleUserContextMenu,onClick:t.handleUserContextMenu,context:o},n.id)}));return(0,r.jsx)(Pe.Body,{className:m()((e={},
Hl(e,Ul().topMargin,l),Hl(e,Ul().bottomMargin,l),e)),children:(0,r.jsx)(Qc.e,{className:Ul().voiceList,children:h})})};i.renderHeader=function(){var e=this.props,t=e.pinned,n=e.title,o=e.isPreviewingInGame;return(0,r.jsxs)(Pe.Bar,{className:m()(Ul().draggableStartArea,Hl({},Ul().preview,o)),children:[(0,r.jsxs)(Pe.Content,{dynamicSize:!0,className:m()(Ul().content,Hl({},Ul().hidden,o)),children:[(0,r.jsx)(wa.Z,{color:(0,kc.Lq)(ae.Ilk.WHITE_500),width:20,height:20,className:m()(Ul().icon,Ul().faded,Ul().dragIcon)}),(0,r.jsx)(Hc.Z,{color:(0,kc.Lq)(ae.Ilk.WHITE_500),width:20,height:20,className:m()(Ul().icon,Ul().faded,Ul().speakerIcon)}),(0,r.jsx)(Kc.Z,{color:(0,kc.Lq)(ae.Ilk.PRIMARY_DARK_200),className:Ul().title,children:n})]}),o?null:(0,r.jsx)(Pe.Icon,{icon:Lo.Z,label:R.Z.Messages.VOICE_SETTINGS,onClick:this.handleOpenVoiceSettings,tooltipPosition:oe.ZP.Positions.LEFT,size:18}),o?null:(0,r.jsx)(Pe.Icon,{icon:t?Ia.Z:Za.Z,
label:t?R.Z.Messages.OVERLAY_WIDGET_HIDE_IN_GAME:R.Z.Messages.OVERLAY_WIDGET_SHOW_IN_GAME,onClick:this.handlePin,tooltipPosition:oe.ZP.Positions.LEFT,size:18,isActive:t})]})};i.renderStreamerSettings=function(){var e=this.props,t=e.locked,n=e.pinned,o=e.isPreviewingInGame,i=e.channel,a=e.application,c=e.streamMetadata,l=e.streamApplication,u=e.stream;if(t||null==u||null==i)return null;var s,f,d=(0,Dc.Z)(c),p=d.sanitizedTitle,h=d.title;return(0,r.jsx)(Pe.Bar,{className:m()(Ul().streamerControls,(f={},Hl(f,Ul().hidden,o),Hl(f,Ul().unpinned,!n),f)),children:(0,r.jsxs)(Pe.Content,{className:Ul().streamerContent,dynamicSize:!0,children:[(0,r.jsxs)("div",{className:Ul().streamerInner,children:[null!=(null==l?void 0:l.id)&&l.id===(null==a?void 0:a.id)?(0,r.jsx)(Wc.Z,{className:Ul().gameIcon,game:a}):(0,r.jsx)(Lc.Z,{title:p}),(0,r.jsxs)(Gt.Z,{direction:Gt.Z.Direction.VERTICAL,justify:Gt.Z.Justify.BETWEEN,className:Ul().streamerInfo,children:[(0,r.jsx)(Rc.xv,{className:Ul().streaming,
variant:"text-sm/normal",children:R.Z.Messages.STATUS_STREAMING}),(0,r.jsx)(Xc.Z,{children:null!==(s=null==l?void 0:l.name)&&void 0!==s?s:h})]})]}),(0,r.jsxs)(Gt.Z,{grow:0,children:[(0,r.jsx)("div",{className:Ul().streamerIconWrapper,children:(0,r.jsx)(zc.Z,{stream:u,iconClassName:Ul().streamerIcon,appContext:ae.IlC.OVERLAY})}),(0,r.jsx)("div",{className:Ul().streamerIconWrapper,children:(0,r.jsx)(Gc.Z,{stream:u,appContext:ae.IlC.OVERLAY})}),(0,r.jsx)("div",{className:Ul().streamerIconWrapper,children:(0,r.jsx)(oe.DY,{text:R.Z.Messages.STOP_STREAMING,children:(0,r.jsx)(C.Co,{onClick:this.handleStopStream,look:C.Co.Looks.BLANK,size:C.Co.Sizes.NONE,children:(0,r.jsx)(Fc.Z,{className:Ul().streamerIcon})})})})]})]})})};i.render=function(){var e=this.props,t=e.context,n=e.lobbyId,o=e.locked,i=e.pinned,a=e.isPreviewingInGame,c=e.sortedVoiceStates,l=e.channel;if(0===c.length||null==t||null==l)return null;if(o&&!i)return null;var u=ae.t_t.UNPINNED;i&&(u=ae.t_t.PINNED)
;a&&(u=ae.t_t.IN_GAME_PREVIEW);o&&(u=ae.t_t.IN_GAME);return(0,r.jsxs)(Pe,{type:u,width:280,children:[o?null:this.renderHeader(),this.renderVoiceUsers(),this.renderStreamerSettings(),o?null:(0,r.jsx)(Ll,{className:m()(Hl({},Ul().preview,a)),contentClassName:m()(Hl({},Ul().hidden,a)),channel:l,lobbyId:n,context:t,pinned:i})]})};return o}(o.PureComponent);au.defaultProps={context:Vl.Yn.DEFAULT};function cu(e){var t,n=(0,i.e7)([Mt.Z,Tt.Z],(function(){return Tt.Z.getChannel(Mt.Z.getVoiceChannelId())})),o=(0,Ln.Z)(n),a=function(e){return eu((0,i.e7)([Mo.ZP,Vc.Z],(function(){return null==e?[[],-1]:e.isGuildStageVoice()?[Vc.Z.getMutableParticipants(e.id,Bc.pV.SPEAKER),Vc.Z.getParticipantsVersion(e.id)]:[Mo.ZP.getVoiceStatesForChannel(e),Mo.ZP.getVoiceStateVersion(e.getGuildId())]}),[e],Uc.QF),1)[0]}(n),c=(0,i.e7)([xt.Z],(function(){return xt.Z.getStreamerActiveStreamMetadata()})),l=(0,i.cj)([kt.Z,Lt.Z,Nt.default,xt.Z,Ut.Z,xc.Z],(function(){var e=(0,
Pt.Z)(kt.Z,Lt.Z),t=Nt.default.getId(),n=xt.Z.getActiveStreamForUser(t);return{displayUserMode:Ut.Z.getDisplayUserMode(),displayNameMode:Ut.Z.getDisplayNameMode(),avatarSizeMode:Ut.Z.getAvatarSizeMode(),application:null!=e?xc.Z.getGameBySettingGame(e):null,streamApplication:(null==c?void 0:c.pid)===(0,xe.QF)()?Zc(e):null,stream:n}}));return(0,r.jsx)(au,Ql(Xl({},l,e),{sortedVoiceStates:a,channel:n,title:null!=o?o:"",streamMetadata:c,streamApplication:null!==(t=l.streamApplication)&&void 0!==t?t:{id:null,name:null==c?void 0:c.sourceName}}))}const lu=i.ZP.connectStores([kt.Z,Lt.Z,xt.Z,$t.default,Ut.Z,Nc.Z,Ic.Z,Tc.Z,xc.Z],(function(){var e,t=Nc.Z.getLobbiesWithVoice().find((function(e){return null!=Ic.Z.getApplication(e.application_id)})),n=[],r="";if(null!=t){var o=Ic.Z.getApplication(t.application_id);null!=(null==o?void 0:o.name)&&(r=o.name);e=t.application_id;Te().each(Tc.Z.getVoiceStates(t.id),(function(e){var t=$t.default.getUser(e.userId);null!=t&&n.push({voiceState:e,user:t,
nick:t.username,comparator:t.toString()})}))}var i=(0,Pt.Z)(kt.Z,Lt.Z),a=$t.default.getCurrentUser();hn()(null!=a,"VoiceWidget: currentUser cannot be null");var c=xt.Z.getActiveStreamForUser(a.id),l=xt.Z.getStreamerActiveStreamMetadata();return{title:r,context:e,sortedVoiceStates:Te().sortBy(n,(function(e){return e.comparator})),lobbyId:null!=t?t.id:void 0,displayUserMode:Ut.Z.getDisplayUserMode(),displayNameMode:Ut.Z.getDisplayNameMode(),avatarSizeMode:Ut.Z.getAvatarSizeMode(),application:null!=i?xc.Z.getGameBySettingGame(i):null,streamApplication:Zc(i),stream:c,streamMetadata:l,hasStream:!1}}))(au);function uu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fu(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function du(e){
du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return du(e)}function pu(e,t){return!t||"object"!==vu(t)&&"function"!=typeof t?uu(e):t}function hu(e,t){hu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return hu(e,t)}var yu,vu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function bu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=du(e);if(t){var o=du(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pu(this,n)}}var gu=(fu(yu={},ae.Odu.TEXT,(function(e){var t=e.dragging,n=e.locked,o=e.pinned,i=e.dragStart;return(0,r.jsx)(jc,{dragStart:i,locked:n,pinned:o,dragging:t})})),
fu(yu,ae.Odu.GUILDS,(function(e){var t=e.locked,n=e.dragStart;return(0,r.jsx)(Gi,{dragStart:n,locked:t})})),fu(yu,ae.Odu.VOICE,(function(e){var t=e.id,n=e.anchor,o=e.isPreviewingInGame,i=e.locked,a=e.pinned;return(0,r.jsx)(cu,{anchor:n,id:t,locked:i,pinned:a,isPreviewingInGame:o})})),fu(yu,ae.Odu.GUILDS_TEXT,(function(e){var t=e.dragging,n=e.locked,o=e.dragStart;return(0,r.jsx)(Pc,{dragStart:o,dragging:t,locked:n,pinned:!1})})),fu(yu,ae.Odu.LOBBY_VOICE,(function(e){var t=e.id,n=e.anchor,o=e.isPreviewingInGame,i=e.locked,a=e.pinned;return(0,r.jsx)(lu,{anchor:n,id:t,locked:i,pinned:a,isPreviewingInGame:o})})),yu),mu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&hu(e,t)}(n,e);var t=bu(n);function n(){su(this,n);var e;(e=t.apply(this,arguments)).state={lastLayoutUpdate:null,dragging:!1}
;e.handleUpdate=function(t,n,r,o,i){var a=uu(e),c=a.props.layoutSize,l=a.state.lastLayoutUpdate;if((0,xe.Te)(c)){var u=(0,$r.jL)(r,c),s=(0,$r.Ox)(o,c);(0,Gr.Os)(n);(0,Gr.nv)(n,u,s);var f=t===fo.MOVE,d=!f,p=(0,$r.PY)(r,c.width,c.height,i.width,i.height);e.setState({lastLayoutUpdate:{was_resized:null!=l&&l.was_resized||d,was_dragged:null!=l&&l.was_dragged||f,widget_type:Jr.Z.getWidgetType(n),window_width:c.width,window_height:c.height,widget_width:i.width,widget_height:i.height,widget_left:p.left,widget_top:p.top}})}};e.handleFocus=function(t){var n=e.props.layoutSize;(0,xe.Te)(n)&&(0,Gr.Os)(t)};e.handleDragStart=function(){var t=e.props.widget;if(null!=t){t.pinned&&O.Z.setPreviewInGameMode(!0);e.setState({dragging:!0})}};e.handleDragEnd=function(){var t=e.props.widget;if(null!=t){t.pinned&&O.Z.setPreviewInGameMode(!1);e.setState({dragging:!1})}};return e}var o=n.prototype;o.componentDidUpdate=function(e){if(this.props.locked&&!e.locked&&null!=this.state.lastLayoutUpdate){
O.Z.track(ae.rMx.OVERLAY_LAYOUT_UPDATED,this.state.lastLayoutUpdate);this.setState({lastLayoutUpdate:null})}};o.renderWidget=function(e,t,n){var r=this.props,o=r.locked,i=r.isPreviewingInGame,a=this.state.dragging,c=gu[e.type];if(null==c)throw new Error("OverlayLayout: Widget does not exist in WidgetMap");return function(r){return c({id:e.id,locked:o,pinned:e.pinned,dragging:a,isPreviewingInGame:i,anchor:t,size:n,dragStart:r})}};o.render=function(){var e=this.props,t=e.widget,n=e.widgetConfig,o=e.layoutSize,i=e.locked,a=e.isPreviewingInGame,c=e.isActiveRegion;if(null==t||null==n)return null;var l=t.id,u=t.pinned,s=t.zIndex,f=t.size,d=t.anchor,p=(0,$r.w_)(f,o),h=(0,$r.KR)(d,o),y=n.minSize,v=n.resizeX,b=n.resizeY,g=n.dragAnywhere,m=!i||c,O=!a&&!i||u,S={minX:0,minY:0,maxX:o.width,maxY:o.height};return(0,r.jsx)(Oo,{id:l,size:p,anchor:h,container:S,minSize:y,hidden:!O,resizeX:v,resizeY:b,style:{zIndex:s},dragAnywhere:g,active:m,onUpdate:this.handleUpdate,onClick:this.handleFocus,
onDragStart:this.handleDragStart,onDragEnd:this.handleDragEnd,children:this.renderWidget(t,h,p)})};return n}(o.PureComponent),Ou=i.ZP.connectStores([Jr.Z,Ut.Z],(function(e){var t=e.widgetId,n=Jr.Z.getWidget(t),r=Ut.Z.getActiveRegions();return{widget:n,widgetConfig:null!=n?Jr.Z.getWidgetConfig(n.type):null,locked:Ut.Z.isInstanceUILocked(),isPreviewingInGame:Ut.Z.isPreviewingInGame(),isActiveRegion:null!=n&&r.has(n.type)}}))(mu);function Su(e,t){return(0,r.jsx)(Ou,{widgetId:e,layoutSize:t},e)}const Eu=i.ZP.connectStores([Jr.Z,zt.Z],(function(){return{layout:Jr.Z.getLayout(xe.qU),layoutSize:zt.Z.windowSize(),renderWidget:Su}}))(qr);var wu=n(751615),ju=n(354290),_u=n(725749),Cu=n(132634);function Pu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Zu(e){Zu=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Zu(e)}function Iu(e,t){return!t||"object"!==Nu(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function xu(e,t){xu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return xu(e,t)}var Nu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Tu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Zu(e);if(t){var o=Zu(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Iu(this,n)}}var Ru=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&xu(e,t)}(n,e);var t=Tu(n)
;function n(){Pu(this,n);return t.apply(this,arguments)}var r=n.prototype;r.componentDidUpdate=function(e){var t=this.props.location;t.pathname+t.search!==e.location.pathname+e.location.search&&this.checkGuildAndChannel()};r.checkGuildAndChannel=function(){var e=this.props.match;if(null!=e){var t=function(e){var t=e.params,n=t.guildId,r=t.channelId,o=t.messageId;return{guildId:null!=n&&""!==n?n:ae.ME,channelId:r,messageId:o}}(e),n=t.guildId,r=t.channelId,o=t.messageId;if((0,Cu.S)(n)&&(0,Cu.c)(r)){ju.Z.selectGuild(n);va.default.selectChannel({guildId:n,channelId:r,messageId:o})}else(0,E.dL)(ae.Z5c.ME)}};r.render=function(){return null};return n}(o.Component);const Au=function(){return(0,r.jsxs)(wu.rs,{children:[(0,r.jsx)(_u.Z,{path:ae.Z5c.CHANNEL(":guildId",":channelId?",":messageId?"),component:Ru}),(0,r.jsx)(_u.Z,{component:Ru})]})};function ku(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mu(e,t){for(var n=0;n<t.length;n++){var r=t[n]
;r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function Du(e){Du=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return Du(e)}function Lu(e,t){return!t||"object"!==Bu(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Vu(e,t){Vu=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Vu(e,t)}var Bu=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Uu(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=Du(e);if(t){var o=Du(this).constructor
;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lu(this,n)}}var zu=!1,Gu=!1;var Yu=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Vu(e,t)}(n,e);var t=Uu(n);function n(){ku(this,n);return t.apply(this,arguments)}n.prototype.__getLocalVars=function(){return{enabled:zu,keepOpen:Gu}};!function(e,t,n){t&&Mu(e.prototype,t);n&&Mu(e,n)}(n,[{key:"keepOpen",get:function(){return Gu}},{key:"enabled",get:function(){return zu}}]);return n}(i.ZP.Store);Yu.displayName="SoundboardOverlayStore";const Wu=new Yu(bn.Z,{SOUNDBOARD_SET_OVERLAY_ENABLED:function(e){zu=e.enabled;e.enabled&&(Gu=e.keepOpen)}});var Hu=n(713932),Fu=n(879551),Ku=n(652703),Xu=n(881904),Qu=n(111629),qu=n.n(Qu);function Ju(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}
function $u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(){var e=$u((0,i.Wu)([Wu],(function(){return[Wu.enabled,Wu.keepOpen]})),2),t=e[0],n=e[1],o=(0,
i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),a=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getChannel(o)}),[o]),c=null==a?void 0:a.getGuildId();return t&&null!=c?(0,r.jsx)("div",{className:qu().widget,children:(0,r.jsx)(Fu.Z,{width:Xu.FW.width,height:Xu.FW.height,guildId:c,keepOpen:n,onClose:function(){var e=(0,Ku.Z)();null!=e&&(0,Hu.oZ)(e)},analyticsSource:"overlay"})}):null}var ts=n(12242),ns=n.n(ts);function rs(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function os(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){rs(i,r,o,a,c,"next",e)}function c(e){rs(i,r,o,a,c,"throw",e)}a(void 0)}))}}function is(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function as(e){as=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return as(e)}
function cs(e,t){return!t||"object"!==us(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ls(e,t){ls=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return ls(e,t)}var us=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function ss(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=as(e);if(t){var o=as(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cs(this,n)}}var fs=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},
"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}};i.ZP.PersistedStore.disableWrites=__OVERLAY__;i.ZP.initialize();var ds=null
;function ps(e){e.preventDefault()}De.FB,0;function hs(e){(0,mt.jW)(e,os((function(){var e,t;return fs(this,(function(o){switch(o.label){case 0:return[4,n.e(7582).then(n.bind(n,707582))];case 1:e=o.sent(),t=e.default;return[2,function(e){return(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){is(e,t,n[t])}))}return e}({},e))}]}}))})))}var ys=function(e){var t,n=e.keybind,o=e.onClick,i=e.isPreviewingInGame,a=e.locked,c=a?w.Z:"div";return(0,r.jsx)(c,{className:m()(ns().overlayBackground,(t={},is(t,ns().overlayActive,!a),is(t,ns().overlayLocked,a),is(t,ns().previewMode,!a&&i),t)),onMouseDown:function(e){var t=e.currentTarget,n=e.target;e.button===ae.AeJ.PRIMARY&&t===n&&o()},onContextMenu:hs,children:a?null:(0,r.jsx)("div",{
className:ns().closeContainer,children:(0,r.jsx)(Ot.Z,{variant:Ot.Z.Variants.BOLD,keybind:n,closeAction:o})})})},vs=function(e){return{keyCode:e.keyCode,shiftKey:e.shiftKey,metaKey:e.metaKey,altKey:e.altKey,ctrlKey:e.ctrlKey}},bs=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&ls(e,t)}(n,e);var t=ss(n);function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);var r;(r=t.call(this,e)).handleWindowResize=yt()((function(){r.forceUpdate()}),500);r.activeKeyEventShapes=[];r.lockEventShape=(0,Wt.d2)(r.props.keybindKeyCodes);r.getActiveKeyEventIndex=function(e){return r.activeKeyEventShapes.findIndex((function(t){return bt()(t,e)}))};r.onKeyDownGlobal=function(e){var t=vs(e),n=r.getActiveKeyEventIndex(t)>-1,o=[16,17,18,91].includes(e.keyCode)
;n||o||r.activeKeyEventShapes.push(t);if(r.activeKeyEventShapes.length===r.lockEventShape.length&&r.lockEventShape.every((function(e){return r.activeKeyEventShapes.some((function(t){return bt()(e,t)}))}))){e.preventDefault();e.stopPropagation()}var i=r.props,a=i.locked,c=i.activeRegions;t.keyCode===pt().codes.esc&&a&&c.has(ae.O0n.TEXT_WIDGET)&&O.Z.deactivateAllRegions()};r.onKeyUpGlobal=function(e){var t=vs(e),n=r.getActiveKeyEventIndex(t);n>-1&&r.activeKeyEventShapes.splice(n,1)};var o=e.locked&&Ut.Z.isPinned(ae.Odu.TEXT);Et.Z.setLayout(o?St.Xq:St.Sr);o&&Et.Z.enable();return r}var o=n.prototype;o.handleLock=function(){(0,Yt.$s)()||Vt.Z.isOpen()||O.Z.setLocked(!0,(0,xe.QF)())};o.handleDeactivate=function(){O.Z.deactivateAllRegions()};o.componentDidMount=function(){O.Z.startSession();Zt.Z.initialize();wt.Z.initialize();It.Z.initialize()};o.componentDidUpdate=function(e){var t=this.props.initialized;if(t)if(!t||e.initialized){if(!e.locked&&this.props.locked){
window.addEventListener("contextmenu",ps,!1);if(null!=ds){var n=Date.now()-ds;O.Z.track(ae.rMx.OVERLAY_LOCKED,{unlocked_duration:n});ds=null}Et.Z.disable();this.activeKeyEventShapes=[];if(Ut.Z.isPinned(ae.Odu.TEXT)){Et.Z.setLayout(St.Xq);Et.Z.enable()}}else if(e.locked&&!this.props.locked){window.removeEventListener("contextmenu",ps,!1);if(null==ds){ds=Date.now();O.Z.track(ae.rMx.OVERLAY_UNLOCKED)}Et.Z.disable();this.activeKeyEventShapes=[];Et.Z.setLayout(St.Sr);Et.Z.enable()}e.keybindKeyCodes!==this.props.keybindKeyCodes&&(this.lockEventShape=(0,Wt.d2)(this.props.keybindKeyCodes))}else this.initialSetup()};o.initialSetup=function(){var e,t=this.props,n=t.connectedToVoice,r=t.locked,o=t.canGoLive,i=t.isStreaming,a=t.voiceGuild,c=t.voiceChannelId,l=t.game;O.Z.track(ae.rMx.OVERLAY_INITIALIZED,{voice_widget_connected:n,text_widget_connected:Ut.Z.isPinned(ae.Odu.TEXT)});o&&!i&&null!=l&&(e=n&&null!=a&&null!=c?{type:"go-live",voiceChannelId:c,voiceGuild:a,game:l}:{type:"go-live-2",game:l})
;O.Z.overlayMounted(null,e);window.addEventListener("resize",this.handleWindowResize);r&&window.addEventListener("contextmenu",ps,!1);Le.default.blur();if(De.FB){var u=Le.default.requireModule("discord_overlay2");if(void 0!==u.setPerfInfoCallback){u.setPerfInfoCallback((function(e){O.Z.track(ae.rMx.OVERLAY_PERF_INFO,e)}));u.broadcastCommand({message:"set_perf_report_interval",interval:9e5})}Le.default.on("REQUEST_OPEN_EXTERNAL_URL",(function(e,t){Ut.Z.getDisableExternalLinkAlert()||t===Dt.Z.getLastURL()?Le.default.send("OPEN_EXTERNAL_URL",t):gt.Z.show({title:R.Z.Messages.OVERLAY_LINK_ALERT_TITLE,body:R.Z.Messages.OVERLAY_LINK_ALERT_BODY,secondaryConfirmText:R.Z.Messages.OVERLAY_LINK_ALERT_SECONDARY,confirmText:R.Z.Messages.CONTINUE,cancelText:R.Z.Messages.CANCEL,onConfirmSecondary:function(){O.Z.disableExternalLinkAlert();Le.default.send("OPEN_EXTERNAL_URL",t)},onConfirm:function(){return Le.default.send("OPEN_EXTERNAL_URL",t)}})}))}
window.addEventListener("keydown",this.onKeyDownGlobal,!0);window.addEventListener("keyup",this.onKeyUpGlobal,!0)};o.componentWillUnmount=function(){window.removeEventListener("resize",this.handleWindowResize);window.removeEventListener("keydown",this.onKeyDownGlobal,!0);window.removeEventListener("keyup",this.onKeyUpGlobal,!0);this.props.locked&&window.removeEventListener("contextmenu",ps,!1);Zt.Z.terminate();wt.Z.terminate();It.Z.terminate()};o.renderInvalidSizeMessage=function(){return(0,r.jsx)(Gt.Z,{justify:Gt.Z.Justify.CENTER,align:Gt.Z.Align.CENTER,className:ns().invalidContainer,children:(0,r.jsx)("div",{className:ns().inactiveContainer,children:R.Z.Messages.OVERLAY_TOO_SMALL.format(xe.FW)})})};o.render=function(){var e=this.props,t=e.locked,n=e.keybind,o=e.incompatibleApp,i=e.initialized,a=e.isPreviewingInGame,c=e.activeRegions,l=e.windowSize,u=l.width,s=l.height;if(0===u||0===s||o||!i)return null;var f,d=t||a;return(0,r.jsxs)("div",{className:ns().overlay,children:[(0,
r.jsx)(Au,{}),a&&(0,r.jsx)("header",{className:ns().previewingInGameHeader,children:R.Z.Messages.OVERLAY_IN_GAME_PREVIEW_HEADER}),undefined,(!t||c.has(ae.O0n.TEXT_WIDGET))&&(0,r.jsx)(ys,{locked:t,keybind:n,onClick:t?this.handleDeactivate:this.handleLock,isPreviewingInGame:a}),(0,xe.Te)(l)?(0,r.jsx)(Eu,{className:m()((f={},is(f,ns().layoutLocked,t),is(f,ns().layoutUnlocked,!t),f))}):t?null:this.renderInvalidSizeMessage(),(0,r.jsx)(es,{}),(0,r.jsx)(zr,{locked:d,keybind:n}),(0,r.jsx)(fn,{})]})};return n}(o.Component);function gs(){var e=(0,i.cj)([Ut.Z],(function(){return{locked:Ut.Z.isUILocked((0,xe.QF)()),initialized:Ut.Z.initialized,incompatibleApp:Ut.Z.incompatibleApp,activeRegions:Ut.Z.getActiveRegions(),isPreviewingInGame:Ut.Z.isPreviewingInGame()}})),t=e.locked,n=e.initialized,o=e.incompatibleApp,a=e.activeRegions,c=e.isPreviewingInGame,l=(0,i.e7)([zt.Z],(function(){return zt.Z.windowSize()})),u=(0,i.e7)([Bt.Z],(function(){return Bt.Z.getOverlayKeybind()})),s=(0,
i.e7)([Mt.Z],(function(){return Mt.Z.getVoiceChannelId()})),f=(0,i.e7)([Tt.Z],(function(){return Tt.Z.getChannel(s)})),d=(0,i.e7)([Rt.Z],(function(){return null!=f?Rt.Z.getGuild(f.guild_id):null})),p=(0,i.e7)([kt.Z,Lt.Z],(function(){return(0,Pt.Z)(kt.Z,Lt.Z)})),h=(0,i.e7)([At.Z],(function(){return(0,Ct.Z)(At.Z)})),y=(0,i.e7)([xt.Z,Nt.default],(function(){return null!=xt.Z.getStreamForUser(Nt.default.getId())})),v=(0,_t.Z)(jt.Z.OVERLAY).AnalyticsLocationProvider;return(0,r.jsx)(v,{children:(0,r.jsx)(bs,{locked:t,initialized:n,incompatibleApp:o,activeRegions:a,isPreviewingInGame:c,windowSize:l,keybind:null!=u?(0,Wt.BB)(u.shortcut,!0):"???",keybindKeyCodes:null!=u?u.shortcut:[],connectedToVoice:null!=s,voiceChannelId:null!=f?f.id:null,voiceGuild:d,game:p,canGoLive:h,isStreaming:y})})}n(731875),n(313491);i.ZP.initialize();const ms=function(){o.useEffect((function(){f.Z.initialize();u.Z.initialize();p.Z.init();d.Z.init();return function(){f.Z.terminate();u.Z.terminate()}}),[]);return(0,
r.jsxs)(o.Fragment,{children:[(0,r.jsx)(s.Z,{}),(0,r.jsx)(a.Z,{children:(0,r.jsxs)(ft,{children:[(0,r.jsx)(b.Co,{}),(0,r.jsx)(h.ZP,{}),(0,r.jsx)(l.Wu,{appContext:ae.IlC.OVERLAY,renderWindow:window,children:(0,r.jsxs)(y.yP,{children:[(0,r.jsx)(gs,{}),(0,r.jsx)(v.Z,{}),(0,r.jsx)(c.Z,{}),(0,r.jsx)(y.Un,{})]})})]})})]})}},742720:(e,t,n)=>{"use strict";n.d(t,{rK:()=>d,ZP:()=>p});var r=n(667294),o=n(730381),i=n.n(o),a=n(365523),c=n(536419);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return l(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var s=new Date("2023-01-01T07:59:59.000Z"),f=i()(s);function d(){var e=u(r.useState((function(){return f.isAfter(Date.now())})),2),t=e[0],n=e[1];r.useEffect((function(){var e=new a.V7,r=function(){var t=f.diff(Date.now(),"millisecond");null==e||e.start(t,(function(){f.isBefore(Date.now())?n(!1):r()}))};t&&r();return function(){return e.stop()}}));return t}const p=(0,c.Z)({id:"2022-12_seasonal_gifting",label:"Seasonal Gifting",kind:"user",defaultConfig:{enabled:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0}}]})},75501:(e,t,n)=>{"use strict";n.d(t,{Z:()=>v})
;var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),c=n(248088),l=n(791462),u=n(730189),s=n(559159),f=n(232050),d=n.n(f);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){c=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n)
;if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t,n,i=e.children,f=e.className,p=e.collapsibleContent,v=e.isExpanded,b=y(o.useState(!1),2),g=b[0],m=b[1],O=(0,l.e7)([u.Z],(function(){return u.Z.useReducedMotion})),S=y(o.useState(!0),2),E=S[0],w=S[1],j=y(o.useState(!1),2),_=j[0],C=j[1],P=null!=v?v:g,Z=o.useRef(null),I=o.useRef(null),x=(0,s.Z)(I,!0,[P]),N=(0,s.Z)(Z,!0,[P]),T=null!==(t=null==x?void 0:x.height)&&void 0!==t?t:0,R=null!==(n=null==N?void 0:N.height)&&void 0!==n?n:0,A=(0,c.useSpring)({height:P?T+R:R,immediate:E||O,config:c.config.stiff,onRest:function(){return C(!0)}}),k=o.useCallback((function(){m(!g)}),[g,m]);o.useLayoutEffect((function(){var e=setTimeout((function(){w(!1)}),100);return function(){return clearTimeout(e)}}),[]);return(0,
r.jsx)("div",{className:a()(d().collapseable,h({},d().toggled,P),f),children:(0,r.jsxs)(c.animated.div,{className:a()(d().contentExpandContainer,h({},d().showOverflow,P&&_)),style:A,children:[(0,r.jsx)("div",{ref:Z,className:a()(d().header,h({},d().toggled,P)),children:i({onClick:k})}),(0,r.jsx)("div",{ref:I,children:p})]})})}},138402:(e,t,n)=>{"use strict";n.d(t,{ar:()=>R,xU:()=>A,ZP:()=>k});var r=n(785893),o=n(667294),i=n(294184),a=n.n(i),c=n(605535),l=n(489992),u=n(629590),s=n(75501),f=n(757987),d=n(881186),p=n(381604),h=n(873014),y=n(461061),v=n(780122),b=n.n(v);function g(e,t,n,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){n(e);return}c.done?t(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){g(i,r,o,a,c,"next",e)}function c(e){g(i,r,o,a,c,"throw",e)}a(void 0)}))}}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){S(e,t,n[t])}))}return e}function j(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){
Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function _(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function C(e,t){C=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return C(e,t)}var P=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}var I=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={
next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},x={NOT_SET:"",NONE:"0",SMALL:"7px 10px",
MEDIUM:"10px"};function N(e){var t,n,o=e.disabled,i=e.checked,c=e.option,s=e.size,f=e.onClick,d=e.infoClassName,y=e.titleClassName,v=e.radioItemClassName,g=e.radioItemIconClassName,m=e.radioBarClassName,O=e.hasSelection,E=e.icon,w=e.withTransparentBackground,j=null!==(t=c.color)&&void 0!==t?t:"",_=E,C=i||!O;return(0,r.jsx)(u.Z,{role:"radio","aria-checked":i,onClick:o?void 0:f,tabIndex:!o&&C?0:-1,className:a()(null!=c.collapsibleContent?b().collapsibleItem:b().item,(n={},S(n,b().disabled,o),S(n,b().itemFilled,!w),n),v),children:(0,r.jsxs)("div",{style:{"--radio-bar-accent-color":j,padding:s},className:a()(b().radioBar,m),children:[(0,r.jsxs)("div",{className:g,children:[i?(0,r.jsx)(h.Z,{foreground:b().radioIconForeground}):(0,r.jsx)(p.Z,{}),null!=_&&(0,r.jsx)(_,{className:b().icon,width:24,height:24})]}),(0,r.jsxs)("div",{className:a()(b().info,d),children:[(0,r.jsx)(l.xv,{variant:"text-md/medium",className:y,color:"none",children:c.name}),null!=c.desc&&""!==c.desc?(0,r.jsx)(l.xv,{
color:"none",variant:"text-sm/normal",children:c.desc}):null]})]})})}var T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&C(e,t)}(n,e);var t=Z(n);function n(){O(this,n);var e;(e=t.apply(this,arguments)).handleClick=function(t){t.preventDefault();var n=e.props,r=n.onClick,o=n.option;return null==r?void 0:r(o)};return e}n.prototype.render=function(){var e=this,t=this.props,n=t.checked,o=t.disabled,i=t.option,a=t.size,c=t.infoClassName,l=t.hasSelection,u=t.titleClassName,d=t.radioItemClassName,p=t.radioItemIconClassName,h=t.radioBarClassName,y=t.collapsibleClassName,v=t.withTransparentBackground,g=o||i.disabled,m=i.tooltipText,O=i.tooltipPosition,S=i.icon,E=null!=i.collapsibleContent?(0,r.jsx)(s.Z,{className:y,isExpanded:n,collapsibleContent:i.collapsibleContent,children:function(t){var o=t.onClick
;return(0,r.jsx)(N,{disabled:!!g,checked:n,hasSelection:l,option:i,onClick:function(t){e.handleClick(t);o(t)},size:a,infoClassName:c,titleClassName:u,radioItemClassName:d,radioItemIconClassName:p,radioBarClassName:h,icon:S,withTransparentBackground:v})}}):(0,r.jsx)(N,{disabled:!!g,checked:n,hasSelection:l,option:i,onClick:this.handleClick,size:a,infoClassName:c,titleClassName:u,radioItemClassName:d,radioItemIconClassName:p,radioBarClassName:h,icon:S,withTransparentBackground:v});return null!=m?(0,r.jsx)(f.ZP,{text:m,position:null!=O?O:f.ZP.Positions.TOP,children:function(e){return(0,r.jsx)("div",j(w({},e),{className:b().tooltipWrapper,children:E}))}}):E};return n}(o.PureComponent);T.defaultProps={withTransparentBackground:!1};function R(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.orientation,r=void 0===n?"vertical":n,i=t.isDisabled,a=void 0!==i&&i,l=t.labelledBy,u=o.useRef(null),s=o.useMemo((function(){return(0,c.E)({getFocusableElements:function(){
var e=u.current;if(null!=e){var t=e.querySelectorAll('[role="radio"]');return Array.from(t)}return[]},getActiveElement:function(){var e;return null===(e=u.current)||void 0===e?void 0:e.ownerDocument.activeElement}})}),[]),f=o.useCallback((e=m((function(e){var t,n,o,i;return I(this,(function(a){switch(a.label){case 0:if(null==u.current)return[2];t="vertical"===r?y.yXg.ARROW_UP:y.yXg.ARROW_LEFT;n="vertical"===r?y.yXg.ARROW_DOWN:y.yXg.ARROW_RIGHT;switch(e.which){case n:return[3,1];case t:return[3,3]}return[3,5];case 1:e.stopPropagation();e.preventDefault();return[4,s.getNextFocusableElement({wrap:!0})];case 2:return[2,null==(o=a.sent())?void 0:o.focus()];case 3:e.stopPropagation();e.preventDefault();return[4,s.getPreviousFocusableElement({wrap:!0})];case 4:return[2,null==(i=a.sent())?void 0:i.focus()];case 5:return[2]}}))})),function(t){return e.apply(this,arguments)}),[s,r]);return{role:"radiogroup",onKeyDown:f,ref:u,"aria-labelledby":l,"aria-orientation":r,"aria-disabled":a}}
function A(e){var t=e.isSelected;return{role:"radio",tabIndex:t?0:-1,"aria-label":e.label,"aria-checked":t}}function k(e){var t=e.itemInfoClassName,n=e.itemTitleClassName,o=e.radioItemClassName,i=e.collapsibleClassName,a=e.className,c=e.value,l=void 0===c?null:c,u=e.size,s=void 0===u?x.MEDIUM:u,f=e.onChange,p=void 0===f?y.dG4:f,h=e.disabled,v=void 0!==h&&h,b=e.options,g=void 0===b?[]:b,m=e["aria-labelledby"],O=e.orientation,S=e.withTransparentBackground,E=(0,d.Gc)(),_=R({labelledBy:null!=m?m:E.titleId,orientation:O,isDisabled:v}),C=g.some((function(e){return e.value===l}));return(0,r.jsx)("div",j(w({},_),{className:a,children:g.map((function(e){return(0,r.jsx)(T,{hasSelection:C,disabled:v,checked:l===e.value,option:e,onClick:p,size:s,infoClassName:t,titleClassName:n,radioItemClassName:o,radioItemIconClassName:e.radioItemIconClassName,collapsibleClassName:i,radioBarClassName:e.radioBarClassName,withTransparentBackground:S},e.value)}))}))}k.Sizes=x}}]);
//# sourceMappingURL=c3ae36e784bd0c1f4cee.js.map