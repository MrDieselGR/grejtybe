(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[11572],{727157:(e,r,n)=>{e.exports=n.p+"d6b6938f5fd7a57ba2c4cc632add98d4.png"},999861:(e,r,n)=>{"use strict";n.d(r,{E:()=>t});var t;!function(e){e.LANDING="landing";e.PRE_CONNECT="pre-connect";e.PRE_CONNECT_WAITING="pre-connect-waiting";e.DISCORD_CONSENT="discord-consent";e.SUCCESS="success";e.ERROR="error"}(t||(t={}))},4666:(e,r,n)=>{"use strict";n.d(r,{Z:()=>g});var t=n(785893),a=n(667294),o=n(441143),l=n.n(o),s=n(489992),i=n(690217),c=n(832691),u=n(47967),d=n(191940),h=n(487502),f=n(67416),m=n(725002),p=n(959797),C=n(627985),x=n.n(C);function b(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function N(e,r,n,t,a,o,l){try{var s=e[o](l),i=s.value}catch(e){n(e);return}s.done?r(i):Promise.resolve(i).then(t,a)}function v(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(t=n.next()).done);l=!0){o.push(t.value);if(r&&o.length===r)break}}catch(e){s=!0;a=e}finally{try{l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return b(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e,r){var n,t,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){
return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;(t=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;t=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=r.call(e,l)}catch(e){o=[6,e];t=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},E=new c.Z("ConsoleLinkDiscordConsentWeb");function g(e){
var r,n,o=e.platformType,c=e.clientId,C=e.scopes,b=e.authToken,g=e.onContinue,j=e.onError,k=e.onClose,A=v(a.useState(!1),2),T=A[0],I=A[1],R=a.useCallback((n=(r=function(e){var r,n,t,a;return y(this,(function(l){switch(l.label){case 0:r=b.callbackCode,n=b.callbackState;l.label=1;case 1:l.trys.push([1,3,,4]);return[4,i.Z.completeTwoWayLink(o,e,r,n)];case 2:t=l.sent();return[3,4];case 3:a=l.sent();E.error("".concat(o," link error:"),a);return[3,4];case 4:null!=t?g():j();return[2]}}))},function(){var e=this,n=arguments;return new Promise((function(t,a){var o=r.apply(e,n);function l(e){N(o,t,a,l,s,"next",e)}function s(e){N(o,t,a,l,s,"throw",e)}l(void 0)}))}),function(e){return n.apply(this,arguments)}),[o,b,g,j]),w=(0,u.useOAuth2AuthorizeForm)({clientId:c,scopes:C,responseType:"code",callback:R,isTrustedName:!0,isEmbeddedFlow:!0}),S=w.header,O=w.body,_=w.appDetails,D=w.sendAuthorize,L=a.useCallback((function(){l()(null!=D,"sendAuthorize not available");I(!0);D(!0)}),[D]);return(0,
t.jsxs)("div",{className:x().container,children:[null!=k&&(0,t.jsx)(f.ol,{className:x().closeButton,onClick:k}),(0,t.jsxs)(m.ZP,{children:[(0,t.jsx)(f.xB,{direction:h.Z.Direction.VERTICAL,className:x().header,separator:!1,children:(0,t.jsx)(s.xv,{className:x().stepHeader,variant:"text-xs/bold",color:"header-secondary",children:p.Z.Messages.BIDIRECTIONAL_STEP_HEADER.format({number:2,total:2})})}),(0,t.jsxs)("div",{className:x().discordConsentBody,children:[S,O,_]}),(0,t.jsx)(f.mz,{className:x().footer,children:(0,t.jsx)(d.Co,{className:x().footerButton,color:d.Co.Colors.BRAND,submitting:T,onClick:L,children:p.Z.Messages.AUTHORIZE_AND_CONTINUE})})]})]})}},529531:(e,r,n)=>{"use strict";n.d(r,{n:()=>m});var t=n(785893),a=(n(667294),n(489992)),o=n(191940),l=n(487502),s=n(895917),i=n(67416),c=n(959797),u=n(627985),d=n.n(u),h=n(727157),f=n.n(h);function m(e){var r=e.onContinue,n=e.onClose,u=e.title,h=e.body;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(i.xB,{
direction:l.Z.Direction.VERTICAL,className:d().header,separator:!1,children:[(0,t.jsx)("img",{src:f(),className:d().illustration,width:"254",height:"127",alt:""}),(0,t.jsx)(a.X6,{className:d().title,variant:"heading-xl/extrabold",children:u}),null!=n&&(0,t.jsx)(i.ol,{className:d().closeButton,onClick:n})]}),(0,t.jsx)(i.hz,{className:d().body,paddingFix:!1,children:(0,t.jsx)(a.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:h})}),(0,t.jsx)(i.mz,{className:d().footer,children:(0,t.jsxs)(o.Co,{className:d().footerButton,color:o.Co.Colors.BRAND,onClick:r,children:[c.Z.Messages.TRY_AGAIN,(0,t.jsx)(s.Z,{className:d().launchIcon,width:"16",height:"16"})]})})]})}},250081:(e,r,n)=>{"use strict";n.d(r,{Y:()=>f});var t=n(785893),a=(n(667294),n(791462)),o=n(489992),l=n(950008),s=n(191940),i=n(487502),c=n(67416),u=n(959797),d=n(627985),h=n.n(d);function f(e){
var r=e.platformType,n=e.onContinue,d=e.onClose,f=e.img,m=e.headerConnect,p=e.headerReconnect,C=e.body,x=e.learnMoreLink,b=e.valueProps,N=(0,a.e7)([l.Z],(function(){var e=l.Z.getAccount(null,r);return!1===(null==e?void 0:e.twoWayLink)}));return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(c.xB,{direction:i.Z.Direction.VERTICAL,className:h().header,separator:!1,children:[(0,t.jsxs)("div",{className:h().illustration,children:[f," "]}),(0,t.jsx)(o.X6,{className:h().title,variant:"heading-xl/extrabold",children:N&&null!=p?p:m}),(0,t.jsx)(c.ol,{className:h().closeButton,onClick:d})]}),(0,t.jsxs)(c.hz,{className:h().body,paddingFix:!1,children:[(0,t.jsx)(o.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:C}),(0,t.jsx)("div",{className:h().valueProps,children:b}),null!=x?(0,t.jsx)(o.xv,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:u.Z.Messages.CONNECT_CONSOLE_LANDING_BODY_LEARN_MORE.format({helpCenterLink:x})}):null]}),(0,t.jsx)(c.mz,{
className:h().footer,children:(0,t.jsx)(s.Co,{className:h().footerButton,color:s.Co.Colors.BRAND,onClick:n,children:u.Z.Messages.CONTINUE})})]})}},540011:(e,r,n)=>{"use strict";n.d(r,{w:()=>j});var t=n(785893),a=n(667294),o=n(441143),l=n.n(o),s=n(817178),i=n(489992),c=n(173436),u=n(144857),d=n(783848),h=n(832691),f=n(191940),m=n(487502),p=n(895917),C=n(67416),x=n(959797),b=n(627985),N=n.n(b);function v(e,r,n,t,a,o,l){try{var s=e[o](l),i=s.value}catch(e){n(e);return}s.done?r(i):Promise.resolve(i).then(t,a)}function y(e){return function(){var r=this,n=arguments;return new Promise((function(t,a){var o=e.apply(r,n);function l(e){v(o,t,a,l,s,"next",e)}function s(e){v(o,t,a,l,s,"throw",e)}l(void 0)}))}}var E=function(e,r){var n,t,a,o,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){
if(n)throw new TypeError("Generator is already executing.");for(;l;)try{if(n=1,t&&(a=2&o[0]?t.return:o[0]?t.throw||((a=t.return)&&a.call(t),0):t.next)&&!(a=a.call(t,o[1])).done)return a;(t=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:l.label++;return{value:o[1],done:!1};case 5:l.label++;t=o[1];o=[0];continue;case 7:o=l.ops.pop();l.trys.pop();continue;default:if(!(a=l.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1];a=o;break}if(a&&l.label<a[2]){l.label=a[2];l.ops.push(o);break}a[2]&&l.ops.pop();l.trys.pop();continue}o=r.call(e,l)}catch(e){o=[6,e];t=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},g=new h.Z("ConsoleLink");function j(e){
var r=e.platformType,n=e.isWaitingForConnection,o=e.onWaitingForConnection,h=e.expectedCallbackState,b=e.onAuthToken,v=e.onError,j=e.onClose,k=e.img,A=e.title,T=e.body,I=e.redirectDestination,R=a.useCallback(y((function(){var e,n,t;return E(this,(function(a){switch(a.label){case 0:a.trys.push([0,2,,3]);return[4,(0,d.H)(r,{twoWayLinkType:s.g.DESKTOP})];case 1:if(null==(e=a.sent()))throw new Error("missing authorizeURL");return[3,3];case 2:n=a.sent();g.error("Error opening provider authorize page",n);v();return[2];case 3:t=(0,u.xp)(e).state;l()(null!=t,"Authorize URL state query parameter must be present");null==o||o(t);return[2]}}))})),[r,v,o]),w=a.useCallback((function(e){var n=e.callbackCode,t=e.callbackState;t===h?b({callbackCode:n,callbackState:t}):g.warn("".concat(r," link: received mismatching callback state!"))}),[r,h,b]);a.useEffect((function(){c.Z.subscribe("USER_CONNECTIONS_LINK_CALLBACK",w);return function(){c.Z.unsubscribe("USER_CONNECTIONS_LINK_CALLBACK",w)}}),[w])
;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(C.xB,{direction:m.Z.Direction.VERTICAL,className:N().header,separator:!1,children:[(0,t.jsx)(i.xv,{className:N().stepHeader,variant:"text-xs/bold",color:"header-secondary",children:x.Z.Messages.BIDIRECTIONAL_STEP_HEADER.format({number:1,total:2})}),(0,t.jsxs)("div",{className:N().illustration,children:[k," "]}),(0,t.jsx)(i.X6,{className:N().title,variant:"heading-xl/extrabold",children:A}),null!=j&&(0,t.jsx)(C.ol,{className:N().closeButton,onClick:j})]}),(0,t.jsxs)(C.hz,{className:N().body,paddingFix:!1,children:[(0,t.jsx)(i.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:T}),!n&&(0,t.jsx)(i.xv,{tag:"p",variant:"text-sm/normal",color:"header-secondary",children:x.Z.Messages.CONSOLE_REDIRECT_NOTICE.format({redirectUrl:I})})]}),(0,t.jsx)(C.mz,{className:N().footer,children:(0,t.jsxs)(f.Co,{className:N().footerButton,color:n?f.Co.Colors.PRIMARY:f.Co.Colors.BRAND,onClick:R,
children:[n?x.Z.Messages.RETRY:x.Z.Messages.CONTINUE,(0,t.jsx)(p.Z,{className:N().launchIcon,width:"16",height:"16"})]})})]})}},652585:(e,r,n)=>{"use strict";n.d(r,{k:()=>d});var t=n(785893),a=(n(667294),n(489992)),o=n(191940),l=n(487502),s=n(67416),i=n(959797),c=n(627985),u=n.n(c);function d(e){var r=e.onClose,n=e.img,c=e.title,d=e.body,h=e.content;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(s.xB,{direction:l.Z.Direction.VERTICAL,className:u().header,separator:!1,children:[(0,t.jsx)("div",{className:u().illustration,children:n}),(0,t.jsx)(a.X6,{className:u().title,variant:"heading-xl/extrabold",children:c}),(0,t.jsx)(s.ol,{className:u().closeButton,onClick:r})]}),(0,t.jsxs)(s.hz,{className:u().body,paddingFix:!1,children:[(0,t.jsx)(a.xv,{tag:"p",variant:"text-md/normal",color:"header-secondary",children:d}),h]}),(0,t.jsx)(s.mz,{className:u().footer,children:(0,t.jsx)(o.Co,{className:u().footerButton,color:o.Co.Colors.BRAND,onClick:r,children:i.Z.Messages.DONE})})]})}},
13918:(e,r,n)=>{"use strict";n.d(r,{U:()=>s,y:()=>i});var t=n(785893),a=(n(667294),n(489992)),o=n(627985),l=n.n(o);function s(e){var r=e.text,n=e.children;return(0,t.jsxs)("div",{className:l().valueProp,children:[(0,t.jsx)("div",{className:l().valuePropIconContainer,children:n}),(0,t.jsx)(a.xv,{variant:"text-sm/medium",children:r})]})}function i(e){var r=e.children;return(0,t.jsx)("div",{className:l().valuePropContainer,children:r})}},23415:(e,r,n)=>{"use strict";n.d(r,{l:()=>u});var t=n(667294),a=n(244028),o=n(932847),l=n(999861),s=n(461061);function i(e,r){(null==r||r>e.length)&&(r=e.length);for(var n=0,t=new Array(r);n<r;n++)t[n]=e[n];return t}function c(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var t,a,o=[],l=!0,s=!1;try{for(n=n.call(e);!(l=(t=n.next()).done);l=!0){o.push(t.value);if(r&&o.length===r)break}}catch(e){s=!0;a=e}finally{try{
l||null==n.return||n.return()}finally{if(s)throw a}}return o}}(e,r)||function(e,r){if(!e)return;if("string"==typeof e)return i(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,r)}(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,r){var n=c(t.useState(l.E.LANDING),2),i=n[0],u=n[1],d=(0,a.Z)(i),h=c(t.useState(null),2),f=h[0],m=h[1],p=c(t.useState(null),2),C=p[0],x=p[1],b=t.useCallback((function(){switch(i){case l.E.LANDING:u(l.E.PRE_CONNECT);break;case l.E.DISCORD_CONSENT:u(l.E.SUCCESS);break;case l.E.ERROR:u(l.E.PRE_CONNECT)}}),[i]),N=t.useCallback((function(){m(null);u(l.E.ERROR)}),[]),v=t.useCallback((function(e){m(e);u(l.E.PRE_CONNECT_WAITING)
}),[]),y=t.useCallback((function(e){m(null);x(e);u(l.E.DISCORD_CONSENT)}),[]);t.useEffect((function(){i!==d&&o.default.track(s.rMx.ACCOUNT_LINK_STEP,{location_stack:e,previous_step:d,current_step:i,platform_type:r})}),[i,d,e,r]);return{slide:i,gotoNext:b,gotoError:N,handleWaitingForConnection:v,handleAuthToken:y,expectedCallbackState:f,callbackData:C}}}}]);
//# sourceMappingURL=717f27d5eb8c80f2bc49.js.map