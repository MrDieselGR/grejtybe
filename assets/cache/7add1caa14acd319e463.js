"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[73214,401],{970001:(e,n,i)=>{i.d(n,{_:()=>a,S:()=>l});var a="Guild Welcome Screen",l="hasClickedWelcomeEmojiPicker"},873214:(e,n,i)=>{i.r(n);i.d(n,{default:()=>T});var a=i(785893),l=i(667294),s=i(791462),o=i(489992),c=i(152163),t=i(725616),r=i(394803),d=i(655695),u=i(356004),m=i(392115),h=i(653772),E=i(940712),j=i(191940),_=i(629590),N=i(709990),x=i(969225),C=i(82961),p=i(757987),f=i(272729),Z=i(562181),g=i(414597),v=i(976703),k=i(67416),I=i(440455),S=i(932847),L=i(700982),M=i(94181),w=i(970001),R=i(461061),O=i(609993),D=i(959797),P=i(876917),y=i.n(P),G=function(e){var n,i=e.channelData,l=e.onClose,h=e.trackOptionClick,j=(0,s.e7)([u.Z],(function(){return u.Z.getChannel(i.channel_id)})),N=(0,s.e7)([E.Z],(function(){return null!=j&&E.Z.can(O.Pl.VIEW_CHANNEL,j)})),x=(0,s.e7)([m.Z],(function(){return null!=i.emoji_id?m.Z.getCustomEmojiById(i.emoji_id):null
}),[i.emoji_id]),C=null!=i.emoji_name?t.Z.getByName(t.Z.convertSurrogateToName(i.emoji_name,!1)):null,p=null!==(n=(0,r.KS)(j))&&void 0!==n?n:v.Z;return null!=j&&N?(0,a.jsxs)(_.Z,{className:y().optionContainer,onClick:function(){h();l();(0,d.XU)(j.guild_id,j.id)},children:[null!=x||null!=C?(0,a.jsx)(c.Z,{emojiName:null!=i.emoji_id?null==x?void 0:x.name:i.emoji_name,animated:null!=x&&x.animated,emojiId:null==x?void 0:x.id,autoplay:!0,className:y().optionEmoji}):(0,a.jsx)(p,{className:y().channelIcon}),(0,a.jsxs)("div",{className:y().optionTextContainer,children:[(0,a.jsx)(o.xv,{variant:"text-md/normal",className:y().channelDescription,children:i.description}),(0,a.jsxs)(o.xv,{variant:"text-xs/normal",color:"header-secondary",children:[(0,a.jsx)(p,{className:y().channelTitleIcon,height:12,width:12}),(0,a.jsx)("span",{children:j.name})]})]}),(0,a.jsx)(g.Z,{direction:g.Z.Directions.RIGHT,className:y().optionArrow})]}):null};const T=function(e){
var n,i=e.onClose,c=e.transitionState,t=e.guildId,r=e.isPreview,d=(0,s.e7)([h.Z],(function(){return h.Z.getGuild(t)})),u=(0,s.cj)([M.Z],(function(){return{welcomeScreen:M.Z.get(t),fetching:M.Z.isFetching(),hasError:M.Z.hasError()}})),m=u.welcomeScreen,E=u.fetching,_=u.hasError,g=(0,f.Dt)();l.useEffect((function(){null==m&&(0,L.RM)(t)}),[t,m]);l.useEffect((function(){!1===E&&!0===_&&null==m&&i()}),[E,_,i,m]);l.useEffect((function(){m===M.a&&!1===E&&i()}),[i,m,E]);l.useEffect((function(){!0!==r&&S.default.track(R.rMx.OPEN_MODAL,{type:w._,guild_id:t})}),[t,r]);var v=l.useCallback((function(e){var n;if(null!=m&&!0!==r){var i=[],a=[],l=!1;null===(n=m.welcome_channels)||void 0===n||n.forEach((function(e){i.push(e.description);a.push(e.channel_id);null!=e.emoji_id&&(l=!0)}));S.default.track(R.rMx.GUILD_WELCOME_SCREEN_OPTION_SELECTED,{index:e,guild_id:t,options:i,options_channel_ids:a,guild_description:m.description,has_custom_emojis:l})}}),[t,r,m]);return null==d?null:null==m?(0,a.jsx)(k.Y0,{
transitionState:c,className:y().main,"aria-label":D.Z.Messages.LOADING,children:(0,a.jsx)(C.Z,{type:C.Z.Type.SPINNING_CIRCLE})}):(0,a.jsxs)(k.Y0,{transitionState:c,className:y().main,"aria-labelledby":g,children:[(0,a.jsx)(k.ol,{onClick:i,className:y().close}),(0,a.jsx)(I.ZP,{mask:I.ZP.Masks.SQUIRCLE,width:64,height:64,className:y().guildIcon,children:(0,a.jsx)(x.Z,{size:x.Z.Sizes.LARGER,guild:d,active:!0,animate:!0,tabIndex:-1})}),(0,a.jsx)(o.X6,{variant:"heading-xl/semibold",className:y().header,id:g,children:D.Z.Messages.WELCOME_SCREEN_TITLE.format({guildName:d.name,guildNameHook:function(e,n){return(0,a.jsxs)("span",{children:[(0,a.jsx)(N.Z,{guild:d,className:y().headerGuildBadge,flowerStarClassName:y().flowerStar,tooltipColor:p.ZP.Colors.PRIMARY}),(0,a.jsx)("strong",{className:y().headerGuildName,children:e})]},n)}})}),null!=m.description?(0,a.jsx)(o.xv,{variant:"text-sm/normal",color:"header-secondary",className:y().guildDescription,children:m.description}):null,(0,a.jsx)(Z.vw,{
className:y().choiceHeader,children:D.Z.Messages.WELCOME_SCREEN_CHOICE_HEADER}),(0,a.jsx)("div",{className:y().options,children:null===(n=m.welcome_channels)||void 0===n?void 0:n.map((function(e,n){return(0,a.jsx)(G,{channelData:e,trackOptionClick:function(){return v(n)},onClose:i},"".concat(e.channel_id,"-").concat(n))}))}),(0,a.jsx)(j.Co,{look:j.Co.Looks.LINK,color:y().skipColor,className:y().skip,onClick:i,children:D.Z.Messages.WELCOME_SCREEN_SKIP})]})}}}]);
//# sourceMappingURL=7add1caa14acd319e463.js.map