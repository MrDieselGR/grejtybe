"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[94601],{494601:(e,n,t)=>{t.r(n);t.d(n,{default:()=>H});var r=t(785893),a=t(667294),i=t(506884),s=t(791462),l=t(856864),o=t(489992),u=t(780921),c=t(218276),d=t(20157),E=t(53551),C=t(384995),N=t(191940),p=t(487502),f=t(138402),h=t(801593),m=t(272729),v=t(983319),A=t(414597),_=t(976703),b=t(915306),y=t(806008),x=t(67416),g=t(632895),Z=t(268333),L=t(108580),T=t(666492),I=t(461061),j=t(609993),M=t(959797),S=t(302142),D=t.n(S);function O(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function R(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,i=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){i.push(r.value);if(n&&i.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return i}
}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return O(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return O(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e){var n,t,S=e.guildId,O=e.transitionState,H=e.onSubmit,P=e.onClose,k=(0,m.Dt)(),G=(0,m.Dt)(),w=(0,m.Dt)(),B=(0,m.Dt)(),V=R(a.useState("null"),2),Y=V[0],z=V[1],U=R(a.useState(I.d4z.GUILD_TEXT),2),X=U[0],F=U[1],q=R(a.useState(""),2),W=q[0],K=q[1],J=R(a.useState(!1),2),$=J[0],Q=J[1],ee=(0,d.m)(S),ne=a.useMemo((function(){return function(e){var n=[{icon:_.Z,label:M.Z.Messages.TEXT_CHANNEL_TYPE,value:I.d4z.GUILD_TEXT,description:M.Z.Messages.CREATE_TEXT_CHANNEL_DESCRIPTION},{icon:b.Z,
label:M.Z.Messages.VOICE_CHANNEL_TYPE,value:I.d4z.GUILD_VOICE,description:M.Z.Messages.CREATE_VOICE_CHANNEL_DESCRIPTION}];e&&n.push({icon:y.Z,label:M.Z.Messages.STAGE_VOICE_CHANNEL_TYPE,value:I.d4z.GUILD_STAGE_VOICE,description:M.Z.Messages.CREATE_STAGE_CHANNEL_DESCRIPTION});return n.map((function(e){var n=e.icon,t=e.label,a=e.value,i=e.description;return{name:(0,r.jsxs)(p.Z,{align:p.Z.Align.CENTER,children:[(0,r.jsx)(n,{className:D().icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)(o.xv,{variant:"text-md/normal",color:"header-primary",children:t}),(0,r.jsx)(o.xv,{variant:"text-xs/normal",color:"header-secondary",children:i})]})]}),value:a,channelIcon:n}}))}(ee)}),[ee]),te=(0,s.e7)([C.Z],(function(){return C.Z.getCategories(S)._categories}),[S]),re=a.useMemo((function(){return te.map((function(e){var n=e.channel;return{value:n.id,label:n.name}}))}),[te]),ae=null!==(t=null===(n=ne.find((function(e){return e.value===X})))||void 0===n?void 0:n.channelIcon)&&void 0!==t?t:j.Vq,ie=""!==W
;return(0,r.jsx)("form",{onSubmit:function(e){e.preventDefault();if(ie){Q(!0);var n={type:X,name:W,parent_id:"null"!==Y?Y:void 0,permission_overwrites:[{id:S,type:u.BN.ROLE,allow:L.ZP.NONE,deny:I.Plq.VIEW_CHANNEL}]};T.Z.post({url:I.ANM.GUILD_CHANNELS(S),body:n,oldFormErrors:!0,trackedActionData:{event:i.a9.CHANNEL_CREATE,properties:function(e){var n,t;return(0,l.iG)({is_private:!0,channel_id:null==e||null===(n=e.body)||void 0===n?void 0:n.id,channel_type:null==e||null===(t=e.body)||void 0===t?void 0:t.type})}}}).then((function(e){c.Z.checkGuildTemplateDirty(S);H(e.body.id);P()}),(function(e){})).finally((function(){Q(!1)}))}},children:(0,r.jsxs)(x.Y0,{transitionState:O,"aria-labelledby":k,children:[(0,r.jsxs)(x.xB,{children:[(0,r.jsx)(o.X6,{id:k,variant:"heading-md/semibold",children:M.Z.Messages.CREATE_CHANNEL}),(0,r.jsx)(x.ol,{className:D().closeButton,onClick:P})]}),(0,r.jsxs)(x.hz,{className:D().modalContent,children:[(0,r.jsx)(v.Z,{title:M.Z.Messages.CATEGORY,titleId:G,
children:(0,r.jsx)(g.q4,{placeholder:M.Z.Messages.CREATE_CHANNEL_MODAL_CATEGORY_PLACEHOLDER,value:Y,options:re,onChange:function(e){return z(e)},"aria-labelledby":G})}),(0,r.jsx)("div",{className:D().spacer}),(0,r.jsx)(v.Z,{title:M.Z.Messages.CHANNEL_TYPE,titleId:w,children:(0,r.jsx)(f.ZP,{options:ne,value:X,onChange:function(e){var n=e.value;return F(n)},"aria-labelledby":w})}),(0,r.jsx)("div",{className:D().spacer}),(0,r.jsx)(v.Z,{title:M.Z.Messages.FORM_LABEL_CHANNEL_NAME,titleId:B,children:(0,r.jsx)(h.ZP,{value:W,onChange:function(e){(0,E.zi)(X)&&(e=(0,Z.Nj)(e));K(e)},maxLength:I.HN8,placeholder:M.Z.Messages.CHANNEL_NAME_PLACEHOLDER,className:D().inputWrapper,inputClassName:D().inputInner,prefixElement:(0,r.jsx)(ae,{className:D().inputPrefix,"aria-hidden":!0}),"aria-labelledby":B,autoFocus:!0})})]}),(0,r.jsxs)(x.mz,{justify:p.Z.Justify.BETWEEN,children:[(0,r.jsx)(N.Co,{type:"submit",submitting:$,disabled:!ie,children:M.Z.Messages.SAVE}),(0,r.jsxs)(N.Co,{look:N.Co.Looks.LINK,
color:N.Co.Colors.PRIMARY,className:D().backButton,innerClassName:D().backButtonInner,onClick:P,children:[(0,r.jsx)(A.Z,{direction:A.Z.Directions.LEFT}),M.Z.Messages.BACK]})]})]})})}}}]);
//# sourceMappingURL=33f27f27eb75ab72bffb.js.map