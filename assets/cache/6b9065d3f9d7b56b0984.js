"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[16486],{741655:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(173436);const o={clearDraft:function(e,t){r.Z.dispatch({type:"DRAFT_CLEAR",channelId:e,draftType:t})},saveDraft:function(e,t,n){r.Z.dispatch({type:"DRAFT_SAVE",channelId:e,draft:t,draftType:n})},changeDraft:function(e,t,n){r.Z.dispatch({type:"DRAFT_CHANGE",channelId:e,draft:t,draftType:n})},changeThreadSettings:function(e,t){r.Z.dispatch({type:"THREAD_SETTINGS_DRAFT_CHANGE",channelId:e,draft:t})}}},549425:(e,t,n)=>{n.d(t,{Z:()=>de});var r=n(675860),o=n(173436),i=n(479509),a=n(923463),u=n(838478),c=n(23816),s=n(538796),l=n(53211),f=n(789105),d=n(175505),p=n(692706),E=n(832691),h=n(573643),_=n(617509),y=n(722792),O=n(46323),v=n(108268);const m=function(e,t){};var g=n(790948),A=n(110606);const b=function(e){},S=function(e){}
;var I=n(513073),T=n(282004),M=n(405388),D=n(114193),N=n(778667),C=n(876679),P=n(682684),R=n(868299),L=n(18416),w=n(631134),Z=n(356004),j=n(172762),U=n(653772),G=n(142583),H=n(171447),V=n(940712),k=n(962564),F=n(718375),B=n(105405),x=n(429753),q=n(859023),Y=n(202036),K=n(95467),J=n(590483),W=n(346529),z=n(992497),Q=n(461061),X=n(517845),$=n(959797);function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function te(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function ne(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){te(i,r,o,a,u,"next",e)}function u(e){te(i,r,o,a,u,"throw",e)}a(void 0)}))}}function re(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function oe(e){for(var t=1;t<arguments.length;t++){
var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){re(e,t,n[t])}))}return e}function ie(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function ae(e){return function(e){if(Array.isArray(e))return ee(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ee(e,t)
;var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ee(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var ue=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:
a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},ce=new E.Z("MessageActionCreators"),se=!1;function le(e){var t=e.inviteKey,n=e.channelId,r=e.messageId,o=e.location,i=e.suggested,a=void 0===i?null:i,u=e.overrideProperties,s=void 0===u?{}:u,l=(0,O.fU)(t),f=Z.Z.getChannel(n);if(null!=f){var d=null;f.isMultiUserDM()?d=Q.dAT.GDM_INVITE:f.isPrivate()||(d=Q.dAT.SERVER_INVITE);var p={},E=G.Z.getInvite(t);if(null!=E&&E.state===Q.r2o.RESOLVED&&null!=E.channel){var _,y=E.channel;p.invite_channel_id=y.id;p.invite_guild_id=null===(_=E.guild)||void 0===_?void 0:_.id
;p.invite_channel_type=y.type;null!=E.inviter&&(p.invite_inviter_id=E.inviter.id);var v=L.Z.getLastActiveStream();if(null!=v&&v.channelId===y.id){d=Q.dAT.STREAM;p.destination_user_id=v.ownerId;var m=(0,h.L2)(v,k.Z);p.application_id=null!=m?m.id:null}}if(null!=a){p.is_suggested=a.isAffinitySuggestion;p.row_num=a.rowNum;p.num_total=a.numTotal;p.num_affinity_connections=a.numAffinityConnections;p.is_filtered=a.isFiltered}p=oe(ie(oe({},p),{location:o,invite_type:d,invite_code:l.baseCode,guild_id:f.getGuildId(),channel_id:f.id,message_id:r,send_type:Q.a5g.DIRECT_MESSAGE,invite_guild_scheduled_event_id:l.guildScheduledEventId}),s);c.ZP.trackWithMetadata(Q.rMx.INVITE_SENT,p)}else{var g={},A=G.Z.getInvite(t);if(null!=A&&A.state===Q.r2o.RESOLVED&&null!=A.inviter){g.invite_inviter_id=A.inviter.id;g=oe(ie(oe({},g),{location:o,invite_type:Q.dAT.FRIEND_INVITE,invite_code:l.baseCode,message_id:r,send_type:Q.a5g.DIRECT_MESSAGE,invite_guild_scheduled_event_id:l.guildScheduledEventId}),s)
;c.ZP.trackWithMetadata(Q.rMx.INVITE_SENT,g)}}}var fe={receiveMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};o.Z.dispatch({type:"MESSAGE_CREATE",channelId:e,message:t,optimistic:n,sendMessageOptions:r,isPushNotification:!1})},sendBotMessage:function(e,t,n){null!=n&&c.ZP.trackWithMetadata(Q.rMx.AUTOMATED_MESSAGE_RECEIVED,{message_author:"Clyde",message_name:n});fe.receiveMessage(e,(0,g.cs)({channelId:e,content:t,loggingName:n}))},sendClydeError:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Z.Z.getChannel(e);if(null!=n){var r,o;if(t===Q.evJ.EXPLICIT_CONTENT)if(n.isDM()){r=$.Z.Messages.BOT_DM_EXPLICIT_CONTENT.format({name:(0,l.F)(n,q.default,B.Z)});o="BOT_DM_EXPLICIT_CONTENT"}else if(n.isMultiUserDM()){r=$.Z.Messages.BOT_GDM_EXPLICIT_CONTENT.format({name:(0,l.F)(n,q.default,B.Z)});o="BOT_GDM_EXPLICIT_CONTENT"}else{var i=U.Z.getGuild(n.getGuildId())
;if(null==i)return;r=$.Z.Messages.BOT_GUILD_EXPLICIT_CONTENT.format({name:i.toString()});o="BOT_GUILD_EXPLICIT_CONTENT"}else if(t===Q.evJ.SLOWMODE_RATE_LIMITED){r=$.Z.Messages.CHANNEL_SLOWMODE_DESC.format({seconds:n.rateLimitPerUser});o="SLOWMODE_RATE_LIMITED"}else if(t===Q.evJ.INVALID_MESSAGE_SEND_USER){r=$.Z.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:K.Z.getArticleURL(Q.BhN.DM_COULD_NOT_BE_DELIVERED)});o="INVALID_MESSAGE_SEND_USER"}else if(t===Q.evJ.TOO_MANY_THREADS){var a=n.isForumChannel()||n.isForumPost();r=a?$.Z.Messages.BOT_DM_TOO_MANY_POSTS:$.Z.Messages.BOT_DM_TOO_MANY_THREADS;o="TOO_MANY_THREADS"}else if(t===Q.evJ.TOO_MANY_ANNOUNCEMENT_THREADS){r=$.Z.Messages.BOT_DM_TOO_MANY_ANNOUNCEMENT_THREADS;o="TOO_MANY_ANNOUNCEMENT_THREADS"}else if(t===Q.evJ.HARMFUL_LINK_MESSAGE_BLOCKED){r=$.Z.Messages.HARMFUL_LINK_MESSAGE_BLOCKED_ERROR.format({helpUrl:Q.EYA.HARMFUL_LINKS});o="HARMFUL_LINK_MESSAGE_BLOCKED"}else if(null!=Q.MlK[t]){o=Q.MlK[t];r=$.Z.Messages[o]}else{
r=$.Z.Messages.BOT_DM_SEND_FAILED_WITH_HELP_LINK.format({helpUrl:K.Z.getArticleURL(Q.BhN.DM_COULD_NOT_BE_DELIVERED)});o="SEND_FAILED (".concat(t,")")}fe.sendBotMessage(e,r,o)}},truncateMessages:function(e,t,n){o.Z.dispatch({type:"TRUNCATE_MESSAGES",channelId:e,truncateBottom:t,truncateTop:n})},clearChannel:function(e){o.Z.dispatch({type:"CLEAR_MESSAGES",channelId:e})},jumpToPresent:function(e,t){fe.trackJump(e,null,"Present");var n={present:!0};H.Z.hasPresent(e)?o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",jump:n,channelId:e,limit:t}):fe.fetchMessages({channelId:e,limit:t,jump:n})},trackJump:function(e,t,n,r){c.ZP.trackWithMetadata(Q.rMx.JUMP,oe({context:n,channel_id:e,message_id:t},r))},jumpToMessage:function(e){var t=e.channelId,n=e.messageId,r=e.flash,o=void 0!==r&&r,i=e.offset,a=e.context,u=e.extraProperties,c=void 0===u?null:u,s=e.isPreload,l=e.returnMessageId,f=e.jumpType;"string"==typeof a&&fe.trackJump(t,n,a,c);return fe.fetchMessages({channelId:t,limit:Q.Z8P,jump:{
messageId:n,flash:o,offset:i,returnMessageId:l,jumpType:f},isPreload:s})},focusMessage:function(e){var t=e.channelId,n=e.messageId;fe.fetchMessages({channelId:t,limit:Q.Z8P,focus:{messageId:n}})},fetchMessages:function(e){var t=e.channelId,n=e.before,a=e.after,u=e.limit,c=e.jump,s=e.focus,l=e.isPreload,d=e.truncate,p=Z.Z.getChannel(t),E=j.Z.isConnectedOrOverlay(),h=Date.now();if(null!=p&&p.type===Q.d4z.GUILD_STORE)return!1;ce.log("Fetching messages for ".concat(t," between ").concat(n," and ").concat(a,". jump=").concat(JSON.stringify(c)));if(!fe._tryFetchMessagesCached({channelId:t,before:n,after:a,limit:u,jump:c,focus:s,truncate:d})){R.Z.fetchMessages.recordStart();var _=null!=c?c:void 0;null==_&&null!=s&&(_=oe({},s));var y=i.Z.getOrCreate(t).loadStart(_);i.Z.commit(y);o.Z.dispatch({type:"LOAD_MESSAGES"});var O=null==_?void 0:_.messageId;b(t);return r.Z.get({url:Q.ANM.MESSAGES(t),query:{before:n,after:a,limit:u,around:O,preload:l},retries:2,oldFormErrors:!0}).then((function(e){
R.Z.fetchMessages.recordEnd();R.Z.dispatchMessages.measure((function(){var r,i=e.body,s=null!=n,l=null!=a,_=null==n&&null==a,y=null!=O||i.length===u&&(s||_),v=null!=O||l&&i.length===u;if(null!=O){var m=Math.floor(u/2),g=[O].concat(ae(i.map((function(e){return e.id})))).filter((function(e,t,n){return n.indexOf(e)===t})).sort(W.Z.compare),A=g.indexOf(O);A<m&&(y=!1);i.length-A<m&&(v=!1);if(v&&i.length>0){var b=F.ZP.lastMessageId(t);i[0].id===b&&(v=!1)}}ce.log("Fetched ".concat(i.length," messages for ").concat(t," isBefore:").concat(s," isAfter:").concat(l));S(t);if((0,I.m7)(null!==(r=null==p?void 0:p.guild_id)&&void 0!==r?r:"")&&(null==c?void 0:c.isHighlight)){var T=(0,f.HK)(t,F.ZP.ackMessageId(t));if(T.length>=0){var M=T[0];if(null==i.find((function(e){return e.id===M}))){fe.jumpToMessage({channelId:t,messageId:M,flash:null==c?void 0:c.flash,jumpType:null==c?void 0:c.jumpType});return!0}}}o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS",channelId:t,messages:i,isBefore:s,isAfter:l,
hasMoreBefore:y,hasMoreAfter:v,limit:u,jump:c,isStale:!E||j.Z.lastTimeConnectedChanged()>=h,truncate:d})}));return!0}),(function(){ce.log("Failed to fetch messages for ".concat(t));o.Z.dispatch({type:"LOAD_MESSAGES_FAILURE",channelId:t});return!1}))}},_tryFetchMessagesCached:function(e){var t=e.channelId,n=e.before,r=e.after,i=e.limit,a=e.jump,u=e.focus,c=e.truncate,s=H.Z.getMessages(t);if(s.cached||!s.ready)return!1;if(null!=(null==a?void 0:a.messageId)||null!=(null==u?void 0:u.messageId)){if(null!=(null==a?void 0:a.messageId)&&s.has(a.messageId,!1)){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:a,limit:i,truncate:c});return!0}if(null!=(null==u?void 0:u.messageId)){if(s.has(u.messageId,!1)){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,focus:u,limit:i,truncate:c});return!0}a=oe({},u)}var l=W.Z.extractTimestamp(null==a?void 0:a.messageId),f=s.first(),d=s.last()
;if(!s.hasMoreBefore&&null!=f&&W.Z.extractTimestamp(f.id)>=l||!s.hasMoreAfter&&null!=d&&W.Z.extractTimestamp(d.id)<=l){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:a,limit:Q.Z8P});return!0}if(null!=f&&null!=d&&W.Z.extractTimestamp(f.id)<l&&W.Z.extractTimestamp(d.id)>l){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,jump:a,limit:Q.Z8P});return!0}return!1}if(null!=n&&s.hasBeforeCached(n)){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,before:n,limit:i,truncate:c});return!0}if(null!=r&&s.hasAfterCached(r)){o.Z.dispatch({type:"LOAD_MESSAGES_SUCCESS_CACHED",channelId:t,after:r,limit:i,truncate:c});return!0}return!1},sendMessage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(t.reaction)return Promise.resolve();var o=function(){return fe._sendMessage(e,t,r)};return n?new Promise((function(t,n){H.Z.whenReady(e,(function(){return o().then(t,n)}))
})):o()},getSendMessageOptionsForReply:function(e){return null==e?{}:{messageReference:{guild_id:null!==(t=e.channel.getGuildId())&&void 0!==t?t:void 0,channel_id:e.channel.id,message_id:e.message.id},allowedMentions:e.shouldMention?void 0:{parse:Object.values(Q.hCA),replied_user:!1}};var t},sendInvite:function(e,t,n,r){return fe._sendMessage(e,{content:(0,v.Z)(t),tts:!1,validNonShortcutEmojis:[],invalidEmojis:[]},{location:n,suggestedInvite:null!=r?r:void 0})},sendStickers:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return fe._sendMessage(e,{content:n,invalidEmojis:[],validNonShortcutEmojis:[],tts:o},ie(oe({},r),{stickerIds:t}))},sendGreetMessage:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.messageReference,u=i.allowedMentions,c=i.captchaPayload;return r.Z.post({url:Q.ANM.MESSAGES_GREET(e),body:{
sticker_ids:[t],allowed_mentions:u,message_reference:a,captcha_key:null==c?void 0:c.captcha_key,captcha_rqtoken:null==c?void 0:c.captcha_rqtoken},oldFormErrors:!0}).then((function(n){m(n.body.content,e);fe.receiveMessage(e,n.body);o.Z.dispatch({type:"STICKER_TRACK_USAGE",stickerIds:[t]});return n}),(function(r){429!==r.status&&(null!=r.body.captcha_key&&null==(null==i?void 0:i.captchaPayload)?n.e(41704).then(n.bind(n,141704)).then((function(n){n.default.showCaptchaAsync((0,s.z)(r.body)).then((function(n){fe.sendGreetMessage(e,t,ie(oe({},i),{captchaPayload:n}))}))})):fe.sendClydeError(e,r.body.code));o.Z.dispatch({type:"MESSAGE_SEND_FAILED",messageId:r.body.id,channelId:e});throw r}))},_sendMessage:function(e,t,r){var i=t.content,u=t.invalidEmojis,l=t.validNonShortcutEmojis,f=t.tts,E=void 0!==f&&f,h=r.activityAction,O=r.location,v=r.suggestedInvite,A=r.stickerIds,b=r.messageReference,S=r.allowedMentions,I=r.captchaPayload
;if(""===i&&null==h&&null==A)return Promise.reject(new Error("not sending empty message"));var N,P=null!=b?Q.uaV.REPLY:Q.uaV.DEFAULT,R=(0,g.ZP)({channelId:e,content:i,tts:E,type:P,messageReference:b,allowedMentions:S});R.nonce=null!==(N=r.nonce)&&void 0!==N?N:R.id;(0,T.EL)(e,R.id);null!=A&&(R.sticker_items=A.map((function(e){return C.Z.getStickerById(e)})).filter((function(e){return null!=e})));fe.receiveMessage(e,R,!0,r);if(!se&&null!=u&&u.length>0){se=!0;var L,j,U=q.default.getCurrentUser();if(u.some((function(e){return e.animated}))&&!J.ZP.canUseAnimatedEmojis(U)){L=$.Z.Messages.INVALID_ANIMATED_EMOJI_BODY_UPGRADE;j="INVALID_ANIMATED_EMOJI_BODY"}else if(V.Z.canWithPartialContext(Q.Plq.USE_EXTERNAL_EMOJIS,{channelId:e})){L=$.Z.Messages.INVALID_EXTERNAL_EMOJI_BODY_UPGRADE;j="INVALID_EXTERNAL_EMOJI_BODY_UPGRADE"}else{L=$.Z.Messages.INVALID_EXTERNAL_EMOJI_BODY;j="INVALID_EXTERNAL_EMOJI_BODY"}fe.sendBotMessage(e,L,j)}var G={type:a.$V.SEND,message:{channelId:e,content:i,nonce:R.nonce,
tts:E,message_reference:b,allowed_mentions:S,captcha_key:null==I?void 0:I.captcha_key,captcha_rqtoken:null==I?void 0:I.captcha_rqtoken}};if(null!=h){var H=h.type===Q.mFx.JOIN_REQUEST?null==h?void 0:h.activity.session_id:w.default.getSessionId();if(null!=H){var k={type:h.type,session_id:H},F=h.activity;null!=F.party&&null!=F.party.id&&(k.party_id=F.party.id);G.message.application_id=F.application_id;G.message.activity=k}}null!=A&&(G.message.sticker_ids=A);(0,M.O)()&&D.Z.enabled&&(G.message.has_poggermode_enabled=!0);return new Promise((function(u,f){a.ZP.enqueue(G,(E=ne((function(a){var E,h;return ue(this,(function(g){switch(g.label){case 0:if(!a.ok)return[3,1];m(i,e);fe.receiveMessage(e,a.body,!0);o.Z.dispatch({type:"SLOWMODE_RESET_COOLDOWN",slowmodeType:x.S.SendMessage,channelId:e});o.Z.dispatch({type:"EMOJI_TRACK_USAGE",emojiUsed:l});o.Z.dispatch({type:"STICKER_TRACK_USAGE",stickerIds:A});!function(e){
var t=e.content,n=e.channelId,r=e.messageId,o=e.location,i=e.suggested,a=void 0===i?null:i,u=e.overrideProperties,s=void 0===u?{}:u;(0,p.Z)(t).forEach((function(e){var t=e.type,i=e.code;if(t===d.g.INVITE)le({inviteKey:i,channelId:n,messageId:r,location:o,suggested:a,overrideProperties:s});else if(t===d.g.TEMPLATE){var u=y.Z.getGuildTemplate(i);if(null==u||u.state===X.Rj.RESOLVING)return;c.ZP.trackWithMetadata(Q.rMx.GUILD_TEMPLATE_LINK_SENT,{guild_template_code:i,guild_template_name:u.name,guild_template_description:u.description,guild_template_guild_id:u.sourceGuildId})}else if(t===d.g.BUILD_OVERRIDE);else if(t===d.g.EVENT);else if(t!==d.g.CHANNEL_LINK)throw Error("Unknown coded link type: ".concat(t))}))}({content:i,channelId:e,messageId:a.body.id,location:null!=O?O:"chat_input",suggested:v});!function(e,t,n,r,o){(0,Y.Q_)(e).forEach((function(e){var i=Z.Z.getChannel(t);null!=i&&c.ZP.trackWithMetadata(Q.rMx.GIFT_CODE_SENT,{location:r,gift_code:e,guild_id:i.getGuildId(),channel_id:i.id,
channel_type:i.type,message_id:n,automatic_send:o})}))}(i,e,a.body.id,null!=O?O:"chat_input",!!r.isGiftLinkSentOnBehalfOfUser);u(a);return[3,8];case 1:E=!1;if(a.hasErr)return[3,6];if(!(a.status>=400&&a.status<500&&a.body))return[3,5];if(a.body.code!==Q.evJ.SLOWMODE_RATE_LIMITED)return[3,2];null!=(h=a.body.retry_after)&&h>0&&o.Z.dispatch({type:"SLOWMODE_SET_COOLDOWN",channelId:e,slowmodeType:x.S.SendMessage,cooldownMs:1e3*h});return[3,5];case 2:return null==a.body.captcha_key||null!=(null==r?void 0:r.captchaPayload)?[3,4]:[4,n.e(41704).then(n.bind(n,141704))];case 3:g.sent().default.showCaptchaAsync((0,s.z)(a.body)).then((function(n){fe.deleteMessage(e,R.id,!0);fe._sendMessage(e,t,ie(oe({},r),{captchaPayload:n}))}));return[3,5];case 4:_.U8.has(a.body.code)?o.Z.dispatch({type:"MESSAGE_SEND_FAILED_AUTOMOD",messageData:G,errorResponseBody:{code:a.body.code,message:a.body.message}}):a.body.code===Q.evJ.POGGERMODE_TEMPORARILY_DISABLED?o.Z.dispatch({type:"POGGERMODE_TEMPORARILY_DISABLED"
}):fe.sendClydeError(e,a.body.code);g.label=5;case 5:return[3,7];case 6:"ABORTED"===a.err.code&&(E=!0);g.label=7;case 7:E?fe.deleteMessage(e,R.id,!0):o.Z.dispatch({type:"MESSAGE_SEND_FAILED",messageId:R.id,channelId:e});f(a);g.label=8;case 8:return[2]}}))})),function(e){return E.apply(this,arguments)}));var E}))},startEditMessage:function(e,t,n){o.Z.dispatch({type:"MESSAGE_START_EDIT",channelId:e,messageId:t,content:n})},updateEditMessage:function(e,t,n){o.Z.dispatch({type:"MESSAGE_UPDATE_EDIT",channelId:e,textValue:t,richValue:n})},endEditMessage:function(e,t){o.Z.dispatch({type:"MESSAGE_END_EDIT",channelId:e,response:t})},editMessage:function(e,t,n){var r=n.content;return ne((function(){var n,i;return ue(this,(function(c){switch(c.label){case 0:return[4,P.Z.unarchiveThreadIfNecessary(e)];case 1:c.sent();n=function(e,t){var n=H.Z.getMessage(e,t);if(null!=n&&n.type===Q.uaV.REPLY){var r=N.Z.getMessageByReference(n.messageReference)
;if(r.state===N.Y.LOADED&&!n.mentions.includes(r.message.author.id))return{parse:Object.values(Q.hCA),replied_user:!1}}}(e,t);i={channelId:e,messageId:t,content:r,allowed_mentions:n};a.ZP.enqueue({type:a.$V.EDIT,message:i},(function(n){var r=!n.hasErr&&_.U8.has(n.body.code);if(r){var c={type:a.$V.EDIT,message:i};o.Z.dispatch({type:"MESSAGE_EDIT_FAILED_AUTOMOD",messageData:c,errorResponseBody:{code:n.body.code,message:n.body.message}})}n.hasErr?u.Z.announce($.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_FAILED):r?u.Z.announce($.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED_AUTOMOD_BLOCKED):u.Z.announce($.Z.Messages.A11Y_ANNOUNCEMENT_MESSAGE_EDITED);fe.endEditMessage(e,n.hasErr?void 0:n);fe.focusMessage({channelId:e,messageId:t})}));return[2]}}))}))()},suppressEmbeds:function(e,t){return ne((function(){return ue(this,(function(n){switch(n.label){case 0:return[4,P.Z.unarchiveThreadIfNecessary(e)];case 1:n.sent();r.Z.patch({url:Q.ANM.MESSAGE(e,t),body:{flags:Q.iLy.SUPPRESS_EMBEDS},
oldFormErrors:!0});return[2]}}))}))()},patchMessageAttachments:function(e,t,n){return ne((function(){return ue(this,(function(o){switch(o.label){case 0:return[4,P.Z.unarchiveThreadIfNecessary(e)];case 1:o.sent();r.Z.patch({url:Q.ANM.MESSAGE(e,t),body:{attachments:n},oldFormErrors:!0});return[2]}}))}))()},deleteMessage:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ne((function(){var i;return ue(this,(function(a){switch(a.label){case 0:if(!n)return[3,1];o.Z.dispatch({type:"MESSAGE_DELETE",id:t,channelId:e});return[3,3];case 1:return[4,P.Z.unarchiveThreadIfNecessary(e)];case 2:a.sent();r.Z.delete({url:Q.ANM.MESSAGE(e,t),oldFormErrors:!0}).then((function(){o.Z.dispatch({type:"MESSAGE_DELETE",id:t,channelId:e})}));a.label=3;case 3:(null==(i=H.Z.getMessage(e,t))?void 0:i.type)===Q.uaV.GUILD_INVITE_REMINDER&&(0,A.O)();return[2]}}))}))()},dismissAutomatedMessage:function(e){null!=e.loggingName&&c.ZP.trackWithMetadata(Q.rMx.AUTOMATED_MESSAGE_DISMISSED,{
message_name:e.loggingName,message_author:e.author.username});this.deleteMessage(e.channel_id,e.id,!0)},revealMessage:function(e,t){o.Z.dispatch({type:"MESSAGE_REVEAL",channelId:e,messageId:t})},crosspostMessage:function(e,t){return r.Z.post({url:Q.ANM.MESSAGE_CROSSPOST(e,t),oldFormErrors:!0}).catch((function(e){var t;t=429===e.status?$.Z.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_BODY.format({retryAfter:Math.floor(e.body.retry_after/60)}):$.Z.Messages.PUBLISH_FOLLOWED_NEWS_GENERIC_BODY;z.Z.show({title:$.Z.Messages.PUBLISH_FOLLOWED_NEWS_FAIL_TITLE,body:t,confirmText:$.Z.Messages.OKAY})}))},trackInvite:le};const de=fe},923463:(e,t,n)=>{n.d(t,{$V:()=>C,ZN:()=>L,Bz:()=>w,ZP:()=>Z});var r=n(441143),o=n.n(r),i=n(681178),a=n(675860),u=n(682964),c=n(780921),s=n(832691),l=n(631134),f=n(886486),d=n(337823),p=n(897268),E=n(561388),h=n(710536),_=n(461061);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t,n,r,o,i,a){try{
var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return g(e)}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){m(e,t,n[t])}))}return e}function b(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e)
;t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function S(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function I(e,t){return!t||"object"!==D(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function T(e,t){T=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return T(e,t)}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){
var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var D=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1
;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return I(this,n)}}var C,P=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:
if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},R=null;__OVERLAY__&&(R=n(300327).Z);!function(e){e[e.SEND=0]="SEND";e[e.EDIT=1]="EDIT";e[e.COMMAND=2]="COMMAND"}(C||(C={}));var L=function(e){return e.type===C.SEND},w=function(e){return e.type===C.EDIT};const Z=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&T(e,t)}(n,e);var t=N(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;v(this,n)
;(e=t.call(this,new s.Z("MessageQueue"))).maxSize=r;e.requests=new Map;return e}var r=n.prototype;r.isFull=function(){return this.queue.length>=this.maxSize};r.drain=function(e,t){switch(e.type){case C.SEND:this.handleSend(e.message,t);break;case C.EDIT:this.handleEdit(e.message,t);break;case C.COMMAND:this.handleCommand(e.message,t)}};r.cancelRequest=function(e){var t;null===(t=this.requests.get(e))||void 0===t||t.abort();this.requests.delete(e)};r.createResponseHandler=function(e,t){var n=this;return function(r){null!=e&&n.requests.has(e)&&n.requests.delete(e);if(r.hasErr)return t(null,r);(null==r.body||r.body.code!==_.evJ.SLOWMODE_RATE_LIMITED&&r.body.code!==_.evJ.CHANNEL_FOLLOWING_EDIT_RATE_LIMITED)&&429===r.status?t({retryAfter:1e3*r.body.retry_after}):t(null,r)}};r.handleSend=function(e,t){var n,r=this,o=e.channelId,u=e.file,c=e.filename,s=S(e,["channelId","file","filename"]);null!=R&&(R.isInstanceUILocked()?n={location:_.ADE.OVERLAY_LOCKED_ACTIVATED
}:R.isInstanceUILocked()||(n=R.isPinned(_.Odu.TEXT)?{location:_.ADE.OVERLAY_UNLOCKED_PINNED}:{location:_.ADE.OVERLAY_UNLOCKED}));var l=this.createResponseHandler(e.nonce,t),f=new AbortController;if(null!=u&&null!=c&&""!==c)a.Z.post({url:_.ANM.MESSAGES(o),fields:Object.entries(s).map((function(e){var t=M(e,2);return{name:t[0],value:t[1]}})),attachments:[{name:"file",file:u,filename:c}],context:n,oldFormErrors:!0,signal:f.signal,onRequestCreated:function(){null!=e.nonce&&r.requests.set(e.nonce,f)}},l);else{var d={timeout:6e4,retries:3,backoff:new i.Z};0;a.Z.post(b(A({url:_.ANM.MESSAGES(o),body:s,context:n,oldFormErrors:!0},d),{signal:f.signal,onRequestCreated:function(){null!=e.nonce&&r.requests.set(e.nonce,f)}}),l)}};r.handleEdit=function(e,t){var n=this,r=e.channelId,o=e.messageId,i=S(e,["channelId","messageId"]),u=new AbortController;a.Z.patch({url:_.ANM.MESSAGE(r,o),body:i,retries:1,oldFormErrors:!0,signal:u.signal,onRequestCreated:function(){n.requests.set(o,u)}
},this.createResponseHandler(o,t))};r.handleCommand=function(e,t){var n,r=e.applicationId,i=e.guildId,s=e.channelId,p=e.data,y=e.nonce,v=e.attachments,m=e.maxSizeCallback,g=this;return(n=function(){var e,n,O,S,I,T,M,D;return P(this,(function(N){switch(N.label){case 0:e={type:c.B8.APPLICATION_COMMAND,application_id:r,guild_id:i,channel_id:s,session_id:l.default.getSessionId(),data:p,nonce:y};if(null==v)return[3,5];e.data.attachments=[];n=[];if(!(null===(O=u.Z.getCurrentConfig({}))||void 0===O?void 0:O.enabled))return[3,1];S=v;e.data.attachments=S.map((function(e,t){o()(e.status===h.m.COMPLETED,"Uploads must be staged before trying to send a message");return(0,E.B)(e,t)}));return[3,5];case 1:I=0;N.label=2;case 2:if(!(I<v.length))return[3,5];T=v[I];e.data.attachments.push((0,E.B)(T,I));return[4,(0,f.J)(T,I)];case 3:null!=(M=N.sent())&&n.push(b(A({},M),{name:"files[".concat(I,"]")}));N.label=4;case 4:I++;return[3,2];case 5:D=new AbortController;a.Z.post({url:_.ANM.INTERACTIONS,fields:[{
name:"payload_json",value:JSON.stringify(e)}],attachments:n,signal:D.signal,onRequestCreated:function(e){g.requests.set(y,D);e.on("progress",(function(e){var t=e.total,n=(0,d.dg)(i);if(null!=t&&t>n){g.cancelRequest(y);null==m||m(n)}}))}},g.createResponseHandler(y,t));return[2]}}))},function(){var e=this,t=arguments;return new Promise((function(r,o){var i=n.apply(e,t);function a(e){O(i,r,o,a,u,"next",e)}function u(e){O(i,r,o,a,u,"throw",e)}a(void 0)}))})()};return n}(p.Z))},361138:(e,t,n)=>{n.d(t,{Po:()=>h,Sg:()=>_,g7:()=>y,VP:()=>O,dh:()=>v,YU:()=>m,GV:()=>g,sq:()=>A,Bz:()=>b,TC:()=>S,MK:()=>I});var r=n(441143),o=n.n(r),i=n(675860),a=n(173436),u=n(780921),c=n(631134),s=n(346529),l=n(820294),f=n(807322),d=n(461061);function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t,n,r,i){null!=t&&o()(t.inputType!==f.iw.PLACEHOLDER,"command should not be placeholder");a.Z.dispatch({type:"APPLICATION_COMMAND_SET_ACTIVE_COMMAND",channelId:e,command:t,section:n,initialValues:i,location:r})}function _(e,t){a.Z.dispatch({
type:"APPLICATION_COMMAND_SET_PREFERRED_COMMAND",channelId:e,commandId:t})}function y(e,t){a.Z.dispatch({type:"APPLICATION_COMMAND_UPDATE_OPTIONS",channelId:e,changedOptionStates:t})}function O(e,t){y(e,Object.fromEntries(Object.entries(t).map((function(e){var t=E(e,2);return[t[0],{lastValidationResult:t[1]}]}))))}function v(e,t,n,r){return i.Z.put({body:{permissions:r},url:d.ANM.APPLICATION_BOT_GUILD_COMMAND_PERMISSIONS(e,t,n)})}var m=function(e,t,n,r,o){a.Z.dispatch({type:"APPLICATION_COMMAND_SEARCH_STORE_QUERY",context:e,query:t,limit:n,commandType:r,applicationId:o})};function g(e,t,n){var r;o()(null!=t.autocomplete,"Missing autocomplete context");var f=t.autocomplete,p=f.query,E=f.name,h=s.Z.fromTimestamp(Date.now());a.Z.dispatch({type:"APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST",nonce:h,channelId:t.channel.id,query:p,name:E});null==l.Z.getAutocompleteChoices(t.channel.id,E,p)&&i.Z.post({url:d.ANM.INTERACTIONS,body:{type:u.B8.APPLICATION_COMMAND_AUTOCOMPLETE,
application_id:e.applicationId,guild_id:null===(r=t.guild)||void 0===r?void 0:r.id,channel_id:t.channel.id,session_id:c.default.getSessionId(),data:n,nonce:h},timeout:3e3}).catch((function(){a.Z.dispatch({type:"INTERACTION_FAILURE",nonce:h})}))}function A(e,t,n){a.Z.dispatch({type:"APPLICATION_COMMAND_FETCH",channelId:t,commandId:n,guildId:e})}function b(e,t,n){a.Z.dispatch({type:"APPLICATION_COMMANDS_FETCH",channelId:t,commandIds:n,guildId:e})}function S(e){var t=e.guildId,n=e.channelId,r=e.applicationId;a.Z.dispatch({type:"APPLICATION_COMMANDS_FETCH_FOR_APPLICATION",channelId:n,guildId:t,applicationId:r})}function I(e,t,n){a.Z.dispatch({type:"APPLICATION_COMMAND_REGISTRY_UPDATE",applications:t,commands:e,channelId:n})}},820294:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(791462),o=n(173436),i=n(408247);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return c(e)}function s(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function l(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(e,t){f=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return f(e,t)}var d=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e}
;function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return l(this,n)}}var E=new Map,h=new Map;function _(e){if(!h.has(e)){var t;h.set(e,{commandId:null===(t=i.Z.getActiveCommand(e))||void 0===t?void 0:t.id,optionName:i.Z.getActiveOptionName(e),optionNameToAutocompleteQueries:new Map,optionNameToLastResults:new Map,optionNameToNonce:new Map,optionNameToLastQuery:new Map,lastErrored:!1})}return h.get(e)}function y(){E.clear();h.clear();return!0}function O(e,t){var n=i.Z.getActiveOptionName(e),r=h.get(e);if(null==r||t===r.commandId&&n===r.optionName)return!1;if(null!=t&&t!==r.commandId){r.optionNameToLastResults.clear()
;r.optionNameToNonce.clear();r.optionNameToLastQuery.clear();r.optionNameToAutocompleteQueries.clear()}r.lastErrored=!1;r.commandId=t;r.optionName=n;return!0}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&f(e,t)}(n,e);var t=p(n);function n(){a(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(i.Z)};r.getLastErrored=function(e){return _(e).lastErrored};r.getAutocompleteChoices=function(e,t,n){var r;return null===(r=_(e).optionNameToAutocompleteQueries.get(t))||void 0===r?void 0:r.get(n)};r.getAutocompleteLastChoices=function(e,t){return _(e).optionNameToLastResults.get(t)};r.__getLocalVars=function(){return{autocompleteNonces:E,channels:h}};return n}(r.ZP.Store);v.displayName="ApplicationCommandAutocompleteStore";const m=new v(o.Z,{CONNECTION_OPEN:y,
LOGOUT:y,CHANNEL_SELECT:y,APPLICATION_COMMAND_AUTOCOMPLETE_REQUEST:function(e){var t,n=e.nonce,r=e.channelId,o=e.query,i=e.name,a=_(r);if(a.optionNameToLastQuery.get(i)===o)return!1;a.optionNameToLastQuery.set(i,o);var u=null===(t=a.optionNameToAutocompleteQueries.get(i))||void 0===t?void 0:t.get(o);if(null!=u){a.lastErrored=!1;a.optionNameToLastResults.set(i,u);return!0}var c=a.optionNameToNonce.get(i);null!=c&&E.delete(c);E.set(n,{channelId:r,query:o,name:i});a.optionNameToNonce.set(i,n);if(a.lastErrored){a.lastErrored=!1;return!0}},APPLICATION_COMMAND_AUTOCOMPLETE_RESPONSE:function(e){var t,n,r=e.choices,o=e.nonce,i=E.get(o);if(null==i)return!1;E.delete(o);var a=null!==(n=null==r?void 0:r.map((function(e){var t;return s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){u(e,t,n[t])}))}return e}({},e),{displayName:null!==(t=e.name_localized)&&void 0!==t?t:e.name})})))&&void 0!==n?n:[],c=_(i.channelId);null==c.optionNameToAutocompleteQueries.get(i.name)&&c.optionNameToAutocompleteQueries.set(i.name,new Map);null===(t=c.optionNameToAutocompleteQueries.get(i.name))||void 0===t||t.set(i.query,a);if(c.optionNameToLastQuery.get(i.name)===i.query){c.lastErrored=!1;c.optionNameToLastResults.set(i.name,a)}return!0},INTERACTION_FAILURE:function(e){var t=e.nonce;if(null==t)return!1;var n=E.get(t);if(null==n)return!1;E.delete(t);_(n.channelId).lastErrored=!0;return!0},APPLICATION_COMMAND_SET_ACTIVE_COMMAND:function(e){var t=e.channelId,n=e.command;O(t,null==n?void 0:n.id)},APPLICATION_COMMAND_UPDATE_CHANNEL_STATE:function(e){var t=e.channelId,n=e.command;O(t,null==n?void 0:n.id)}})},408247:(e,t,n)=>{n.d(t,{Z:()=>M})
;var r=n(791462),o=n(173436),i=n(23816),a=n(915354),u=n(379822),c=n(461061);function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return d(e)}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){f(e,t,n[t])}))}return e}function E(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t){h=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return h(e,t)}function _(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=d(e);if(t){var o=d(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}var v={};function m(){v={};return!0}function g(e){e in v||(v[e]={activeCommand:null,activeCommandSection:null,activeOptionName:null,preferredCommandId:null,optionStates:{},initialValues:{}});return v[e]}function A(e){var t,n=e.channelId,r=e.command,o=e.section,a=e.initialValues,u=e.location,s=g(n)
;if((null==r?void 0:r.id)===(null===(t=s.activeCommand)||void 0===t?void 0:t.id))return!1;s.activeCommand=r;s.activeCommandSection=o;s.activeOptionName=null;s.preferredCommandId=null;s.initialValues=null!=a?a:{};var l={};null!=(null==r?void 0:r.options)&&r.options.forEach((function(e){l[e.name]={isActive:!1,hasValue:!1,lastValidationResult:null,optionValue:null}}));s.optionStates=l;if(null!=r){var f,d;(0,i.yw)(c.rMx.APPLICATION_COMMAND_SELECTED,{command_id:null!==(d=null===(f=r.rootCommand)||void 0===f?void 0:f.id)&&void 0!==d?d:r.id,application_id:r.applicationId,location:u})}return!0}function b(e){var t,n,r=e.channelId,o=e.commandId,i=g(r);if(o===i.preferredCommandId||null===i.preferredCommandId&&o===(null!==(n=null===(t=i.activeCommand)||void 0===t?void 0:t.id)&&void 0!==n?n:null))return!1;i.activeCommand=null;i.activeOptionName=null;i.preferredCommandId=o;i.optionStates={};return!0}function S(e){
var t=e.channelId,n=e.changedOptionStates,r=g(t),o=p({},r.optionStates),i=!0,a=!1,u=void 0;try{for(var c,s=Object.entries(n)[Symbol.iterator]();!(i=(c=s.next()).done);i=!0){var l=_(c.value,2),f=l[0],d=l[1];if(f in r.optionStates){if(void 0!==d.hasValue?d.hasValue:o[f].hasValue){var E,h,y,O=o[f];o[f]={hasValue:!0,isActive:void 0!==d.isActive?d.isActive:O.isActive,lastValidationResult:void 0!==d.lastValidationResult?d.lastValidationResult:O.lastValidationResult,optionValue:null!==(E=d.optionValue)&&void 0!==E?E:O.optionValue,location:null!==(h=d.location)&&void 0!==h?h:O.location,length:null!==(y=d.length)&&void 0!==y?y:O.length};if(void 0!==d.isActive)if(d.isActive){if(null!=r.activeOptionName&&r.activeOptionName!==f){o[r.activeOptionName]=p({},o[r.activeOptionName]);o[r.activeOptionName].isActive=!1}r.activeOptionName=f}else f===r.activeOptionName&&(r.activeOptionName=null)}else{o[f]={hasValue:!1,isActive:!1,lastValidationResult:null,optionValue:null,location:void 0,length:void 0}
;r.activeOptionName===f&&(r.activeOptionName=null)}}}}catch(e){a=!0;u=e}finally{try{i||null==s.return||s.return()}finally{if(a)throw u}}r.optionStates=o;return!0}var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&h(e,t)}(n,e);var t=O(n);function n(){l(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){a.ZP.addChangeListener((function(){var e=u.Z.getChannelId();if(null==e){v={};return!0}var t=a.ZP.getCurrentSidebarChannelId(e);if(null!=t&&t in v)return!1;v=e in v?f({},e,v[e]):{}}))};r.getActiveCommand=function(e){return g(e).activeCommand};r.getActiveCommandSection=function(e){return g(e).activeCommandSection};r.getActiveOptionName=function(e){return g(e).activeOptionName};r.getActiveOption=function(e){var t,n,r,o=g(e)
;return null!==(r=null===(t=o.activeCommand)||void 0===t||null===(n=t.options)||void 0===n?void 0:n.find((function(e){return e.name===o.activeOptionName})))&&void 0!==r?r:null};r.getPreferredCommandId=function(e){return g(e).preferredCommandId};r.getOptionStates=function(e){return g(e).optionStates};r.getOptionState=function(e,t){return g(e).optionStates[t]};r.getOption=function(e,t){var n,r;return null===(n=g(e).activeCommand)||void 0===n||null===(r=n.options)||void 0===r?void 0:r.find((function(e){return e.name===t}))};r.getState=function(e){return p({},g(e))};r.__getLocalVars=function(){return{channels:v,store:T}};return n}(r.ZP.Store);I.displayName="ApplicationCommandStore";var T=new I(o.Z,{CONNECTION_OPEN:m,CHANNEL_SELECT:m,LOGOUT:m,APPLICATION_COMMAND_SET_ACTIVE_COMMAND:A,APPLICATION_COMMAND_SET_PREFERRED_COMMAND:b,APPLICATION_COMMAND_UPDATE_OPTIONS:S,APPLICATION_COMMAND_UPDATE_CHANNEL_STATE:function(e){
var t=e.channelId,n=e.preferredCommandId,r=e.command,o=e.section,i=e.changedOptionStates,a=A({type:"APPLICATION_COMMAND_SET_ACTIVE_COMMAND",channelId:t,command:r,section:o}),u=b({type:"APPLICATION_COMMAND_SET_PREFERRED_COMMAND",channelId:t,commandId:n}),c=S({type:"APPLICATION_COMMAND_UPDATE_OPTIONS",channelId:t,changedOptionStates:i});return a||u||c}});const M=T},807322:(e,t,n)=>{n.d(t,{Qi:()=>r,iw:()=>o,Kw:()=>i,Vh:()=>a});var r,o,i,a;!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.APPLICATION=1]="APPLICATION"}(r||(r={}));!function(e){e[e.BUILT_IN=0]="BUILT_IN";e[e.BUILT_IN_TEXT=1]="BUILT_IN_TEXT";e[e.BUILT_IN_INTEGRATION=2]="BUILT_IN_INTEGRATION";e[e.BOT=3]="BOT";e[e.PLACEHOLDER=4]="PLACEHOLDER"}(o||(o={}));!function(e){e[e.ROLE=1]="ROLE";e[e.USER=2]="USER";e[e.CHANNEL=3]="CHANNEL"}(i||(i={}));!function(e){e.DISCOVERY="discovery";e.SUGGESTION="suggestion";e.MENTION="mention";e.PASTE="paste";e.RECALL="recall";e.POPULAR_COMMANDS="popular_commands"}(a||(a={}))},809633:(e,t,n)=>{n.d(t,{
pC:()=>o,Cn:()=>i,Vb:()=>a,ZI:()=>r,V8:()=>c,R6:()=>u});var r,o=20,i=5,a=256;!function(e){e.PERMISSIONS="Permissions";e.GUIDELINES="Guidelines";e.TAGS="Tags";e.DEFAULT_REACTION="Default Reaction";e.CREATE_POST="Create Post"}(r||(r={}));var u,c="https://discord.com/community/creating-value-with-conversation";!function(e){e[e.DURATION_AGO=0]="DURATION_AGO";e[e.POSTED_DURATION_AGO=1]="POSTED_DURATION_AGO"}(u||(u={}))},617509:(e,t,n)=>{n.d(t,{V6:()=>y,uS:()=>O,U8:()=>v,uF:()=>m});var r=n(923463),o=n(356004),i=n(461061),a=n(959797);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Date.prototype.toString.call(Reflect.construct(Date,[],(function(){})));return!0}catch(e){return!1}}function s(e,t,n){s=c()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r))
;n&&p(o,n.prototype);return o};return s.apply(null,arguments)}function l(e){l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return l(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}function d(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t="function"==typeof Map?new Map:void 0;h=function(e){if(null===e||!(n=e,-1!==Function.toString.call(n).indexOf("[native code]")))return e;var n
;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,l(this).constructor)}r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}});return p(r,e)};return h(e)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var y=function(e){f(n,e);var t=_(n);function n(){u(this,n);return t.apply(this,arguments)}return n}(h(Error)),O=function(e){f(n,e);var t=_(n);function n(){u(this,n);return t.apply(this,arguments)}return n
}(h(Error)),v=new Set([i.evJ.AUTOMOD_MESSAGE_BLOCKED,i.evJ.AUTOMOD_TITLE_BLOCKED,i.evJ.AUTOMOD_INVALID_RUST_SERVICE_RESPONSE]);function m(e,t){var n=function(e,t){if(null==e)return null;var n=e.code,r=e.message;if(!v.has(n))return null;if(null!=r)return r;if(null==t)return null;var u=o.Z.getChannel(t);if(null==u?void 0:u.isThread())return a.Z.Messages.THREAD_AUTOMOD_ERROR;if((null==u?void 0:u.isForumPost())||(null==u?void 0:u.isForumChannel())){if(n===i.evJ.AUTOMOD_TITLE_BLOCKED)return a.Z.Messages.FORUM_POST_AUTOMOD_ERROR;if(n===i.evJ.AUTOMOD_MESSAGE_BLOCKED)return a.Z.Messages.FORUM_POST_AUTOMOD_ERROR}return null}(t);return null!=n?n:null==e?a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE:function(e){var t=o.Z.getChannel(e.message.channelId);return(0,
r.Bz)(e)?a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_EDIT_NOTICE:(null==t?void 0:t.isThread())?a.Z.Messages.THREAD_AUTOMOD_ERROR:(null==t?void 0:t.isForumPost())||(null==t?void 0:t.isForumChannel())?a.Z.Messages.FORUM_POST_AUTOMOD_ERROR:a.Z.Messages.GUILD_AUTOMOD_BLOCKED_MESSAGE_SEND_NOTICE}(e)}},722792:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(791462),o=n(173436),i=n(814111),a=n(517845);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function s(e){s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return s(e)}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){
return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){c(e,t,n[t])}))}return e}function f(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function d(e,t){return!t||"object"!==E(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return p(e,t)}var E=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function h(e){var t=function(){
if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var o=s(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}var _={},y=null;function O(e,t){var n,r=null!==(n=_[e])&&void 0!==n?n:{code:e,state:a.Rj.RESOLVING};t(r=l({},r));_=f(l({},_),c({},e,r))}function v(e){m(e.guildTemplate)}function m(e){return O(e.code,(function(t){var n=(0,i.Z)(e);for(var r in n)t[r]=n[r]}))}function g(e){return O(e.code,(function(e){e.state=a.Rj.EXPIRED}))}var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=h(n);function n(){u(this,n)
;return t.apply(this,arguments)}var r=n.prototype;r.getGuildTemplate=function(e){return null!=e?_[e]:null};r.getGuildTemplates=function(){return _};r.getForGuild=function(e){for(var t in _){var n=_[t];if("sourceGuildId"in n&&n.sourceGuildId===e&&n.state!==a.Rj.EXPIRED)return n}};r.getDisplayedGuildTemplateCode=function(){return y};r.__getLocalVars=function(){return{guildTemplates:_,displayedGuildTemplateCode:y}};return n}(r.ZP.Store);A.displayName="GuildTemplateStore";const b=new A(o.Z,{GUILD_TEMPLATE_RESOLVE:function(e){var t=e.code;_=f(l({},_),c({},t,{code:t,state:a.Rj.RESOLVING}))},GUILD_TEMPLATE_CREATE_SUCCESS:v,GUILD_TEMPLATE_SYNC_SUCCESS:v,GUILD_TEMPLATE_RESOLVE_SUCCESS:v,GUILD_TEMPLATE_LOAD_FOR_GUILD_SUCCESS:function(e){e.guildTemplates.forEach((function(e){return m(e)}))},GUILD_TEMPLATE_RESOLVE_FAILURE:g,GUILD_TEMPLATE_DELETE_SUCCESS:g,GUILD_TEMPLATE_ACCEPT:function(e){return O(e.code,(function(e){e.state=a.Rj.ACCEPTING}))},GUILD_TEMPLATE_ACCEPT_SUCCESS:function(e){
return O(e.code,(function(e){e.state=a.Rj.ACCEPTED;var t;e.usageCount=(null!==(t=e.usageCount)&&void 0!==t?t:0)+1}))},GUILD_TEMPLATE_ACCEPT_FAILURE:function(e){return O(e.code,(function(e){e.state=a.Rj.RESOLVED}))},GUILD_TEMPLATE_MODAL_SHOW:function(e){y=e.code},GUILD_TEMPLATE_MODAL_HIDE:function(e){y=null}})},108268:(e,t,n)=>{n.d(t,{Z:()=>r});function r(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=window.GLOBAL_ENV.INVITE_HOST;if(null!=r)e="/".concat(t);else{r=location.host;e="/invite/".concat(t)}return"".concat(n?"".concat(location.protocol,"//"):"").concat(r).concat(e)}},790948:(e,t,n)=>{n.d(t,{pe:()=>f,ZP:()=>d,cs:()=>p});var r=n(441143),o=n.n(r),i=n(778667),a=n(948571),u=n(859023),c=n(346529),s=n(461061);function l(){return c.Z.fromTimestamp(Date.now())}function f(e){return{id:e.id,username:e.username,avatar:e.avatar,discriminator:e.discriminator,bot:e.bot}}function d(e){
var t=e.channelId,n=e.content,r=e.tts,c=void 0!==r&&r,d=e.type,p=void 0===d?s.uaV.DEFAULT:d,E=e.messageReference,h=e.allowedMentions,_=e.author,y=[];if(p===s.uaV.REPLY){o()(null!=E,"Replies must have a message reference");if(null==h||h.replied_user){var O=i.Z.getMessageByReference(E);(null==O?void 0:O.state)===i.Y.LOADED&&y.push(f(O.message.author))}}null==_&&(_=u.default.getCurrentUser());_ instanceof a.Z&&(_=f(_));o()(null!=_,"createMessage: author cannot be undefined");return{id:l(),type:p,content:n,channel_id:t,author:_,attachments:[],embeds:[],pinned:!1,mentions:y,mention_channels:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:s.yb.SENDING,tts:c,message_reference:E}}function p(e){var t=e.channelId,n=e.content,r=e.embeds,o=e.loggingName;return{id:l(),type:s.uaV.DEFAULT,flags:s.iLy.EPHEMERAL,content:n,channel_id:t,author:{id:s.LAt,username:"Clyde",discriminator:s.fo$,avatar:"clyde",bot:!0},attachments:[],embeds:null!=r?r:[],pinned:!1,mentions:[],
mention_channels:[],mention_roles:[],mention_everyone:!1,timestamp:(new Date).toISOString(),state:s.yb.SENT,tts:!1,loggingName:o}}},110606:(e,t,n)=>{n.d(t,{w:()=>i,O:()=>a});var r=n(23816),o=n(461061);function i(){r.ZP.trackWithMetadata(o.rMx.NOTIFICATION_CTA_CLICKED,{notification_type:o.j_x.REMINDER_NOTIFICATION,action:o.N4o.GUILD_INVITE,dismissed:!1})}function a(){r.ZP.trackWithMetadata(o.rMx.NOTIFICATION_CTA_CLICKED,{notification_type:o.j_x.REMINDER_NOTIFICATION,action:o.N4o.GUILD_INVITE,dismissed:!0})}},282004:(e,t,n)=>{n.d(t,{ew:()=>b,SE:()=>A,EL:()=>S,AI:()=>g});var r=n(173436),o=n(631134),i=n(114193),a=n(959154),u=n(496486),c=n.n(u),s=n(932847),l=n(452689),f=n(461061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{
for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){switch(e){case l.oZ.CHAT_INPUT:return"chat_input";case l.oZ.MENTION:return"mention";case l.oZ.VOICE_USER:return"voice_user"}}function h(e){switch(e){case l.Hn.CHAT_INPUT:return"chat_input";case l.Hn.MEMBER_USER:return"member_user";case l.Hn.REACTION:return"reaction";case l.Hn.CALL_TILE:return"call_tile"}}
function _(e,t){return Object.entries(e).filter((function(e){var t=p(e,2);t[0];return t[1]})).map((function(e){var n=p(e,1)[0];return t(Number.parseInt(n))}))}const y=c().throttle((function(e){var t=e.enabled,n=e.combosEnabled,r=e.combosRequiredCount,o=e.screenshakeEnabled,i=e.shakeIntensity,a=e.screenshakeEnabledLocations,u=e.confettiEnabled,c=e.confettiSize,l=e.confettiCount,d=e.confettiEnabledLocations;s.default.track(f.rMx.POGGERMODE_SETTINGS_UPDATED,{enabled:t,combos_enabled:n,combos_required_count:r,screenshake_enabled:o,shake_intensity:i,screenshake_enabled_locations:_(a,E),confetti_enabled:u,confetti_size:c,confetti_count:l,confetti_enabled_locations:_(d,h)})}),5e3);function O(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){O(e,t,n[t])}))}return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function g(e){r.Z.dispatch({type:"POGGERMODE_SETTINGS_UPDATE",settings:e});var t=v({},i.Z.getState(),e);y(t)}function A(e){r.Z.dispatch(v({type:"POGGERMODE_UPDATE_COMBO"},e))}function b(e){r.Z.dispatch({type:"POGGERMODE_UPDATE_MESSAGE_COMBO",comboMessage:m(v({},e),{displayed:!0})})}function S(e,t){
var n,i=o.default.getId(),u=a.ZP.getUserCombo(i,e);null!=u&&r.Z.dispatch({type:"POGGERMODE_UPDATE_MESSAGE_COMBO",comboMessage:{combo:u,channelId:e,messageId:t,displayed:!1}});var c=null!=u&&(null==u?void 0:u.value)>0?(null!==(n=null==u?void 0:u.multiplier)&&void 0!==n?n:0)+1:1;r.Z.dispatch({type:"POGGERMODE_UPDATE_COMBO",channelId:e,userId:i,multiplier:c,value:0})}},452689:(e,t,n)=>{n.d(t,{Hn:()=>c,oZ:()=>s,qi:()=>l,JR:()=>h,u4:()=>_});function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){o(e,t,n[t])}))}return e}
function a(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c,s,l,f;!function(e){e[e.CHAT_INPUT=0]="CHAT_INPUT";e[e.REACTION=1]="REACTION";e[e.MEMBER_USER=2]="MEMBER_USER";e[e.CALL_TILE=3]="CALL_TILE"}(c||(c={}));!function(e){e[e.CHAT_INPUT=0]="CHAT_INPUT";e[e.VOICE_USER=1]="VOICE_USER";e[e.MENTION=2]="MENTION"}(s||(s={}));!function(e){e[e.LEVEL_1=0]="LEVEL_1";e[e.LEVEL_2=1]="LEVEL_2";e[e.LEVEL_3=2]="LEVEL_3";e[e.LEVEL_4=3]="LEVEL_4";e[e.LEVEL_5=4]="LEVEL_5"}(l||(l={}));var d,p,E=(o(f={},l.LEVEL_1,[[1,1e-4],[25,.05],[50,.1],[100,.5],[250,1],[500,2],[1e3,3],[9001,4]]),o(f,l.LEVEL_2,[[1,1e-4],[25,.25],[50,.5],[100,1],[250,2.5],[500,5],[1e3,7.5],[9001,10]]),
o(f,l.LEVEL_3,[[1,.001],[25,.5],[50,1],[100,2],[250,4],[500,8],[1e3,12],[9001,16]]),o(f,l.LEVEL_4,[[1,.25],[25,.75],[50,1],[100,2],[250,4],[500,8],[1e3,20],[9001,50]]),o(f,l.LEVEL_5,[[1,.001],[25,.5],[50,1],[100,2],[250,5],[500,10],[1e3,100],[9001,1e4]]),f),h=Object.keys(E).reduce((function(e,t){return a(i({},e),o({},t,E[t].map((function(e){return u(e,1)[0]}))))}),(o(d={},l.LEVEL_1,[]),o(d,l.LEVEL_2,[]),o(d,l.LEVEL_3,[]),o(d,l.LEVEL_4,[]),o(d,l.LEVEL_5,[]),d)),_=Object.keys(E).reduce((function(e,t){return a(i({},e),o({},t,E[t].map((function(e){var t=u(e,2);t[0];return t[1]}))))}),(o(p={},l.LEVEL_1,[]),o(p,l.LEVEL_2,[]),o(p,l.LEVEL_3,[]),o(p,l.LEVEL_4,[]),o(p,l.LEVEL_5,[]),p))},405388:(e,t,n)=>{n.d(t,{Z:()=>o,O:()=>i});var r=(0,n(553494).B)({kind:"user",id:"2022-04_powermode",label:"Powermode",defaultConfig:{enabled:!1,showFeatureEducation:!1},treatments:[{id:1,label:"Enabled",config:{enabled:!0,showFeatureEducation:!1}},{id:2,label:"Enabled w/ Education",config:{enabled:!0,
showFeatureEducation:!0}}]});const o=r;function i(){return r.getCurrentConfig({}).enabled}},114193:(e,t,n)=>{n.d(t,{Z:()=>b});var r=n(496486),o=n(791462),i=n(173436),a=n(405388),u=n(452689);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))))
;r.forEach((function(t){l(e,t,n[t])}))}return e}function p(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e,t){E=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return E(e,t)}var h=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}var y,O,v=!1,m={enabled:!1,combosEnabled:!0,combosRequiredCount:5,comboSoundsEnabled:!0,screenshakeEnabled:!0,screenshakeEnabledLocations:(y={},
l(y,u.oZ.CHAT_INPUT,!0),l(y,u.oZ.VOICE_USER,!1),l(y,u.oZ.MENTION,!1),y),shakeIntensity:1,confettiEnabled:!0,confettiEnabledLocations:(O={},l(O,u.Hn.CHAT_INPUT,!0),l(O,u.Hn.REACTION,!0),l(O,u.Hn.MEMBER_USER,!0),l(O,u.Hn.CALL_TILE,!0),O),confettiSize:16,confettiCount:5,warningSeen:!1},g=(0,r.cloneDeep)(m);var A=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&E(e,t)}(n,e);var t=_(n);function n(){c(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(e){g=d({},g,e)};r.getUserAgnosticState=function(){return g};r.__getLocalVars=function(){return{temporarilyDisabled:v,state:g}};!function(e,t,n){t&&s(e.prototype,t);n&&s(e,n)}(n,[{key:"enabled",get:function(){return!v&&g.enabled&&(0,a.O)()}},{key:"shakeIntensity",get:function(){return this.enabled?g.shakeIntensity:0}},{
key:"combosRequiredCount",get:function(){return this.enabled?g.combosRequiredCount:0}},{key:"screenshakeEnabled",get:function(){return g.screenshakeEnabled}},{key:"screenshakeEnabledLocations",get:function(){return g.screenshakeEnabledLocations}},{key:"combosEnabled",get:function(){return g.combosEnabled}},{key:"comboSoundsEnabled",get:function(){return g.comboSoundsEnabled}}]);return n}(o.ZP.DeviceSettingsStore);A.displayName="PoggermodeSettingsStore";A.persistKey="PoggermodeSettingsStore";const b=new A(i.Z,{POGGERMODE_SETTINGS_UPDATE:function(e){var t=e.settings;g=d({},g,t)},POGGERMODE_TEMPORARILY_DISABLED:function(){v=!0}})},959154:(e,t,n)=>{n.d(t,{wU:()=>C,ZP:()=>L});var r=n(791462),o=n(105994),i=n(365523),a=n(173436),u=n(631134),c=n(379822),s=n(882699),l=n(114193),f=n(447086),d=n(452689),p=n(461061);function E(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,
writable:!0}):e[t]=n;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){h(e,t,n[t])}))}return e}function O(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function v(e,t){if(null==e)return{}
;var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||(o[n]=e[n])}return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++){n=i[r];t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}}return o}function m(e,t){return!t||"object"!==A(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e,t){g=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return g(e,t)}var A=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}()
;return function(){var n,r=_(e);if(t){var o=_(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return m(this,n)}}var S=1e3,I=new Set,T=new o.Z((function(e){return[e.userId,e.channelId]}),(function(e){var t=e.userId,n=e.channelId;return"".concat(n,"-").concat(t)}));var M=new o.Z((function(e){return[e.messageId,e.channelId,e.combo.userId]}),(function(e){var t=e.messageId,n=e.channelId,r=e.combo.userId;return"".concat(n,"-").concat(r,"-").concat(t)})),D=function(e){var t=e.userId,n=e.channelId;return"".concat(t,"-").concat(n)};function N(e){var t,n,r,o,a,u=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],c=T.get(D(e)),s=O(y({},c,e),{value:null!==(n=null!==(t=e.value)&&void 0!==t?t:null==c?void 0:c.value)&&void 0!==n?n:0,multiplier:Math.min(null!==(o=null!==(r=e.multiplier)&&void 0!==r?r:null==c?void 0:c.multiplier)&&void 0!==o?o:1,7),decayInterval:null!==(a=null==c?void 0:c.decayInterval)&&void 0!==a?a:new i.Xp});T.set(D(e),s);if(u){var l
;null===(l=s.decayInterval)||void 0===l||l.start(S,(function(){var e=T.get(D(s));if(null!=e){var t=s.multiplier!==e.multiplier&&s.value!==e.value;if(e.value<=0||t){var n;null===(n=e.decayInterval)||void 0===n||n.stop();if(e.value<=0){N(O(y({},e),{value:0,multiplier:1}));R.emitChange()}}else{N(O(y({},e),{value:e.value-1}));R.emitChange()}}}))}}function C(e,t,n,r){if(e!==t)return!1;if(null==n||r.has(n))return!1;r.add(n);return!0}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&g(e,t)}(n,e);var t=b(n);function n(){E(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(u.default,c.Z)};r.getComboScore=function(e,t){var n=T.get(D({userId:e,channelId:t}));return null==n?0:(0,f.Eo)(n)};r.getUserCombo=function(e,t){return T.get(D({userId:e,channelId:t}))}
;r.isComboing=function(e,t){var n=this.getUserCombo(e,t);return null!=n&&n.value>=l.Z.combosRequiredCount&&function(e){return null!=e&&(e.value>0||(null==e?void 0:e.multiplier)>1)}(n)};r.getMessageCombo=function(e){var t,n=M.get(e);return null!==(t=null==n?void 0:n.combo)&&void 0!==t?t:void 0};r.getMostRecentMessageCombo=function(e){var t=M.values(e);return t[t.length-1]};r.getUserComboShakeIntensity=function(e,t,n,r){var o=this.getUserCombo(e,t);return null!=o?(0,f.KH)(o,r)*n:0};r.__getLocalVars=function(){return{MAX_MULTIPLIER:7,DECAY_DELAY:S,trackedMessageNonces:I,comboStore:T,messageComboStore:M,store:R}};return n}(r.ZP.Store);P.displayName="PoggermodeStore";var R=new P(a.Z,{POGGERMODE_UPDATE_COMBO:function(e){e.type;var t=v(e,["type"]);if(!l.Z.enabled)return!1;N(t)},POGGERMODE_UPDATE_MESSAGE_COMBO:function(e){var t,n=e.comboMessage;if(!l.Z.enabled)return!1;t=n,M.set(t.messageId,t)},MESSAGE_CREATE:function(e){var t=e.channelId,n=e.message,r=n.mentions,o=n.author,i=n.nonce
;if(!l.Z.enabled)return!1;var a=u.default.getId();if(!C(o.id,a,i,I))return!1;var c=T.get(D({userId:o.id,channelId:t}));if(l.Z.screenshakeEnabled&&l.Z.screenshakeEnabledLocations[d.oZ.MENTION]&&null!=r&&null!=r.find((function(e){return e.id===a}))){var E,h=null!=c?null!==(E=(0,f.KH)(c,d.qi.LEVEL_4))&&void 0!==E?E:.001:4*Math.random();s.S.dispatch(p.CkL.SHAKE_APP,{duration:1e3,intensity:h});return!0}return!1}});const L=R},447086:(e,t,n)=>{n.d(t,{KH:()=>c,nc:()=>d,yz:()=>p,Eo:()=>E});var r=n(452689),o=n(461061);function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}
return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=function(e,t){var n=e.multiplier,r=e.value,o=a(t,2),i=o[0],u=o[1],c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,s=r*n;if(s<=0)return 0;var l=i.reduce((function(e,t,n){if(s>t){var r=u[n];if(n+1===i.length)return u[n];var o=i[n+1],a=u[n+1];return(s-t)/(o-t)*(a-r)+r}return s===t?u[n]:e}),0);return Math.min(c,l)},c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.qi.LEVEL_3;return u(e,[r.JR[t],r.u4[t]],1e5)
},s=[[1,.001],[25,.3],[100,.5],[250,.8],[500,.9],[2500,.95],[9001,1]],l=s.map((function(e){return a(e,1)[0]})),f=s.map((function(e){var t=a(e,2);t[0];return t[1]})),d=function(e){return u(e,[l,f],1)},p=function(e){return 1===e?{color:o.Ilk.BRAND_500}:2===e||3===e?{color:o.Ilk.STATUS_GREEN_600}:4===e||5===e?{color:o.Ilk.STATUS_YELLOW_500,square:!0}:6===e?{color:o.Ilk.STATUS_RED_500,square:!0}:{color:o.Ilk.STATUS_ORANGE_500,flair:!0}};function E(e){var t;return e.value*(null!==(t=e.multiplier)&&void 0!==t?t:1)}},778667:(e,t,n)=>{n.d(t,{Y:()=>O,Z:()=>w});var r=n(5387),o=n.n(r),i=n(791462),a=n(173436),u=n(353098),c=n(819525),s=n(356004),l=n(171447),f=n(461061);function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return E(e)}
function h(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,u=!1;try{for(n=n.call(e);!(a=(r=n.next()).done);a=!0){i.push(r.value);if(t&&i.length===t)break}}catch(e){u=!0;o=e}finally{try{a||null==n.return||n.return()}finally{if(u)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O,v=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return h(this,n)}}!function(e){e[e.LOADED=0]="LOADED";e[e.NOT_LOADED=1]="NOT_LOADED";e[e.DELETED=2]="DELETED"}(O||(O={}));var g=Object.freeze({state:O.NOT_LOADED}),A=new Set,b=function(){function e(){var t=this;p(this,e);this._cachedMessages=new(o())({max:100,dispose:function(e,n){return t.handleCacheDisposed(e,n)}})
;this._cachedMessageIds=new Set}var t=e.prototype;t.handleCacheDisposed=function(e,t){if(this._cachedMessageIds.has(e)){this._cachedMessageIds=new Set(this._cachedMessageIds);this._cachedMessageIds.delete(e)}};t.set=function(e,t){this._cachedMessages.set(e,t);if(!this._cachedMessageIds.has(e)){this._cachedMessageIds=new Set(this._cachedMessageIds);this._cachedMessageIds.add(e)}};t.has=function(e){return this._cachedMessageIds.has(e)};t.get=function(e){return this._cachedMessages.get(e)};t.getCachedMessageIds=function(){return this._cachedMessageIds};return e}(),S=new(function(){function e(){p(this,e);this._channelCaches=new Map}var t=e.prototype;t.has=function(e,t){var n,r;return null!==(r=null===(n=this._channelCaches.get(e))||void 0===n?void 0:n.has(t))&&void 0!==r&&r};t.get=function(e,t){var n;return null===(n=this._channelCaches.get(e))||void 0===n?void 0:n.get(t)};t.set=function(e,t,n){var r=this._channelCaches.get(e);if(null==r){r=new b;this._channelCaches.set(e,r)}r.set(t,n)}
;t.updateExistingMessageIfCached=function(e){var t=this._channelCaches.get(e.channel_id);if(null==t)return!1;if(!t.has(e.id))return!1;t.set(e.id,{state:O.LOADED,message:(0,c.e5)(e)});return!0};t.deleteChannelCache=function(e){return this._channelCaches.delete(e)};t.retainWhere=function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var i,a=this._channelCaches[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=y(i.value,1)[0];e(u)||t.push(u)}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}var c=!0,s=!1,l=void 0;try{for(var f,d=t[Symbol.iterator]();!(c=(f=d.next()).done);c=!0){var p=f.value;this.deleteChannelCache(p)}}catch(e){s=!0;l=e}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return t.length};t.getCachedMessageIdsForChannel=function(e){var t=this._channelCaches.get(e);return null==t?null:t.getCachedMessageIds()};t.clear=function(){this._channelCaches.clear()};return e}());function I(e){var t=!1
;S.updateExistingMessageIfCached(e)&&(t=!0);if(f.OBS.has(e.type)){var n=e.message_reference;if(null==n)return t;var r=n.message_id;if(null==r)return t;if("referenced_message"in e){var o=e.referenced_message;if(null!=o){S.set(o.channel_id,o.id,{state:O.LOADED,message:(0,c.e5)(o)});e.type===f.uaV.THREAD_STARTER_MESSAGE&&I(o)}else S.set(e.channel_id,r,{state:O.DELETED})}else{var i=l.Z.getMessage(n.channel_id,r);null!=i?S.set(n.channel_id,r,{state:O.LOADED,message:i}):S.set(n.channel_id,r,g)}t=!0}return t}function T(e,t){var n=!1,r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){n=!1!==t(a.value)||n}}catch(e){o=!0;i=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n}function M(e){return T(e.messages,(function(e){return I(e)}))}function D(e){return S.deleteChannelCache(e.channel.id)}function N(e,t){if(!S.has(e,t))return!1;S.set(e,t,{state:O.DELETED})}function C(){S.clear()}function P(e){var t=e.firstMessages
;return null!=t&&T(t,(function(e){return I(e)}))}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=m(n);function n(){p(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(l.Z,s.Z)};r.getMessageByReference=function(e){var t;null!=e&&(t=S.get(e.channel_id,e.message_id));return null!=t?t:g};r.getMessage=function(e,t){var n;return null!==(n=S.get(e,t))&&void 0!==n?n:g};r.getReplyIdsForChannel=function(e){var t;null!=e&&(t=S.getCachedMessageIdsForChannel(e));return null!=t?t:A};r.__getLocalVars=function(){return{NOT_LOADED:g,NO_IDS:A,referencedMessageCache:S,instance:L}};return n}(i.ZP.Store);R.displayName="ReferencedMessageStore";var L=new R(a.Z,{CACHE_LOADED:function(e){var t=e.messages;return T(Object.values(t),(function(e){
return T(Object.values(e),(function(e){return I(e)}))}))},LOAD_MESSAGES_SUCCESS:M,LOAD_MESSAGES_AROUND_SUCCESS:M,SEARCH_FINISH:function(e){return T(e.messages,(function(e){return T(e,(function(e){return I(e)}))}))},GUILD_FEED_FETCH_SUCCESS:function(e){var t=e.data;return T((0,u._)(t),(function(e){return I(e)}))},LOAD_THREADS_SUCCESS:P,LOAD_ARCHIVED_THREADS_SUCCESS:P,LOAD_FORUM_POSTS:function(e){var t=e.threads;return T(Object.values(t),(function(e){var t=e.first_message;return null!=t&&I(t)}))},MESSAGE_CREATE:function(e){var t=e.message;return!!l.Z.getMessages(t.channel_id).ready&&I(t)},MESSAGE_UPDATE:function(e){var t=e.message,n=t.id,r=t.channel_id;if(!S.has(r,n))return!1;var o=S.get(r,n);if(null==o||o.state!==O.LOADED)return!1;S.set(r,n,{state:O.LOADED,message:(0,c.wi)(o.message,t)})},MESSAGE_DELETE:function(e){var t=e.id;return N(e.channelId,t)},MESSAGE_DELETE_BULK:function(e){var t=e.ids,n=e.channelId;return T(t,(function(e){return N(n,e)}))},CREATE_PENDING_REPLY:function(e){
var t=e.message;S.set(t.channel_id,t.id,{state:O.LOADED,message:t})},CHANNEL_DELETE:D,THREAD_DELETE:D,GUILD_DELETE:function(){if(0===S.retainWhere((function(e){return null!=s.Z.getChannel(e)})))return!1},CONNECTION_OPEN:C,LOGOUT:C});const w=L},882154:(e,t,n)=>{n.d(t,{I:()=>b,Z:()=>U});var r=n(496486),o=n.n(r),i=n(451964),a=n(277563),u=n(791462),c=n(173436),s=n(426466),l=n(53551),f=n(356004),d=n(718375),p=n(90816),E=n(668479);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return y(e)}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called")
;return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var m=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function g(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=y(e);if(t){var o=y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}var A,b=25,S=!1,I=!0,T=!1,M=!1,D=null,N=i.z.LATEST_ACTIVITY,C=[],P=0;function R(){S=!1;I=!0;T=!1;M=!1;D=null;N=i.z.LATEST_ACTIVITY;A=new Set;P=0;C=[]}function L(e,t){return t===i.z.LATEST_ACTIVITY?d.ZP.lastMessageId(e.id):e.id}function w(){if(0===C.length||null==D)return!1;var e=!T,t=f.Z.getChannel(C[C.length-1]),n=null==t?null:L(t,N)
;C=o()(f.Z.getAllThreadsForParent(D)).filter((function(e){return e.isArchivedThread()})).filter((function(t){var r;if(0!==A.size&&!0!==(null===(r=t.appliedTags)||void 0===r?void 0:r.some((function(e){return A.has(e)}))))return!1;if(e||null==n)return!0;var o=null==t?null:L(t,N);return null!=o&&a.default.compare(o,n)>=0})).sort((function(e,t){return a.default.compare(L(e,N),L(t,N))})).map((function(e){return e.id})).reverse().value()}var Z=[],j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(n,e);var t=g(n);function n(){h(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(f.Z,E.Z,d.ZP)};r.isLoading=function(e,t,n){if(D===e&&N===t&&(0,p.OL)(A,n))return S;R();return!1};r.getThreads=function(e,t,n){return D===e&&N===t&&(0,p.OL)(A,n)?C:Z}
;r.__getLocalVars=function(){return{loading:S,isInitialLoad:I,hasMore:T,failed:M,channelId:D,sortOrder:N,threads:C,nextOffset:P,tagFilter:A,NO_THREAD_IDS:Z}};!function(e,t,n){t&&_(e.prototype,t);n&&_(e,n)}(n,[{key:"canLoadMore",get:function(){return T&&!S&&!M}},{key:"nextOffset",get:function(){return P}},{key:"isInitialLoad",get:function(){return I}}]);return n}(u.ZP.Store);j.displayName="ArchivedThreadsStore";const U=new j(c.Z,{CONNECTION_OPEN:R,THREAD_DELETE:function(e){return function(e){if(!(C.indexOf(e)>=0))return!1;C=C.filter((function(t){return t!==e}))}(e.channel.id)},CHANNEL_DELETE:function(e){if(e.channel.id!==D)return!1;R()},LOAD_ARCHIVED_THREADS:function(e){e.channelId===D&&e.sortOrder===N&&(0,p.OL)(e.tagFilter,A)||R();D=e.channelId;N=e.sortOrder;A=e.tagFilter instanceof Set?e.tagFilter:new Set(e.tagFilter);S=!0;I=!1},LOAD_ARCHIVED_THREADS_SUCCESS:function(e){if(e.channelId!==D||e.sortOrder!==N||!(0,p.OL)(e.tagFilter,A))return!1;var t=e.threads.filter((function(e){
return l.AW.has(e.type)})).map((function(e){return e.id}));C=C.concat(t);var n=f.Z.getChannel(D);null!=n&&n.isForumChannel()&&(0,s.Hr)({guildId:n.guild_id,channelId:n.id,numArchivedThreads:C.length,hasMoreThreads:e.hasMore,filterTagIds:Array.from(e.tagFilter),sortOrder:e.sortOrder});w();T=e.hasMore;P=e.offset+b;S=!1;I=!1},LOAD_ARCHIVED_THREADS_FAIL:function(e){if(e.channelId!==D||e.sortOrder!==N||!(0,p.OL)(e.tagFilter,A))return!1;S=!1;M=!0;I=!1},RESORT_THREADS:function(e){return(null==D||null==e.channelId||D===e.channelId)&&w()}})},682684:(e,t,n)=>{n.d(t,{Z:()=>T});var r=n(286452),o=n(675860),i=n(173436),a=n(992497),u=n(741655),c=n(23816),s=n(361138),l=n(53551),f=n(631134),d=n(356004),p=n(90816),E=n(882154),h=n(668479),_=n(437803),y=n(575698),O=n(461061),v=n(35236),m=n(959797);function g(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){n(e);return}u.done?t(c):Promise.resolve(c).then(r,o)}function A(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){
var i=e.apply(t,n);function a(e){g(i,r,o,a,u,"next",e)}function u(e){g(i,r,o,a,u,"throw",e)}a(void 0)}))}}var b=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;(r=0,o)&&(i=[2&i[0],o.value]);switch(i[0]){case 0:case 1:o=i;break;case 4:a.label++;return{value:i[1],done:!1};case 5:a.label++;r=i[1];i=[0];continue;case 7:i=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1];o=i;break}if(o&&a.label<o[2]){a.label=o[2]
;a.ops.push(i);break}o[2]&&a.ops.pop();a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e];r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function S(e,t){return o.Z.patch({url:O.ANM.CHANNEL(e.id),body:t}).then((function(t){i.Z.dispatch({type:"THREAD_UPDATE",channel:(0,l.q_)(t.body)});e.isForumPost()&&null!=e.parent_id&&i.Z.dispatch({type:"RESORT_THREADS",channelId:e.parent_id});return t}))}function I(e,t){i.Z.dispatch({type:"THREAD_MEMBER_LOCAL_UPDATE",id:e.id,guildId:e.getGuildId(),userId:f.default.getId(),isJoining:t})}const T={archiveThread:function(e,t){var n={archived:!0};t&&(n.locked=!0);return S(e,n)},unarchiveThread:function(e,t){return A((function(){var n,r,o,i,u;return b(this,(function(c){switch(c.label){case 0:n={archived:!1};r=e.isForumPost();t&&(n.locked=!1);c.label=1;case 1:c.trys.push([1,3,,4]);return[4,S(e,n)];case 2:return[2,c.sent()];case 3:o=c.sent()
;(null===(i=o.body)||void 0===i?void 0:i.code)===O.evJ.TOO_MANY_THREADS?a.Z.show({title:r?m.Z.Messages.CANNOT_UNARCHIVE_FORUM_POST:m.Z.Messages.CANNOT_UNARCHIVE_THREAD,body:r?m.Z.Messages.TOO_MANY_FORUM_POSTS_MESSAGE:m.Z.Messages.TOO_MANY_THREADS_MESSAGE}):(null===(u=o.body)||void 0===u?void 0:u.code)===O.evJ.TOO_MANY_ANNOUNCEMENT_THREADS?a.Z.show({title:m.Z.Messages.CANNOT_UNARCHIVE_THREAD,body:m.Z.Messages.TOO_MANY_ANNOUNCEMENT_THREADS_MESSAGE}):429===o.status?a.Z.show({title:r?m.Z.Messages.CANNOT_UNARCHIVE_FORUM_POST:m.Z.Messages.CANNOT_UNARCHIVE_THREAD,body:m.Z.Messages.RATE_LIMITED}):a.Z.show({title:m.Z.Messages.ERROR,body:m.Z.Messages.ERROR_OCCURRED_TRY_AGAIN});throw o;case 4:return[2]}}))}))()},unarchiveThreadIfNecessary:function(e){return A((function(){var t,n;return b(this,(function(r){switch(r.label){case 0:return null!=(n=d.Z.getChannel(e))&&n.isArchivedThread()&&!0!==(null===(t=n.threadMetadata)||void 0===t?void 0:t.locked)?[4,this.unarchiveThread(n,!1)]:[3,2];case 1:
r.sent();r.label=2;case 2:return[2]}}))})).apply(this)},setInvitable:function(e,t){return S(e,{invitable:t})},joinThread:function(e,t){return A((function(){var n,r,i;return b(this,(function(u){switch(u.label){case 0:e.isForumPost()&&I(e,!0);u.label=1;case 1:u.trys.push([1,3,,4]);return[4,o.Z.post({url:O.ANM.THREAD_MEMBER(e.id),query:{location:t}})];case 2:return[2,u.sent()];case 3:n=u.sent();if((null===(r=n.body)||void 0===r?void 0:r.code)===O.evJ.TOO_MANY_THREAD_MEMBERS){i=e.isForumPost();a.Z.show({title:i?m.Z.Messages.CANNOT_JOIN_FORUM_POST:m.Z.Messages.CANNOT_JOIN_THREAD,body:i?m.Z.Messages.TOO_MANY_MEMBERS_MESSAGE_FORUM_POST:m.Z.Messages.TOO_MANY_MEMBERS_MESSAGE})}else a.Z.show({title:m.Z.Messages.ERROR,body:m.Z.Messages.ERROR_OCCURRED_TRY_AGAIN});e.isForumPost()&&I(e,!1);return[3,4];case 4:return[2]}}))}))()},addMember:function(e,t,n){return A((function(){var r,i,u;return b(this,(function(c){switch(c.label){case 0:c.trys.push([0,2,,3]);return[4,o.Z.post({
url:O.ANM.THREAD_MEMBER(e.id,t),query:{location:n}})];case 1:return[2,c.sent()];case 2:r=c.sent();if((null===(i=r.body)||void 0===i?void 0:i.code)===O.evJ.TOO_MANY_THREAD_MEMBERS){u=e.isForumPost();a.Z.show({title:u?m.Z.Messages.CANNOT_ADD_USER_TO_FORUM_POST:m.Z.Messages.CANNOT_ADD_USER_TO_THREAD,body:u?m.Z.Messages.TOO_MANY_MEMBERS_MESSAGE_FORUM_POST:m.Z.Messages.TOO_MANY_MEMBERS_MESSAGE})}else a.Z.show({title:m.Z.Messages.ERROR,body:m.Z.Messages.ERROR_OCCURRED_TRY_AGAIN});return[3,3];case 3:return[2]}}))}))()},leaveThread:function(e,t){e.isForumPost()&&I(e,!1);return o.Z.delete({url:O.ANM.THREAD_MEMBER(e.id),query:{location:t}})},removeMember:function(e,t,n){return o.Z.delete({url:O.ANM.THREAD_MEMBER(e.id,t),query:{location:n}})},setAutoArchiveDuration:function(e,t){return o.Z.patch({url:O.ANM.CHANNEL(e.id),body:{auto_archive_duration:t}})},pin:function(e){var t=e.flags|v.zZ.PINNED;this.updateFlags(e,t)},unpin:function(e){var t=e.flags&~v.zZ.PINNED;this.updateFlags(e,t)},
updateFlags:function(e,t){return A((function(){return b(this,(function(n){switch(n.label){case 0:i.Z.dispatch({type:"THREAD_UPDATE",channel:e.merge({flags:t})});return[4,this.unarchiveThreadIfNecessary(e.id)];case 1:n.sent();n.label=2;case 2:n.trys.push([2,4,,5]);return[4,o.Z.patch({url:O.ANM.CHANNEL(e.id),body:{flags:t}})];case 3:n.sent();return[3,5];case 4:n.sent();i.Z.dispatch({type:"THREAD_UPDATE",channel:e});return[3,5];case 5:return[2]}}))})).apply(this)},replacePin:function(e,t){return A((function(){var n,r;return b(this,(function(a){switch(a.label){case 0:n=e.merge({flags:e.flags&~v.zZ.PINNED});r=t.merge({flags:t.flags|v.zZ.PINNED});i.Z.dispatch({type:"THREAD_UPDATE",channel:n});i.Z.dispatch({type:"THREAD_UPDATE",channel:r});return[4,this.unarchiveThreadIfNecessary(e.id)];case 1:a.sent();return[4,this.unarchiveThreadIfNecessary(t.id)];case 2:a.sent();a.label=3;case 3:a.trys.push([3,5,,6]);return[4,o.Z.patch({url:O.ANM.CHANNEL(e.id),body:{flags:e.flags&~v.zZ.PINNED}})];case 4:
a.sent();return[3,6];case 5:a.sent();i.Z.dispatch({type:"THREAD_UPDATE",channel:e});i.Z.dispatch({type:"THREAD_UPDATE",channel:t});return[2];case 6:a.trys.push([6,8,,9]);return[4,o.Z.patch({url:O.ANM.CHANNEL(t.id),body:{flags:t.flags|v.zZ.PINNED}})];case 7:a.sent();return[3,9];case 8:a.sent();i.Z.dispatch({type:"THREAD_UPDATE",channel:t});return[3,9];case 9:return[2]}}))})).apply(this)},openThreadCreationForMobile:function(e,t,n){(0,c.yw)(O.rMx.THREAD_CREATION_STARTED,{location:n,channel_id:e.id,guild_id:e.guild_id});u.Z.changeThreadSettings(e.id,{parentMessageId:t,isPrivate:!1,location:n});null==t&&(0,s.Po)(e.id,null,null)},setNotificationSettings:function(e,t){return A((function(){return b(this,(function(n){switch(n.label){case 0:(0,_.ZJ)(e,t);return h.Z.hasJoined(e.id)?[3,2]:[4,this.joinThread(e,"Change Notification Settings")];case 1:n.sent();n.label=2;case 2:return[2,o.Z.patch({url:O.ANM.THREAD_MEMBER_SETTINGS(e.id),body:t})]}}))})).apply(this)},
loadArchivedThreads:function(e,t,n,a,u){if(!E.Z.isLoading(t,n,a)){i.Z.dispatch({type:"LOAD_ARCHIVED_THREADS",channelId:t,sortOrder:n,tagFilter:a});o.Z.get({url:O.ANM.THREAD_SEARCH(t),query:{archived:!0,sort_by:"last_message_time",sort_order:"desc",limit:E.I,tag:a.size>0?Array.from(a).join(","):void 0,tag_setting:r.z.MATCH_SOME,offset:u},retries:2}).then((function(r){var o=r.body,c=o.threads,s=o.members,l=o.has_more,f=o.first_messages;i.Z.dispatch({type:"LOAD_ARCHIVED_THREADS_SUCCESS",guildId:e,channelId:t,offset:u,sortOrder:n,tagFilter:a,threads:c,firstMessages:f,members:(null!=s?s:[]).map((function(e){return(0,y.Z)(e)})),owners:c.map((function(e){return e.owner})).filter(p.lm),hasMore:l})}),(function(){i.Z.dispatch({type:"LOAD_ARCHIVED_THREADS_FAIL",channelId:t,sortOrder:n,tagFilter:a})}))}},searchThreads:function(e,t,n,a){return A((function(){var u,c,s,l,f;return b(this,(function(d){switch(d.label){case 0:u=null!=a&&a.size>0?Array.from(a).join(","):void 0;return[4,o.Z.get({
url:O.ANM.THREAD_SEARCH(t),query:{name:n,tag:u,tag_setting:r.z.MATCH_SOME}})];case 1:c=d.sent(),s=c.body,l=s.threads,f=s.members;i.Z.dispatch({type:"LOAD_THREADS_SUCCESS",threads:l,members:f,guildId:e});return[2,l.map((function(e){return e.id}))]}}))}))()}}},429753:(e,t,n)=>{n.d(t,{S:()=>E,Z:()=>A});var r=n(791462),o=n(365523),i=n(173436),a=n(356004),u=n(940712),c=n(461061);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return f(e)}function d(e,t){return!t||"object"!==_(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function p(e,t){p=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e}
;return p(e,t)}var E,h,_=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=f(e);if(t){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return d(this,n)}}!function(e){e[e.SendMessage=0]="SendMessage";e[e.CreateThread=1]="CreateThread"}(E||(E={}));var O=(l(h={},E.SendMessage,{}),l(h,E.CreateThread,{}),h);function v(e,t,n){!function(e,t){if(null!=O[t][e.id]){O[t][e.id].timer.stop();delete O[t][e.id]}}(e,t);if(!(function(e,t){return t===E.SendMessage?u.Z.can(c.Plq.MANAGE_CHANNELS,e)||u.Z.can(c.Plq.MANAGE_MESSAGES,e):u.Z.can(c.Plq.MANAGE_THREADS,e)}(e,t)||n<=0)){var r=n+Date.now();O[t][e.id]={
rateLimitPerUser:e.rateLimitPerUser,cooldownMs:n,cooldownEndTimestamp:r,timer:new o.V7};O[t][e.id].timer.start(1e3,(function(){i.Z.dispatch({type:"SLOWMODE_SET_COOLDOWN",channelId:e.id,slowmodeType:t,cooldownMs:Math.max(r-Date.now(),0)})}),!0)}}function m(e,t){var n=a.Z.getChannel(e);if(null==n)return!1;v(n,t,0===n.rateLimitPerUser?0:1e3*n.rateLimitPerUser+c.eGu)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&p(e,t)}(n,e);var t=y(n);function n(){s(this,n);return t.apply(this,arguments)}var r=n.prototype;r.initialize=function(){this.waitFor(a.Z)};r.getSlowmodeCooldownGuess=function(e,t){var n=O[null!=t?t:E.SendMessage][e];return null!=n?n.cooldownMs:0};r.__getLocalVars=function(){return{slowmodeCooldownGuessByChannel:O}};return n}(r.ZP.Store);g.displayName="SlowmodeStore";const A=new g(i.Z,{
SLOWMODE_RESET_COOLDOWN:function(e){return m(e.channelId,e.slowmodeType)},SLOWMODE_SET_COOLDOWN:function(e){var t=e.channelId,n=e.slowmodeType,r=e.cooldownMs,o=a.Z.getChannel(t);if(null==o)return!1;v(o,n,0===r?0:r+c.eGu)},UPLOAD_START:function(e){return m(e.channelId,E.SendMessage)},CHANNEL_UPDATES:function(e){var t=e.updates;[E.SendMessage,E.CreateThread].forEach((function(e){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){var u=i.value.channel,c=O[e][u.id],s=u.rateLimitPerUser;if(null!=c&&c.rateLimitPerUser!==s){var l;v(u,e,Math.min(null!==(l=null==c?void 0:c.cooldownMs)&&void 0!==l?l:0,1e3*s))}}}catch(e){r=!0;o=e}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}))},LOGOUT:function(){[E.SendMessage,E.CreateThread].forEach((function(e){Object.keys(O[e]).forEach((function(t){return O[e][t].timer.stop()}));O[e]={}}))}})},897268:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(667237),o=n.n(r);function i(e,t){
if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a=new(n(832691).Z)("Queue"),u=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;i(this,e);this.logger=t;this.defaultRetryAfter=n;this.queue=new(o());this.timeout=null;this.draining=!1}var t=e.prototype;t.enqueue=function(e,t){this.queue.push({message:e,success:t});this._drainIfNecessary()};t._drainIfNecessary=function(){var e=this;if(null===this.timeout&&0!==this.queue.length&&!0!==this.draining){this.draining=!0;var t=this.queue.shift(),n=t.message,r=t.success;this.drain(n,(function(n,o){e.draining=!1;if(null==n){setImmediate((function(){return e._drainIfNecessary()}));try{r(o)}catch(t){e.logger.error("",t)}}else{var i,a=null!==(i=n.retryAfter)&&void 0!==i?i:e.defaultRetryAfter;e.logger.info("Rate limited. Delaying draining of queue for ".concat(a," ms."));e.timeout=setTimeout((function(){e.queue.unshift(t)
;e.timeout=null;e._drainIfNecessary()}),a)}}))}};return e}()}}]);
//# sourceMappingURL=6b9065d3f9d7b56b0984.js.map