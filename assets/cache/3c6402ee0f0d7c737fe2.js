"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[46955,96378,79632],{797776:(e,t,n)=>{n.d(t,{Z:()=>E});var r=n(785893),i=(n(667294),n(294184)),o=n.n(i),a=n(468811),s=n.n(a),l=n(349480),c=n.n(l);function u(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var d=s().v4();const E=function(e){var t,n=e.open,i=e.className,a=e.withHighlight,s=void 0!==a&&a;return(0,r.jsxs)("svg",{width:"18",height:"18",className:o()(c().button,i,(t={},u(t,c().open,n),u(t,c().withHighlight,s),t)),children:[s&&(0,r.jsx)("defs",{children:(0,r.jsxs)("linearGradient",{id:d,x1:"0",y1:"0",x2:"0",y2:"18",gradientUnits:"userSpaceOnUse",children:[(0,r.jsx)("stop",{offset:"0",stopColor:"#B473F5"}),(0,r.jsx)("stop",{offset:"1",stopColor:"#E292AA"})]})}),(0,r.jsxs)("g",{fill:"none",fillRule:"evenodd",children:[(0,r.jsx)("path",{d:"M0 0h18v18H0"}),(0,r.jsx)("path",{stroke:s?"url(#".concat(d,")"):"currentColor",d:"M4.5 4.5l9 9",
strokeLinecap:"round"}),(0,r.jsx)("path",{stroke:s?"url(#".concat(d,")"):"currentColor",d:"M13.5 4.5l-9 9",strokeLinecap:"round"})]})]})}},191840:(e,t,n)=>{n.d(t,{c:()=>_});var r=n(785893),i=(n(667294),n(489992)),o=n(797776),a=n(387736),s=n(75141),l=n(714523),c=n(830504),u=n(461061),d=n(959797),E=n(562275),h=n.n(E);function R(e){var t=e.guild,n=e.banner;return(0,r.jsx)("div",{className:h().guildBanner,style:{backgroundImage:"url(".concat(n)},children:(0,r.jsxs)("div",{className:h().guildHeader,children:[(0,r.jsx)(a.Z,{guild:t,isBannerVisible:!0}),(0,r.jsx)(i.X6,{className:h().guildName,variant:"heading-md/semibold",children:t.toString()}),(0,r.jsx)(o.Z,{className:h().dropdown,open:!1})]})})}function I(e,t){var n=(0,s.nW)(e);return t?d.Z.Messages.GUILD_BANNER_UPSELL_MODAL_SUBTITLE_ANIMATED.format({targetLevelOrPlan:n}):d.Z.Messages.GUILD_BANNER_UPSELL_MODAL_SUBTITLE_STATIC.format({targetLevelOrPlan:n})}function _(e){
var t=e.analyticsLocations,n=e.analyticsLocation,i=e.guild,o=e.isGIF,a=e.banner,E=o?(0,s.yw)(u.oNc.ANIMATED_BANNER):(0,s.yw)(u.oNc.BANNER);null!=E&&(0,l.Z)({analyticsLocations:t,analyticsSourceLocation:n,guild:i,headerProps:{title:d.Z.Messages.GUILD_BANNER_UPSELL_MODAL_TITLE,subtitle:I(E,o),image:(0,r.jsx)(R,{guild:i,banner:a})},perkIntro:d.Z.Messages.GUILD_BANNER_UPSELL_MODAL_PERK_INTRO,perks:o?(0,c.zC)():(0,c.XO)()})}},387736:(e,t,n)=>{n.d(t,{Z:()=>O});var r,i=n(785893),o=(n(667294),n(294184)),a=n.n(o),s=n(791462),l=n(666722),c=n(402411),u=n(72791),d=n(461061),E=n(233593),h=n.n(E);function R(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}var I,_=(R(r={},d.Eu4.NONE,h().iconBackgroundTierNone),R(r,d.Eu4.TIER_1,h().iconBackgroundTierOne),R(r,d.Eu4.TIER_2,h().iconBackgroundTierTwo),R(r,d.Eu4.TIER_3,h().iconBackgroundTierThree),r),p=(R(I={},d.Eu4.NONE,h().iconTierNone),R(I,d.Eu4.TIER_1,h().iconTierOne),
R(I,d.Eu4.TIER_2,h().iconTierTwo),R(I,d.Eu4.TIER_3,h().iconTierThree),I);function f(e){var t=e.premiumTier,n=e.iconBackgroundClassName,r=e.iconClassName,o=e.size;return(0,i.jsx)(c.Z,{className:a()(n,_[t]),size:o,children:(0,i.jsx)(u.Z,{tier:t,className:a()(r,h().boostedGuildIconGem,p[t])})})}var g=n(212218),M=n(859023),P=n(629590),N=n(709990),T=n(757987),v=n(75141),U=n(959797),C=n(625337),b=n.n(C);function L(e,t,n){t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function m(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}));return e}function A(e){
var t=e.guild,n=e.isBannerVisible,r=e.disableBoostClick,o=(0,s.e7)([M.default,g.ZP],(function(){var e=M.default.getCurrentUser();return g.ZP.isMember(t.id,null==e?void 0:e.id)})),a=t.premiumTier,c=t.premiumSubscriberCount;if(0===c&&a===d.Eu4.NONE)return null;var u=function(e){e.stopPropagation();e.preventDefault();o&&!r&&(0,l.f)({guildId:t.id,location:{section:d.jXE.GUILD_HEADER,object:d.qAy.BOOST_GEM_ICON}})},E=a===d.Eu4.NONE?U.Z.Messages.PREMIUM_GUILD_HEADER_BADGE_NO_TIER:v.nW(a),h=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:b().tierTooltipTitle,children:E}),(0,i.jsx)("div",{children:U.Z.Messages.PREMIUM_GUILD_SUBSCRIPTION_SUBSCRIBER_COUNT_TOOLTIP.format({subscriberCount:c})})]});return(0,i.jsx)("div",{className:b().guildIconContainer,children:(0,i.jsx)(T.ZP,{text:h,position:T.ZP.Positions.BOTTOM,"aria-label":null!=E?E:"",children:function(e){return(0,i.jsx)(P.Z,m(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){L(e,t,n[t])}))}return e}({},e),{className:b().premiumGuildIcon,onClick:u,children:(0,i.jsx)(f,{premiumTier:a,iconBackgroundClassName:n?b().boostedGuildTierIconBackgroundWithVisibleBanner:null,iconClassName:n&&a!==d.Eu4.TIER_3?b().boostedGuildTierMutedIconWithVisibleBanner:null})}))}})})}function x(e){var t=e.guild,n=e.disableColor;return(0,i.jsx)("div",{className:b().guildIconContainer,children:(0,i.jsx)(N.Z,{guild:t,tooltipPosition:T.ZP.Positions.BOTTOM,tooltipColor:T.ZP.Colors.PRIMARY,className:a()(b().guildBadge,L({},b().disableColor,n))})})}function O(e){var t=e.guild,n=e.isBannerVisible,r=e.disableBoostClick;return t.hasFeature(d.oNc.VERIFIED)||t.hasFeature(d.oNc.PARTNERED)?(0,i.jsx)(x,{guild:t,disableColor:!n}):(0,i.jsx)(A,{guild:t,isBannerVisible:n,disableBoostClick:r})}},
204660:(e,t,n)=>{n.d(t,{$p:()=>u,PT:()=>E,U$:()=>h,Es:()=>I,kH:()=>_,AK:()=>p,Ae:()=>f});var r=n(496486),i=n(476154);function o(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){n(e);return}s.done?t(l):Promise.resolve(l).then(r,i)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){o(a,r,i,s,l,"next",e)}function l(e){o(a,r,i,s,l,"throw",e)}s(void 0)}))}}var s=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:a.label++;return{value:o[1],
done:!1};case 5:a.label++;r=o[1];o=[0];continue;case 7:o=a.ops.pop();a.trys.pop();continue;default:if(!(i=a.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1];i=o;break}if(i&&a.label<i[2]){a.label=i[2];a.ops.push(o);break}i[2]&&a.ops.pop();a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e];r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};function l(e){return new Promise((function(t){var n=new FileReader;n.onload=function(e){var n,r=null===(n=e.target)||void 0===n?void 0:n.result;t("string"==typeof r?r:"")};n.readAsDataURL(e)}))}function c(e,t,n,r){var i=e.naturalWidth/e.width,o=t.width/2,a=t.height/2,s=(e.width/2-o-n.x)*i,l=(e.height/2-a-n.y)*i,c=t.width*i,u=t.height*i;return{x:s,y:l,scaledCropWidth:c,scaledCropHeight:u,canvasWidth:Math.min(c,r.width),canvasHeight:Math.min(u,r.height)}}function u(e,t,n,r,i){
return d.apply(this,arguments)}function d(){return(d=a((function(e,t,r,o,a){var u,d,E,h,R,I,_,p;return s(this,(function(s){switch(s.label){case 0:u=c(t,r,o,a),d=u.x,E=u.y,h=u.scaledCropWidth,R=u.scaledCropHeight;return[4,e.arrayBuffer()];case 1:I=s.sent();_=new Worker(new URL(n.p+n.u(44499),n.b));p=new Promise((function(e,t){_.onmessage=function(n){var r=n.data;if(r.type===i.u.CROP_GIF_COMPLETE){e(l(new Blob([r.result])));_.terminate()}else if(r.type===i.u.CROP_GIF_ERROR){t(new Error("Error cropping GIF"));_.terminate()}}}));_.postMessage({type:i.u.CROP_GIF_START,gif:new Uint8Array(I),x:0|d,y:0|E,width:0|h,height:0|R});return[2,{result:p,cancelFn:function(){return _.terminate()}}]}}))}))).apply(this,arguments)}function E(e,t,n,r){var i=c(e,t,n,r),o=i.x,a=i.y,s=i.scaledCropWidth,l=i.scaledCropHeight,u=i.canvasWidth,d=i.canvasHeight,E=document.createElement("canvas");E.width=u;E.height=d;var h=E.getContext("2d");null!=h&&h.drawImage(e,o,a,s,l,0,0,E.width,E.height)
;return E.toDataURL("image/png")}function h(e,t,n){return{x:(0,r.clamp)(e,n.left,n.right),y:(0,r.clamp)(t,n.bottom,n.top)}}function R(e,t,n,r){var o=n,a=r;if(n>i.vJ){o=i.vJ;a=r*(i.vJ/n)}return n/r<e?{width:o,height:a}:{width:o*(t/a),height:t}}function I(e,t,n){switch(e){case i.pC.AVATAR:return{width:t,height:n};case i.pC.BANNER:return R(i.MY,i.qj,t,n);case i.pC.BANNER_V2:return R(i.U9,i.qj,t,n);case i.pC.GUILD_BANNER:return R(i.Ij,i.C5,t,n);case i.pC.VIDEO_BACKGROUND:return R(i.Ff,i.PB,t,n);case i.pC.SCHEDULED_EVENT_IMAGE:return R(i.ut,i.WV,t,n);case i.pC.HOME_HEADER:return R(i.sX,i.SW,t,n)}}function _(e,t,n){var r={top:0,bottom:0,left:0,right:0},i=e-n.width,o=t-n.height;if(0!==i){r.left=-Math.abs(i/2);r.right=i/2}if(0!==o){r.bottom=-Math.abs(o/2);r.top=o/2}return r}function p(e,t,n,r){switch(e){case i.pC.AVATAR:var o=Math.min(t,n);return{width:o,height:o};case i.pC.BANNER:var a=Math.min(t,i.vJ);return{width:a,height:a*(1/i.MY)};case i.pC.BANNER_V2:var s=Math.min(t,i.vJ);return{
width:s,height:s*(1/i.U9)};case i.pC.GUILD_BANNER:var l=Math.min(t,i.vJ);return{width:l,height:Math.min(l*(9/16),r)};case i.pC.VIDEO_BACKGROUND:var c=Math.min(t,i.vJ);return{width:c,height:c*(9/16)};case i.pC.SCHEDULED_EVENT_IMAGE:var u=Math.min(t,i.vJ);return{width:u,height:.4*u};case i.pC.HOME_HEADER:var d=Math.min(t,i.vJ);return{width:d,height:d*(1/i.sX)}}}function f(e,t,n){var r=e.naturalWidth/e.naturalHeight,i=t,o=n;e.naturalWidth>e.naturalHeight?i/=r:o*=r;var a={height:i,width:o};return E(e,{width:e.width,height:e.height},{x:0,y:0},a)}},896378:(e,t,n)=>{n.d(t,{Z:()=>G});var r=n(785893),i=n(667294),o=n(791462),a=n(489992),s=n(64833),l=n(191840),c=n(714523),u=n(653772),d=n(971738),E=n(191940),h=n(106027),R=n(461061),I=n(830504),_=n(959797),p=n(460590),f=n.n(p);function g(e){var t=e.analyticsSection,n=e.analyticsPage,i=e.isGIF,p=e.banner,g=(0,o.e7)([d.Z],(function(){return d.Z.getGuildId()})),M=(0,o.e7)([u.Z],(function(){return u.Z.getGuild(g)})),P=(0,s.Z)().analyticsLocations
;if(null==M||M.hasFeature(R.oNc.ANIMATED_BANNER)||!i&&M.hasFeature(R.oNc.BANNER))return null;return(0,r.jsxs)("div",{className:f().container,children:[(0,r.jsx)(h.Z,{className:f().guildBoostingIcon}),(0,r.jsx)(a.xv,{color:"header-primary",variant:"text-sm/semibold",children:_.Z.Messages.PREMIUM_GUILD_PREVIEW}),(0,r.jsx)(E.Co,{look:E.Co.Looks.LINK,color:E.Co.Colors.LINK,className:f().subscribeButton,onClick:function(){if(null!=M){var e={section:t,page:n,object:R.qAy.UPSELL_HEADER};null!=p?(0,l.c)({analyticsLocations:P,analyticsLocation:e,guild:M,isGIF:i,banner:p}):(0,c.Z)({analyticsLocations:P,analyticsSourceLocation:e,guild:M,perks:i?(0,I.zC)():(0,I.XO)()})}},children:_.Z.Messages.PREMIUM_GUILD_BOOST_SERVER})]})}var M=n(859169),P=n(294184),N=n.n(P),T=n(420202),v=n(732031),U=n(462428),C=n(477002),b=n.n(C);function L(e){
var t=e.text,n=e.textSize,i=void 0===n?U.Z.Sizes.SIZE_12:n,o=e.textColor,a=void 0===o?U.Z.Colors.STANDARD:o,s=e.className,l=e.button,c=e.reducedRightPadding,u=void 0!==c&&c;return(0,r.jsxs)("div",{className:N()(u?b().noticeWithoutRightPadding:b().noticeWithRightPadding,s),children:[(0,r.jsxs)("div",{className:b().noticeLeft,children:[(0,r.jsx)(v.Z,{className:b().icon,color:T.JX.PREMIUM_TIER_2}),(0,r.jsx)(U.Z,{className:b().text,size:i,color:a,children:t})]}),l]})}var m=n(716421),A=n(859023),x=n(932847),O=n(590483),j=n(476154),y=n(298716),w=n(167633),B=n.n(w);function D(e){var t=e.analyticsSection,n=e.type,a=(0,o.e7)([A.default],(function(){return A.default.getCurrentUser()})),l=O.ZP.canUseAnimatedAvatar(a),c=O.ZP.canUsePremiumProfileCustomization(a),u=n===j.pC.BANNER&&c||n===j.pC.BANNER_V2&&c||n===j.pC.AVATAR&&l,d=(0,s.Z)(M.Z.PREMIUM_PREVIEW_UPSELL_HEADER).sourceAnalyticsLocations;i.useEffect((function(){u||x.default.track(R.rMx.PREMIUM_UPSELL_VIEWED,{type:t,location_stack:d})
}),[u,t,d]);if(u)return null;var h=(0,r.jsx)(m.Z,{className:B().getNitroLink,size:E.Co.Sizes.SMALL,look:E.Co.Looks.LINK,color:E.Co.Colors.LINK,subscriptionTier:y.Si.TIER_2,buttonText:_.Z.Messages.PREMIUM_PREVIEW_GET_NITRO.format(),showIcon:!1,premiumModalAnalyticsLocation:{section:t,object:R.qAy.BUTTON_CTA},disableShine:!0});return(0,r.jsx)(L,{reducedRightPadding:!0,className:B().nitroPreviewUpsell,text:_.Z.Messages.PREMIUM_PREVIEW.format(),textSize:U.Z.Sizes.SIZE_14,textColor:U.Z.Colors.HEADER_PRIMARY,button:h})}function G(e){var t=e.type,n=e.analyticsPage,i=e.analyticsSection,o=e.isGIF,a=e.banner;return[j.pC.BANNER,j.pC.BANNER_V2,j.pC.AVATAR].includes(t)&&o?(0,r.jsx)(D,{analyticsSection:i,type:t}):t===j.pC.GUILD_BANNER?(0,r.jsx)(g,{analyticsSection:i,analyticsPage:n,isGIF:o,banner:a}):null}},420202:(e,t,n)=>{n.d(t,{Rj:()=>c,JX:()=>u,ZP:()=>d});var r=n(785893),i=n(667294),o=n(468811),a=n.n(o),s=n(832010),l=n(461061),c=Object.freeze({PREMIUM_TIER_0:a().v4(),PREMIUM_TIER_1:a().v4(),
PREMIUM_TIER_2:a().v4(),PREMIUM_GUILD:a().v4(),CREATOR_REVENUE:a().v4(),PREMIUM_TRIAL_TUTORIAL:a().v4()}),u={PREMIUM_TIER_0:"url(#".concat(c.PREMIUM_TIER_0,")"),PREMIUM_TIER_1:"url(#".concat(c.PREMIUM_TIER_1,")"),PREMIUM_TIER_2:"url(#".concat(c.PREMIUM_TIER_2,")"),PREMIUM_GUILD:"url(#".concat(c.PREMIUM_GUILD,")"),CREATOR_REVENUE:"url(#".concat(c.CREATOR_REVENUE,")"),PREMIUM_TRIAL_TUTORIAL:"url(#".concat(c.PREMIUM_TRIAL_TUTORIAL,")")};const d=i.memo((function(){return(0,r.jsxs)("svg",{viewBox:"0 0 1 1",style:{position:"absolute",pointerEvents:"none",top:-1,left:-1,width:1,height:1},"aria-hidden":!0,children:[(0,r.jsxs)("linearGradient",{id:c.PREMIUM_TIER_0,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_1_BLUE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_1_PURPLE)})]}),(0,r.jsxs)("linearGradient",{id:c.PREMIUM_TIER_1,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_1_BLUE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,
s.Lq)(l.Ilk.PREMIUM_TIER_1_PURPLE)})]}),(0,r.jsxs)("linearGradient",{id:c.PREMIUM_TIER_2,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS)}),(0,r.jsx)("stop",{offset:"0.502368",stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS_2)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_2_PINK_FOR_GRADIENTS)})]}),(0,r.jsxs)("linearGradient",{id:c.PREMIUM_GUILD,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.GUILD_BOOSTING_BLUE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(l.Ilk.GUILD_BOOSTING_PURPLE)})]}),(0,r.jsxs)("linearGradient",{id:c.CREATOR_REVENUE,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.CREATOR_REVENUE_START)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(l.Ilk.CREATOR_REVENUE_END)})]}),(0,r.jsxs)("linearGradient",{id:c.PREMIUM_TRIAL_TUTORIAL,children:[(0,r.jsx)("stop",{stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_2_PURPLE)}),(0,r.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(l.Ilk.PREMIUM_TIER_2_PINK)
})]})]})}),(function(){return!0}))}}]);
//# sourceMappingURL=3c6402ee0f0d7c737fe2.js.map