(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[33376],{148267:(e,t,r)=>{e.exports=r.p+"0f4d1ff76624bb45a3fee4189279ee92.svg"},869488:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n=r(785893),o=(r(667294),r(227440)),s=r(796667),a=r(908570),i=r(609993),l=r(959797),c=r(3066),u=r.n(c),f=r(380203),d=r.n(f);const h=function(e){var t=e.title,c=e.onVerify,f=e.authBoxClassName,h=e.captchaService,m=void 0===h?o.hP.RECAPTCHA:h,p=e.sitekey;return(0,n.jsxs)(a.ZP,{className:f,children:[(0,n.jsx)("img",{alt:"",src:r(148267),className:d().marginBottom20}),null!=t?(0,n.jsx)(a.Dx,{className:d().marginBottom8,children:t}):null,(0,n.jsx)(a.DK,{className:d().marginBottom40,children:l.Z.Messages.BEEP_BOOP}),(0,n.jsx)("div",{className:u().flexCenter,children:(0,n.jsx)(s.Z,{onVerify:c,theme:i.BR.DARK,captchaService:m,sitekey:p})})]})}},674945:(e,t,r)=>{"use strict";r.d(t,{W:()=>n,Z:()=>L})
;var n,o=r(785893),s=r(667294),a=r(294184),i=r.n(a),l=r(791462),c=r(489992),u=r(822567),f=r(281081),d=r(769672),h=r(266559),m=r(948571),p=r(631134),C=r(893321),g=r(859023),N=r(191940),O=r(82961),A=r(557328),S=r(766936),_=r(932847),v=r(204882),T=r(318007),y=r(908170),E=r(461061),b=r(959797),x=r(966582),I=r.n(x);function j(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}!function(e){e[e.LOGIN_REQUIRED=0]="LOGIN_REQUIRED";e[e.SWITCHED=1]="SWITCHED";e[e.REMOVED=2]="REMOVED"}(n||(n={}));function M(e){var t=e.actionText,r=e.user,s=e.onAction,a=(0,l.cj)([g.default,C.Z,p.default],(function(){return{currentUser:g.default.getCurrentUser(),hidePrivateData:C.Z.hidePersonalInformation,isAuthenticated:p.default.isAuthenticated()}})),O=a.currentUser,y=a.hidePrivateData,x=a.isAuthenticated,M=new m.Z(r),L=x&&(null==O?void 0:O.id)===M.id,R=r.tokenStatus===T.q.INVALID,D=y?null:"#".concat(M.discriminator),Z=null;L?Z=(0,o.jsx)(c.xv,{
variant:"text-sm/semibold",className:I().hintText,color:"text-positive",children:b.Z.Messages.SWITCH_ACCOUNTS_ACTIVE_ACCOUNT}):R&&(Z=(0,o.jsx)(c.xv,{variant:"text-sm/semibold",className:I().hintText,color:"text-danger",children:b.Z.Messages.SWITCH_ACCOUNTS_INVALID_TOKEN}));return(0,o.jsx)("div",{className:I().accountCard,children:(0,o.jsxs)("div",{className:I().userDetails,children:[(0,o.jsx)(S.ZP,{src:M.getAvatarURL(void 0,40),size:S.ZP.Sizes.SIZE_40,"aria-label":r.username}),(0,o.jsxs)("div",{className:i()(I().usernameSection,j({},I().hasActionMaxWidth,!L)),children:[(0,o.jsxs)("div",{className:I().username,children:[(0,o.jsx)(c.xv,{variant:"text-md/semibold",color:"header-primary",className:I().textOverflow,children:M.toString()}),(0,o.jsx)(c.xv,{color:"header-secondary",variant:"text-sm/normal",children:D})]}),Z]}),(0,o.jsxs)("div",{className:I().userActions,children:[!L&&(0,o.jsx)(N.Co,{onClick:function(){if(R)s(n.LOGIN_REQUIRED,r.id);else{
_.default.track(E.rMx.MULTI_ACCOUNT_SWITCH_ATTEMPT,{location:{section:E.jXE.MANAGE_ACCOUNTS_MODAL}});v.yD(r.id);s(n.SWITCHED,r.id)}},color:N.Co.Colors.PRIMARY,children:R?b.Z.Messages.SWITCH_ACCOUNTS_ACTION_LOG_IN:t}),(0,o.jsx)(N.Co,{className:I().userActionMenu,onClick:function(e){(0,f.vq)(e,(function(e){var t=e.onSelect;return(0,o.jsx)(d.ZP,{"aria-label":b.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNT,navId:"manage-multi-account",onClose:f.Zy,onSelect:t,children:(0,o.jsx)(h.sN,{id:"remove-account",label:b.Z.Messages.SWITCH_ACCOUNTS_REMOVE_ACCOUNT,action:function(){!function(){u.Z.logout(null,r.id).finally((function(){v.Zd(r.id)}));var e={};null!=O?e.section=E.jXE.MANAGE_ACCOUNTS_MODAL:e.page=E.Usc.LOGIN;_.default.track(E.rMx.MULTI_ACCOUNT_ACCOUNT_REMOVE,{location:e});s(n.REMOVED,r.id)}();null!=t&&t()},color:"danger"})})}))},size:N.Co.Sizes.ICON,look:N.Co.Looks.BLANK,color:N.Co.Colors.WHITE,"aria-label":b.Z.Messages.MORE_OPTIONS,children:(0,o.jsx)(A.Z,{className:I().overflowMenuIcon})})]
})]})})}function L(e){var t=e.actionText,r=e.onAction,n=(0,y.L)(),a=n.isLoading,i=n.multiAccountUsers;return(0,o.jsx)("div",{className:I().list,children:a?(0,o.jsx)(O.Z,{}):i.map((function(e,n){return(0,o.jsxs)(s.Fragment,{children:[(0,o.jsx)(M,{user:e,actionText:t,onAction:r},e.id),i.length-1!==n&&(0,o.jsx)("div",{role:"separator",className:I().separator})]},e.id)}))})}},33376:(e,t,r)=>{"use strict";r.r(t);r.d(t,{default:()=>fe});var n=r(785893),o=r(667294),s=r(506884),a=r(791462),i=r(489992),l=r(173436),c=r(383689),u=r(40188),f=r(859023),d=r(191940),h=r(554062),m=r(67416),p=r(318007),C=r(655695),g=r(294184),N=r.n(g),O=r(822567),A=r(869488),S=r(99918),_=r(614503),v=r(363419),T=r(80635),y=r(631134),E=r(18700),b=r(908570),x=r(897576),I=r(560221),j=r(882699),M=r(170729),L=r(461061),R=r(959797),D=r(780219),Z=r.n(D),w=r(380203),P=r.n(w);function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e,t,r,n,o,s,a){try{
var i=e[s](a),l=i.value}catch(e){r(e);return}i.done?t(l):Promise.resolve(l).then(n,o)}function G(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){k(s,n,o,a,i,"next",e)}function i(e){k(s,n,o,a,i,"throw",e)}a(void 0)}))}}function F(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function B(e){B=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return B(e)}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){F(e,t,r[t])}))}return e}function H(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){
var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}));return e}function K(e,t){return!t||"object"!==V(t)&&"function"!=typeof t?U(e):t}function z(e,t){z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return z(e,t)}var V=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function Y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return K(this,r)}}
var q=function(e,t){var r,n,o,s,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&s[0]?n.return:s[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,s[1])).done)return o;(n=0,o)&&(s=[2&s[0],o.value]);switch(s[0]){case 0:case 1:o=s;break;case 4:a.label++;return{value:s[1],done:!1};case 5:a.label++;n=s[1];s=[0];continue;case 7:s=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){a=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){a.label=s[1];break}if(6===s[0]&&a.label<o[1]){a.label=o[1];o=s;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(s);break}o[2]&&a.ops.pop();a.trys.pop();continue}s=t.call(e,a)}catch(e){s=[6,e];n=0}finally{r=o=0}
if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},Q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&z(e,t)}(s,e);var t=Y(s);function s(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s);var o,a;(o=t.call(this,e)).handleAuthToken=(a=G((function(e){return q(this,(function(t){switch(t.label){case 0:return[4,O.Z.loginToken(e,!1)];case 1:t.sent();return[2]}}))})),function(e){return a.apply(this,arguments)});o.handleTabOrEnter=function(e){if("Tab"===e.key&&!e.shiftKey&&e.target===o.loginRef){var t;null===(t=o.passwordRef)||void 0===t||t.focus();e.stopPropagation();e.preventDefault()}if("Enter"===e.key&&(e.target===o.loginRef||e.target===o.passwordRef)){o.handleLogin();e.stopPropagation();e.preventDefault()}};o.setLoginRef=function(e){
o.loginRef=e};o.setPasswordRef=function(e){o.passwordRef=e};o.setCodeRef=function(e){o.codeRef=e};o.getFullLogin=function(){var e=o.state;return e.loginPrefix+e.login};o.renderError=function(e){var t=o.props.errors;if(o.hasError(e)){var r=t[e];return Array.isArray(r)?r[0]:r}return null};var l=U(o);o.handleForgotPassword=function(){var e=G((function(e){var t,o,s;return q(this,(function(a){switch(a.label){case 0:null==e||e.preventDefault();null===(t=l.loginRef)||void 0===t||t.focus();o=l.getFullLogin();s=l.state.captchaKey;l.setState({captchaCallback:l.handleForgotPassword,captchaKey:null});a.label=1;case 1:a.trys.push([1,3,,4]);j.S.dispatch(L.CkL.WAVE_EMPHASIZE);return[4,O.Z.forgotPassword(o,s)];case 2:a.sent();(0,x.ZD)(G((function(){var e,t;return q(this,(function(s){switch(s.label){case 0:return[4,Promise.resolve().then(r.bind(r,30741))];case 1:e=s.sent(),t=e.default;return[2,function(e){return(0,n.jsx)(t,H(W({header:R.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_HEADER,
confirmText:R.Z.Messages.OKAY,confirmButtonColor:d.Co.Colors.BRAND},e),{children:(0,n.jsx)(i.xv,{variant:"text-md/normal",children:R.Z.Messages.EMAIL_VERIFICATION_INSTRUCTIONS_BODY.format({email:o})})}))}]}}))})));return[3,4];case 3:a.sent();return[3,4];case 4:return[2]}}))}));return function(t){return e.apply(this,arguments)}}();o.handleLogin=function(e){var t=o.state,r=t.password,n=t.captchaKey,s=t.undelete;null!=e&&e.preventDefault();o.setState({captchaCallback:o.handleLogin,captchaKey:null});O.Z.login({login:o.getFullLogin(),password:r,undelete:s,captchaKey:n,isMultiAccount:!0})};o.handleTokenSubmit=function(e){var t=o.state.code,r=o.props.mfaTicket;null!=e&&e.preventDefault();O.Z.loginMFA({code:t.replace(/ /g,""),ticket:r})};o.handleSMSTokenSubmit=function(e){var t=o.state.smsCode,r=o.props.mfaTicket;null!=e&&e.preventDefault();O.Z.loginSMS({code:t.replace(/ /g,""),ticket:r})};o.handleToggleSMSLogin=function(e){var t=o.props.mfaTicket;null!=e&&e.preventDefault()
;O.Z.requestSMSToken(t)};o.handleResendCode=function(){S.Z.resendCode(o.getFullLogin())};o.handleReset=function(e){null!=e&&e.preventDefault();O.Z.loginReset(!0);o.setState({password:"",loginPrefix:"",login:"",code:"",smsCode:"",captchaKey:null,undelete:!1})};o.handleCancelAccountDeletion=function(){o.setState({undelete:!0},o.handleLogin)};o.handleCaptchaVerify=function(e){var t=o.state.captchaCallback;o.setState({captchaKey:e},t)};o.state={loginPrefix:"",login:"",password:"",code:"",smsCode:"",captchaKey:null,captchaCallback:o.handleLogin,phoneVerifyError:null,undelete:!1};return o}var a=s.prototype;a.componentDidMount=function(){window.addEventListener("keydown",this.handleTabOrEnter)};a.componentDidUpdate=function(e){var t=this.props,r=t.authenticated,n=t.transitionTo;r&&!e.authenticated&&n(L.Z5c.APP);if(e.errors!==this.props.errors)if(this.hasError("password")){var o;null===(o=this.passwordRef)||void 0===o||o.focus()}else if(this.hasError("email")||this.hasError("login")){var s
;null===(s=this.loginRef)||void 0===s||s.focus()}else if(this.hasError("code")){var a;null===(a=this.codeRef)||void 0===a||a.focus()}};a.componentWillUnmount=function(){window.removeEventListener("keydown",this.handleTabOrEnter)};a.hasError=function(e){return null!=this.props.errors[e]};a.renderDefaultForm=function(){var e,t=this,r=this.props.country,s=!this.hasError("email")&&this.hasError("password"),a=(0,n.jsxs)(o.Fragment,{children:[(0,n.jsx)(b.Dx,{className:N()(P().marginBottom8,Z().title),children:R.Z.Messages.MULTI_ACCOUNT_LOGIN_TITLE},"title"),(0,n.jsx)(i.xv,{color:"header-secondary",variant:"text-md/normal",className:Z().subtitle,children:R.Z.Messages.MULTI_ACCOUNT_LOGIN_SUBTITLE})]});return(0,n.jsxs)("div",{className:Z().mainLoginContainer,children:[a,(0,n.jsxs)(b.gO,{className:Z().loginForm,children:[(0,n.jsx)(v.Z,{alpha2:r.alpha2,countryCode:r.code.split(" ")[0],className:P().marginBottom20,label:R.Z.Messages.FORM_LABEL_EMAIL_OR_PHONE_NUMBER,
error:null!==(e=this.renderError("login"))&&void 0!==e?e:this.renderError("email"),onChange:function(e,r){return t.setState({login:e,loginPrefix:r})},setRef:this.setLoginRef,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:this.state.login,autoFocus:!s,required:!0}),(0,n.jsx)(b.II,{label:R.Z.Messages.FORM_LABEL_PASSWORD,error:this.renderError("password"),onChange:function(e){return t.setState({password:e})},name:"password",type:"password",setRef:this.setPasswordRef,autoComplete:"off",spellCheck:"false",autoFocus:s,value:this.state.password,required:!0}),(0,n.jsx)(b.zx,{onClick:this.handleForgotPassword,look:d.Co.Looks.LINK,color:d.Co.Colors.LINK,className:N()(P().marginTop4),children:R.Z.Messages.FORGOT_PASSWORD})]})]})};a.renderDefault=function(){var e=this.props,t=e.authBoxClassName,r=e.loginStatus,o=e.closeLogin,s=e.theme;return(0,n.jsxs)("div",{className:Z().pageContainer,children:[(0,n.jsx)(b.ZP,{tag:"form",className:t,expanded:!0,theme:s,
children:this.renderDefaultForm()}),(0,n.jsxs)("div",{className:N()((0,M.Q)(s),Z().navRow),children:[(0,n.jsx)(d.Co,{type:"button",look:d.Co.Looks.LINK,"aria-label":"back",onClick:o,size:d.Co.Sizes.SMALL,className:N()((0,M.Q)(s),Z().backButton),children:R.Z.Messages.BACK}),(0,n.jsx)(d.Co,{"aria-label":"continue",submitting:r===L.u34.LOGGING_IN,color:d.Co.Colors.BRAND,onClick:this.handleLogin,className:Z().continueButton,children:R.Z.Messages.CONTINUE})]})]})};a.renderMFA=function(){var e,t=this,o=this.props,s=o.loginStatus,a=o.mfaSMS,i=o.authBoxClassName,l=o.theme;return(0,n.jsxs)(b.ZP,{onSubmit:this.handleTokenSubmit,tag:"form",className:i,theme:l,children:[(0,n.jsx)("img",{alt:"",src:r(148267),className:P().marginBottom20}),(0,n.jsx)(b.Dx,{className:P().marginBottom8,children:R.Z.Messages.TWO_FA}),(0,n.jsx)(b.DK,{children:R.Z.Messages.TWO_FA_ENTER_TOKEN_BODY}),(0,n.jsxs)(b.gO,{className:P().marginTop40,children:[(0,n.jsx)(b.II,{className:P().marginBottom20,
error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(e){return t.setState({code:e})},autoComplete:"off",placeholder:R.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.Z.Messages.TWO_FA_ENTER_TOKEN_LABEL,value:this.state.code,required:!0},"totpCode"),(0,n.jsx)(d.Co,{type:"submit",submitting:s===L.u34.LOGGING_IN_MFA,fullWidth:!0,children:R.Z.Messages._LOGIN}),a?(0,n.jsx)(d.Co,{onClick:this.handleToggleSMSLogin,submitting:s===L.u34.LOGGING_IN_MFA_SMS,className:N()(Z().paddingResetLeft,P().marginTop8),look:d.Co.Looks.LINK,color:d.Co.Colors.LINK,size:d.Co.Sizes.TINY,children:R.Z.Messages.MFA_SMS_RECEIVE_CODE}):null,(0,n.jsx)(d.Co,{look:d.Co.Looks.LINK,color:d.Co.Colors.LINK,className:N()(Z().paddingResetLeft,(e={},F(e,P().marginReset,a),F(e,P().marginTop8,!a),e)),onClick:this.handleReset,size:d.Co.Sizes.TINY,children:R.Z.Messages._TWO_FA_LOGIN_FOOTER})]})]})};a.renderDisabledAccount=function(){
var e=this.props,t=e.authBoxClassName,r=e.theme,o=this.props.loginStatus===L.u34.ACCOUNT_DISABLED,s=o?R.Z.Messages.ACCOUNT_DISABLED_TITLE:R.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_TITLE,a=o?R.Z.Messages.ACCOUNT_DISABLED_DESCRIPTION:R.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_DESCRIPTION;return(0,n.jsxs)(b.ZP,{tag:"form",onSubmit:this.handleReset,className:t,theme:r,children:[(0,n.jsx)(b.Dx,{className:P().marginBottom8,children:s}),(0,n.jsx)(b.DK,{className:P().marginBottom20,children:a}),(0,n.jsxs)(b.gO,{children:[(0,n.jsx)(d.Co,{color:d.Co.Colors.BRAND,type:"submit",fullWidth:!0,children:R.Z.Messages._RETURN_TO_LOGIN}),(0,n.jsx)("div",{className:N()(P().marginTop8,Z().needAccount),children:R.Z.Messages.ACCOUNT_SCHEDULED_FOR_DELETION_CANCEL.format({onClick:this.handleCancelAccountDeletion})})]})]})};a.renderMFASMS=function(){var e,t=this,o=this.props,s=o.loginStatus,a=o.maskedPhone,i=o.authBoxClassName,l=o.theme,c=s===L.u34.LOGGING_IN_MFA_SMS||""===a;return(0,n.jsxs)(b.ZP,{
onSubmit:this.handleSMSTokenSubmit,tag:"form",className:i,theme:l,children:[(0,n.jsx)("img",{alt:"",src:r(148267),className:P().marginBottom20}),(0,n.jsx)(b.Dx,{className:P().marginBottom8,children:R.Z.Messages.TWO_FA}),(0,n.jsx)(b.DK,{className:P().marginBottom8,children:c?R.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENDING:R.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_SENT.format({phoneNumber:a})}),(0,n.jsxs)(b.gO,{className:P().marginTop40,children:[(0,n.jsx)(b.II,{className:P().marginBottom20,error:this.renderError("code"),setRef:this.setCodeRef,onChange:function(e){return t.setState({smsCode:e})},autoComplete:"off",placeholder:R.Z.Messages.TWO_FA_AUTH_CODE,spellCheck:"false",maxLength:10,autoFocus:!0,label:R.Z.Messages.TWO_FA_ENTER_SMS_TOKEN_LABEL,value:this.state.smsCode,required:!0},"smsCode"),(0,n.jsx)(d.Co,{type:"submit",submitting:c,fullWidth:!0,color:c?d.Co.Colors.TRANSPARENT:d.Co.Colors.BRAND,children:R.Z.Messages._LOGIN}),c?null:(0,n.jsx)(d.Co,{onClick:this.handleToggleSMSLogin,
look:d.Co.Looks.LINK,color:d.Co.Colors.LINK,size:d.Co.Sizes.TINY,className:N()(Z().paddingResetLeft,P().marginTop8),children:R.Z.Messages.MFA_SMS_RESEND}),(0,n.jsx)(d.Co,{look:d.Co.Looks.LINK,color:d.Co.Colors.LINK,onClick:this.handleReset,size:d.Co.Sizes.TINY,className:N()(Z().paddingResetLeft,(e={},F(e,P().marginReset,!c),F(e,P().marginTop8,c),e)),children:R.Z.Messages._TWO_FA_LOGIN_FOOTER})]})]})};a.render=function(){var e=this.props,t=e.loginStatus,r=e.authBoxClassName,o=e.errors;if(this.hasError("captcha_key"))return(0,n.jsx)(A.Z,{authBoxClassName:r,onVerify:this.handleCaptchaVerify,title:R.Z.Messages.LOGIN_TITLE,sitekey:o.captcha_sitekey,captchaService:(0,I.B)(o.captcha_service)});switch(t){case L.u34.LOGGING_IN_MFA_SMS:case L.u34.MFA_SMS_STEP:return this.renderMFASMS();case L.u34.LOGGING_IN_MFA:case L.u34.MFA_STEP:return this.renderMFA();case L.u34.ACCOUNT_SCHEDULED_FOR_DELETION:case L.u34.ACCOUNT_DISABLED:return this.renderDisabledAccount();case L.u34.LOGGING_IN:
case L.u34.NONE:default:return this.renderDefault()}};return s}(o.PureComponent);Q.defaultProps={transitionTo:function(e){return r.g.location.assign(e)}};const $=function(e){var t=(0,a.cj)([E.Z,y.default,_.Z,T.Z],(function(){return{authenticated:y.default.isAuthenticated(),loginStatus:y.default.getLoginStatus(),mfaTicket:y.default.getMFATicket(),mfaSMS:y.default.getMFASMS(),maskedPhone:y.default.getMaskedPhone(),errors:y.default.getErrors(),defaultRoute:E.Z.defaultRoute,country:_.Z.getCountryCode(),theme:T.Z.theme}}));return(0,n.jsx)(Q,W({},e,t))};var X=r(132903),J=r.n(X);const ee=function(e){var t=e.onClose;return(0,n.jsx)($,{transitionTo:function(e){(0,C.uL)(e)},authBoxClassName:J().card,closeLogin:t})};var te,re,ne=r(674945),oe=r(337973),se=r(525526),ae=r.n(se);function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function le(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r
;return e}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){s.push(n.value);if(t&&s.length===t)break}}catch(e){i=!0;o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(e){e[e.MANAGE_ACCOUNTS=0]="MANAGE_ACCOUNTS";e[e.LOGIN=1]="LOGIN"}(te||(te={}))
;var ue=(le(re={},te.MANAGE_ACCOUNTS,m.Cg.SMALL),le(re,te.LOGIN,m.Cg.DYNAMIC),re);function fe(e){var t=e.transitionState,r=e.onClose,C=ce(o.useState(te.MANAGE_ACCOUNTS),2),g=C[0],N=C[1],O=(0,a.cj)([f.default,p.Z],(function(){return{currentUser:f.default.getCurrentUser(),multiAccountUsers:p.Z.getUsers()}})),A=O.currentUser,S=O.multiAccountUsers,_=ce(o.useState(!1),2),v=_[0],T=_[1],y=ce(o.useState(""),2),E=y[0],b=y[1],x=ce(o.useState(null),2),I=x[0],j=x[1];o.useEffect((function(){if(v){j((0,n.jsx)(h.Z,{messageType:h.Q.ERROR,className:ae().infoMessage,children:R.Z.Messages.MULTI_ACCOUNT_MAX_ACCOUNTS_ERROR.format({maxNumAccounts:oe.$H})}));b("")}else if(null!=E){var e=f.default.getUser(E);null!=e&&j((0,n.jsx)(h.Z,{messageType:h.Q.POSITIVE,className:ae().infoMessage,children:R.Z.Messages.MULTI_ACCOUNT_LOGGED_OUT.format({username:e.username})}));T(!1)}}),[E,v]);o.useEffect((function(){S.length<oe.$H&&T(!1)}),[S]);(0,c.Z)({type:s.nv.MODAL,
name:g===te.MANAGE_ACCOUNTS?s.zs.MULTI_ACCOUNT_SWITCH_LANDING:s.zs.USER_LOGIN});var M=null;g===te.MANAGE_ACCOUNTS?M=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(m.xB,{separator:!1,children:(0,n.jsxs)("div",{className:ae().header,children:[(0,n.jsx)(i.X6,{variant:"heading-xl/semibold",color:"header-primary",children:R.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS}),(0,n.jsx)(i.xv,{className:ae().subheaderText,color:"header-secondary",variant:"text-md/normal",children:R.Z.Messages.SWITCH_ACCOUNTS_MODAL_SUBHEADER})]})}),(0,n.jsxs)(m.hz,{children:[I,(0,n.jsx)(ne.Z,{actionText:R.Z.Messages.SWITCH_ACCOUNTS_ACTION_SWITCH,onAction:function(e,t){switch(e){case ne.W.LOGIN_REQUIRED:N(te.LOGIN);break;case ne.W.SWITCHED:r();break;case ne.W.REMOVED:t===(null==A?void 0:A.id)&&r();b(t)}}}),(0,n.jsx)("div",{className:ae().actions,children:(0,n.jsx)(d.Co,{look:d.Co.Looks.LINK,color:d.Co.Colors.PRIMARY,onClick:function(){S.length>=oe.$H?T(!0):N(te.LOGIN)},size:d.Co.Sizes.MEDIUM,children:(0,n.jsx)(i.xv,{
variant:"text-sm/semibold",children:R.Z.Messages.SWITCH_ACCOUNTS_ADD_AN_ACCOUNT_BUTTON})})})]})]}):g===te.LOGIN&&(M=(0,n.jsx)(ee,{onClose:function(){l.Z.dispatch({type:"CLEAR_AUTHENTICATION_ERRORS"});N(te.MANAGE_ACCOUNTS)}}));return(0,n.jsx)(m.Y0,{className:ae().modal,transitionState:t,size:ue[g],"aria-label":R.Z.Messages.SWITCH_ACCOUNTS_MANAGE_ACCOUNTS,children:(0,n.jsxs)(u.Z,{step:g,steps:[te.MANAGE_ACCOUNTS,te.LOGIN],children:[(0,n.jsx)(m.ol,{onClick:r,className:ae().modalCloseButton}),M]})})}},190335:(e,t,r)=>{"use strict";r.d(t,{Nz:()=>n,o9:()=>s});var n;!function(e){e.PHONE="phone";e.EMAIL="email"}(n||(n={}));var o=/^[-() \d]+$/;function s(e,t){return e===n.PHONE?!(r=t,r.startsWith("+")):e!==n.EMAIL&&(!(t.length<3)&&o.test(t));var r}},363419:(e,t,r)=>{"use strict";r.d(t,{Z:()=>R});var n=r(785893),o=r(667294),s=r(294184),a=r.n(s),i=r(801593),l=r(272729),c=r(562181),u=r(190335),f=r(248088),d=r(791462),h=r(730189),m=r(629590),p=r(761434),C=r(99918),g=r(552795),N=r(919252),O=r.n(N)
;function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function S(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))));n.forEach((function(t){S(e,t,r[t])}))}return e}function v(e,t){t=null!=t?t:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})));r.push.apply(r,n)}return r}(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))
}));return e}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){s.push(n.value);if(t&&s.length===t)break}}catch(e){i=!0;o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e){var t=e.show,r=e.alpha2,s=e.countryCode,i=(0,d.e7)([h.Z],(function(){return h.Z.useReducedMotion
})),l=o.useRef(null),c=T(o.useState(0),2),u=c[0],N=c[1],A=T(o.useState(!1),2),y=A[0],E=A[1];o.useEffect((function(){var e=function(){var e,r;N(t&&null!==(r=null===(e=l.current)||void 0===e?void 0:e.getBoundingClientRect().width)&&void 0!==r?r:0)};e();window.addEventListener("resize",e);return function(){return window.removeEventListener("resize",e)}}),[t,r,s]);var b=(0,f.useSpring)({width:"".concat(u,"px"),immediate:i,onStart:function(){E(!0)},onRest:function(){E(!1)}});return(0,n.jsx)(p.ZP,{position:p.ZP.Positions.TOP,renderPopout:function(e){return(0,n.jsx)(g.Z,{className:O().popout,onClick:function(t){!function(e){C.Z.setCountryCode(e)}(t);e.closePopout()}})},children:function(e){return(0,n.jsx)("div",{className:a()(O().outerContainer,S({},O().hidden,!(t||y))),children:(0,n.jsx)(f.animated.div,{className:O().container,style:b,children:(0,n.jsxs)("div",{className:O().innerContainer,ref:l,children:[(0,n.jsxs)(m.Z,v(_({},e),{className:O().countryCode,children:[r," ",s]})),(0,
n.jsx)("div",{className:O().separator})]})})})}})}var E=r(340839),b=r.n(E),x=r(641501),I=r.n(x);function j(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function M(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r;return e}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s=[],a=!0,i=!1;try{for(r=r.call(e);!(a=(n=r.next()).done);a=!0){s.push(n.value);if(t&&s.length===t)break}}catch(e){i=!0;o=e}finally{try{a||null==r.return||r.return()}finally{if(i)throw o}}return s}}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r)
;if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e){var t,r=e.alpha2,s=e.countryCode,f=e.forceMode,d=e.label,h=e.error,m=e.className,p=e.required,C=e.value,g=e.setRef,N=e.placeholder,O=e.autoFocus,A=e.maxLength,S=e.spellCheck,_=e.autoComplete,v=e.autoCapitalize,T=e.autoCorrect,E=e.onChange,x=e.inputClassName,j=(0,l.Dt)(),R=L(o.useState(!1),2),D=R[0],Z=R[1],w=(0,u.o9)(f,C);return(0,n.jsx)(c.xJ,{title:d,error:h,className:m,required:p,tag:"label",htmlFor:j,children:(0,n.jsxs)("div",{className:a()(I().input,b().input,x,(t={},M(t,I().error,null!=h),M(t,I().focused,D),t)),children:[(0,n.jsx)(y,{show:w,alpha2:r,countryCode:s}),(0,n.jsx)(i.ZP,{id:j,name:"email",type:f===u.Nz.EMAIL?"email":"text",value:C,inputRef:g,placeholder:N,"aria-label":d,required:p,
onChange:function(e){var t=(0,u.o9)(f,e)?s:"";E(e,t)},autoComplete:_,autoCapitalize:v,autoCorrect:T,autoFocus:O,maxLength:A,spellCheck:S,className:b().inputWrapper,inputClassName:b().inputField,onFocus:function(){return Z(!0)},onBlur:function(){return Z(!1)}})]})})}}}]);
//# sourceMappingURL=4b6ada5b2cf63137092c.js.map