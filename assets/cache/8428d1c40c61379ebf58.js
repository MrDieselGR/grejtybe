"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[64],{683801:(e,n,t)=>{t.d(n,{Av:()=>l,wE:()=>i,hp:()=>c});var r=t(675860),a=t(173436),o=t(643830),s=t(461061);function l(e,n){(0,o.Z)(e,n);return r.Z.patch({url:s.ANM.ME,body:{date_of_birth:e.format("YYYY-MM-DD")},oldFormErrors:!0}).then((function(e){var n=e.body;a.Z.dispatch({type:"CURRENT_USER_UPDATE",user:n})}))}function i(){a.Z.dispatch({type:"AGE_GATE_PREVENT_UNDERAGE_REGISTRATION"})}function c(){a.Z.dispatch({type:"AGE_GATE_LOGOUT_UNDERAGE_NEW_USER"})}},65440:(e,n,t)=>{t.d(n,{Z:()=>T});var r=t(785893),a=t(667294),o=t(294184),s=t.n(o),l=t(730381),i=t.n(l),c=t(489992),u=t(601465),f=t(562181),d=t(959797),m=t(108083),h=t.n(m);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function E(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var y=i()().localeData().months(),v=Array.from(Array(31).keys()).map((function(e){return{value:e+1,label:"".concat(e+1)}})),N=Array.from(Array(12).keys()).map((function(e){return{value:e+1,label:y[e]}}));var b=/[a-zA-Z0-9]/;function _(e){
var n=e.options,t=e.selectOption,o=e.children,s=E(a.useState(""),2),l=s[0],i=s[1];a.useEffect((function(){if(""!==l){var e=setTimeout((function(){return i("")}),1e3);return function(){return clearTimeout(e)}}}),[l,i]);var c=a.useCallback((function(e){if(b.test(e.key)){var r="".concat(l).concat(e.key.toLowerCase()),a=n.find((function(e){return e.label.toLowerCase().startsWith(r)}));null!=a&&t(a.value);i(r)}}),[t,i,l,n]);return(0,r.jsx)("div",{onKeyDown:c,children:o})}function A(){var e=i()().localeData().longDateFormat("L"),n=e.indexOf("D"),t=e.indexOf("M"),r=e.indexOf("Y");if(-1===n||-1===t||-1===r){n=0;t=1;r=2}return[{index:n,type:"day"},{index:t,type:"month"},{index:r,type:"year"}].sort((function(e,n){return e.index<n.index?-1:1}))}const T=a.forwardRef((function(e,n){var t=function(e){switch(F[e].type){case"day":k.push({key:"day",input:(0,r.jsx)(_,{options:v,selectOption:x,children:(0,r.jsx)(u.Z,{ref:G,className:h().inputDay,"aria-label":d.Z.Messages.AGE_GATE_DOB_DAY,
menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:d.Z.Messages.AGE_GATE_DOB_DAY}),options:v,value:O,onChange:function(n){var t=n.value;x(t);R(e+1)},maxMenuHeight:215})})});break;case"month":k.push({key:"month",input:(0,r.jsx)(_,{options:N,selectOption:C,children:(0,r.jsx)(u.Z,{ref:L,className:h().inputMonth,"aria-label":d.Z.Messages.AGE_GATE_DOB_MONTH,menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:d.Z.Messages.AGE_GATE_DOB_MONTH}),options:N,value:I,onChange:function(n){var t=n.value;C(t);R(e+1)},maxMenuHeight:215})})});break;case"year":k.push({key:"year",input:(0,r.jsx)(_,{options:D,selectOption:g,children:(0,r.jsx)(u.Z,{ref:P,className:h().inputYear,"aria-label":d.Z.Messages.AGE_GATE_DOB_YEAR,menuPlacement:u.Z.MenuPlacements.TOP,placeholder:(0,r.jsx)("span",{"aria-hidden":!0,children:d.Z.Messages.AGE_GATE_DOB_YEAR}),options:D,value:j,onChange:function(n){var t=n.value;g(t);R(e+1)},
maxMenuHeight:215})})})}},o=e.value,l=e.wrapperClassName,m=e.onChange,p=e.onPopulated,y=e.error,b=e.autoFocus,T=function(e){var n=null,t=null,r=null;if(null!=e){n=e.date();t=e.month()+1;r=e.year()}var o=E(a.useState(n),2),s=o[0],l=o[1],i=E(a.useState(t),2),c=i[0],u=i[1],f=E(a.useState(r),2);return{day:s,setDay:l,month:c,setMonth:u,year:f[0],setYear:f[1]}}(o),O=T.day,x=T.setDay,I=T.month,C=T.setMonth,j=T.year,g=T.setYear,M=a.useMemo((function(){return null!=O&&null!=I&&null!=j?i()("".concat(O,"/").concat(I,"/").concat(j),"DD/MM/YYYY"):null}),[O,I,j]);a.useEffect((function(){m((null==M?void 0:M.isValid())?M:null)}),[M,m]);var S=y;null==M||M.isValid()||(S=d.Z.Messages.AGE_GATE_INVALID_BIRTHDAY);var D=function(){var e=(new Date).getFullYear(),n=a.useRef(Array.from(Array(150).keys()).map((function(n){return{value:e-n-3,label:"".concat(e-n-3)}})));a.useEffect((function(){n.current=Array.from(Array(150).keys()).map((function(n){return{value:e-n-3,label:"".concat(e-n-3)}}))}),[e])
;return n.current}(),Z=E(a.useState(b?0:-1),2),w=Z[0],R=Z[1],G=a.useRef(null),L=a.useRef(null),P=a.useRef(null),F=a.useMemo(A,[]),U=a.useCallback((function(){var e;switch(null===(e=F[w])||void 0===e?void 0:e.type){case"day":var n;null===(n=G.current)||void 0===n||n.focus();break;case"month":var t;null===(t=L.current)||void 0===t||t.focus();break;case"year":var r;null===(r=P.current)||void 0===r||r.focus()}}),[w,G,L,P,F]);a.useEffect((function(){setTimeout(U,500)}),[]);a.useEffect((function(){w>=F.length?null==p||p():U()}),[w,U]);for(var k=[],B=0;B<3;B++)t(B);return(0,r.jsxs)("fieldset",{className:s()(h().container,l),children:[(0,r.jsx)(f.vw,{tag:"legend",children:d.Z.Messages.AGE_GATE_DATE_OF_BIRTH}),(0,r.jsx)("div",{className:h().inputs,children:k.map((function(e,n){var t=e.key,a=e.input;return(0,r.jsx)("div",{tabIndex:n+1,className:h()[t],children:a},t)}))}),(0,r.jsx)(c.xv,{className:h().errors,variant:"text-sm/normal",children:S})]})}))},643830:(e,n,t)=>{t.d(n,{Z:()=>l})
;var r=t(730381),a=t.n(r),o=t(932847),s=t(461061);function l(e,n){o.default.track(s.rMx.AGE_GATE_SUBMITTED,{dob:a()().diff(e,"years")<18?e.format("YYYY-MM-DD"):null,dob_day:e.date(),dob_month:e.month()+1,dob_year:e.year(),source:{section:n}})}},64:(e,n,t)=>{t.r(n);t.d(n,{default:()=>_e});var r=t(785893),a=t(667294),o=t(294184),s=t.n(o),l=t(506884),i=t(791462),c=t(489992),u=t(427546),f=t(91624),d=t(982938),m=t(511504),h=t(859023),p=t(892472),E=t(487502),y=t(954766),v=t(272729),N=t(559159),b=t(67416),_=t(932847),A=t(170729),T=t(639472),O=t(441143),x=t.n(O),I=t(683801),C=t(65440),j=t(832010),g=t(191940),M=t(956299),S=t(254580),D=t(95467),Z=t(461061),w=t(959797),R=t(128905),G=t.n(R);function L(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t,r,a,o,s){try{var l=e[o](s),i=l.value}catch(e){t(e);return}l.done?n(i):Promise.resolve(i).then(r,a)}function F(e){return function(){var n=this,t=arguments;return new Promise((function(r,a){
var o=e.apply(n,t);function s(e){P(o,r,a,s,l,"next",e)}function l(e){P(o,r,a,s,l,"throw",e)}s(void 0)}))}}function U(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return L(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return L(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var k=function(e,n){
var t,r,a,o,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;s;)try{if(t=1,r&&(a=2&o[0]?r.return:o[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,o[1])).done)return a;(r=0,a)&&(o=[2&o[0],a.value]);switch(o[0]){case 0:case 1:a=o;break;case 4:s.label++;return{value:o[1],done:!1};case 5:s.label++;r=o[1];o=[0];continue;case 7:o=s.ops.pop();s.trys.pop();continue;default:if(!(a=s.trys,a=a.length>0&&a[a.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){s.label=o[1];break}if(6===o[0]&&s.label<a[1]){s.label=a[1];a=o;break}if(a&&s.label<a[2]){s.label=a[2];s.ops.push(o);break}a[2]&&s.ops.pop();s.trys.pop();continue}o=n.call(e,s)}catch(e){o=[6,e];r=0}finally{t=a=0}if(5&o[0])throw o[1]
;return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function B(e){var n=e.onComplete,t=e.onClose,o=U(a.useState(null),2),s=o[0],l=o[1],u=U(a.useState(null),2),f=u[0],d=u[1],m=U(a.useState(!1),2),p=m[0],E=m[1],y=(0,i.e7)([h.default],(function(){return h.default.getCurrentUser()})),v=a.createRef();a.useEffect((function(){null!=y&&null!=y.nsfwAllowed&&n()}),[y,n]);function N(){N=F((function(e){var r,a;return k(this,(function(o){switch(o.label){case 0:e.preventDefault();x()(null!=s,"Cannot submit null birthday.");E(!0);o.label=1;case 1:o.trys.push([1,3,,4]);return[4,I.Av(s,"NUF")];case 2:o.sent();n();return[3,4];case 3:if(null!=(r=o.sent()).body&&null!=r.body.date_of_birth){I.wE();I.hp();t()}else null!=(null==r||null===(a=r.body)||void 0===a?void 0:a.username)?d(w.Z.Messages.USER_SETTINGS_UPDATE_FAILURE):d(null==r?void 0:r.body.message);return[3,4];case 4:E(!1);return[2]}}))}));return N.apply(this,arguments)}var b=a.useCallback((function(e){l(e)}),[l]),_=a.useCallback((function(){var e
;null===(e=v.current)||void 0===e||e.focus()}),[v]);return null==y?null:(0,r.jsxs)("form",{className:G().content,onSubmit:function(e){return N.apply(this,arguments)},children:[(0,r.jsx)(S.Z,{width:56,height:40,className:G().logo,color:(0,j.Lq)(Z.Ilk.BRAND_500)}),(0,r.jsx)(c.X6,{className:G().title,variant:"heading-xl/semibold",children:w.Z.Messages.NUF_JOIN_SERVER_TITLE_2}),(0,r.jsx)(c.xv,{color:"text-normal",className:G().description,variant:"text-md/normal",children:w.Z.Messages.NUF_AGE_GATE_BODY.format({helpURL:D.Z.getArticleURL(Z.BhN.AGE_GATE)})}),(0,r.jsx)(M.Z.Provider,{value:Z.BRd.LIGHT,children:(0,r.jsx)(C.Z,{required:!0,autoFocus:!0,wrapperClassName:G().formItem,label:w.Z.Messages.AGE_GATE_YOUR_BIRTHDAY,name:"birthday",onChange:b,onPopulated:_,error:f,value:s})}),(0,r.jsx)("div",{className:G().footer,children:(0,r.jsx)("div",{className:G().buttonWrapper,children:(0,r.jsx)(g.Co,{buttonRef:v,type:"submit",size:g.Co.Sizes.LARGE,submitting:p,disabled:null==s,fullWidth:!0,
children:w.Z.Messages.NEXT})})})]})}var Y=t(629590),H=t(462428),z=t(464057),V=t.n(z);function J(e){var n=e.onComplete;return(0,r.jsxs)(Y.Z,{className:V().container,onClick:n,children:[(0,r.jsx)(H.Z,{size:H.Z.Sizes.SIZE_24,className:V().title,children:w.Z.Messages.NUF_COMPLETE_TITLE}),(0,r.jsx)(H.Z,{size:H.Z.Sizes.SIZE_24,className:s()(V().title,V().subtitle),children:w.Z.Messages.NUF_COMPLETE_SUBTITLE}),(0,r.jsx)(g.Co,{color:g.Co.Colors.WHITE,onClick:n,children:w.Z.Messages.NUF_COMPLETE_CTA})]})}var K=t(141301),W=t(956345),X=t(323657),$=t(801593),q=t(562181),Q=t(50151),ee=t(345719),ne=t.n(ee);function te(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function re(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ae(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]
;if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return te(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return te(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var oe=function(){var e=window.GLOBAL_ENV.INVITE_HOST,n="";if(null==e){e=location.host;n=Z.Z5c.INVITE("")}return"".concat(location.protocol,"//").concat(e).concat(n,"/")}();var se=t(358188),le=t(304516),ie=t.n(le);function ce(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,
configurable:!0,writable:!0}):e[n]=t;return e}function ue(e){var n=e.step,t=n===se.F.AGE_GATE,a=n===se.F.CHOOSE_TEMPLATE||n===se.F.CREATION_INTENT,o=n===se.F.CUSTOMIZE_GUILD,l=n===se.F.CHANNEL_PROMPT||n===se.F.JOIN_GUILD,i=o||l,c=a||i;return(0,r.jsxs)("div",{className:ie().sidebar,children:[(0,r.jsx)("div",{className:s()(ie().step1,ce({},ie().show,t))}),(0,r.jsx)("div",{className:s()(ie().step24Clouds,ce({},ie().show,c))}),(0,r.jsx)("div",{className:s()(ie().step34Flag,ce({},ie().show,i))}),(0,r.jsx)("div",{className:s()(ie().step24Base,ce({},ie().show,c))}),(0,r.jsx)("div",{className:s()(ie().step24Ground,ce({},ie().show,c))}),(0,r.jsx)("div",{className:s()(ie().step2Base,ce({},ie().show,a))}),(0,r.jsx)("div",{className:s()(ie().step2Character,ce({},ie().show,a))}),(0,r.jsx)("div",{className:s()(ie().step34Base,ce({},ie().show,i))}),(0,r.jsx)("div",{className:s()(ie().step3Character,ce({},ie().show,o))}),(0,r.jsx)("div",{className:s()(ie().step4Character,ce({},ie().show,l))}),(0,
r.jsx)("div",{className:s()(ie().step24Foreground,ce({},ie().show,c))})]})}var fe=t(714392),de=t(913290),me=t(242943),he=t.n(me);function pe(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ee(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function ye(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){Ee(e,n,t[n])}))}return e}function ve(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){
return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function Ne(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||(a[t]=e[t])}return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++){t=o[r];n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}}return a}function be(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,a,o=[],s=!0,l=!1;try{for(t=t.call(e);!(s=(r=t.next()).done);s=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;a=e}finally{try{s||null==t.return||t.return()}finally{if(l)throw a}}return o}}(e,n)||function(e,n){if(!e)return
;if("string"==typeof e)return pe(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pe(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _e(e){var n=(0,v.Dt)(),t=e.onSlideChange,o=Ne(e,["onSlideChange"]),O=o.onClose,x=be(a.useState(!1),2),I=x[0],C=x[1],j=(0,i.e7)([h.default],(function(){return h.default.getCurrentUser()})),M=null!=j&&null==j.nsfwAllowed,S=be(a.useState(M?se.F.AGE_GATE:se.F.CHOOSE_TEMPLATE),2),D=S[0],R=S[1],G=be(a.useState(null),2),L=G[0],P=G[1];a.useEffect((function(){t(I?se.F.COMPLETE:D)}),[t,D,I]);var F,U=be(a.useState(null),2),k=U[0],Y=U[1],z=be(a.useState(null),2),V=z[0],ee=z[1],te=be(a.useState(!1),2),le=te[0],ie=te[1],ce=(0,
i.e7)([T.Z],(function(){return T.Z.getType()===fe.M5.INVITE_UNCLAIMED})),me=a.useCallback((function(e){ee(e);R(se.F.CREATION_INTENT);_.default.track(Z.rMx.GUILD_TEMPLATE_SELECTED,{template_name:e.label,template_code:e.code})}),[ee,R]),pe=(0,f.v)({hasFooter:!1,onBack:function(){ee(null);R(se.F.CHOOSE_TEMPLATE)},onCreationIntentChosen:function(e){ie(e);R(se.F.CUSTOMIZE_GUILD)}}),Ee=pe.content,_e=pe.footer,Ae=(0,d.G)({guildTemplate:V,titleClassName:he().customizeGuildTitle,hasFooter:!1,onGuildCreated:function(e){Y(e);(null==V?void 0:V.id)===de.l.CREATE?R(se.F.CHANNEL_PROMPT):C(!0)},onBack:function(){R(se.F.CREATION_INTENT)},isSlideReady:L===se.F.CUSTOMIZE_GUILD,isCommunity:le}),Te=Ae.content,Oe=Ae.footer,xe=(0,u.F)({createdGuildId:k,hasFooter:!1,onChannelPromptCompleted:function(){C(!0)},isSlideReady:L===se.F.CHANNEL_PROMPT}),Ie=xe.content,Ce=xe.footer,je=function(e){
var n=e.onBack,t=e.onComplete,o=e.onConnect,l=e.isSlideReady,i=ae(a.useState(""),2),u=i[0],f=i[1],d=ae(a.useState(!1),2),m=d[0],h=d[1],p=ae(a.useState(null),2),y=p[0],v=p[1],N=a.useRef(null);a.useEffect((function(){var e;l&&(null===(e=N.current)||void 0===e||e.focus())}),[l]);var _=a.useCallback((function(e){e.preventDefault();var n=u.trim();if(""!==n){v(null);h(!0);var r=n.split("/"),a=r[r.length-1];K.Z.resolveInvite(a,"Join Guild",{inputValue:n}).then((function(e){var n=e.invite;h(!1);if(null!=n){if(null!=n.channel){var r=K.Z.getInviteContext("Join Guild",n);K.Z.acceptInvite({inviteKey:n.code,context:r,callback:function(e){t();K.Z.transitionToInvite(e)}}).catch((function(e){if(e instanceof X.yZ){var n=(0,Q.O)(e.code);v(n)}else v(w.Z.Messages.INVITE_MODAL_ERROR_DEFAULT)}))}}else v(w.Z.Messages.INSTANT_INVITE_EXPIRED)}),(function(e){h(!1);var n=new X.yZ(e),t=(0,Q.O)(n.code);v(t)}))}else v(w.Z.Messages.INVALID_INVITE_LINK_ERROR)}),[u,h,v,t]);return{content:(0,r.jsxs)(r.Fragment,{
children:[(0,r.jsxs)(b.xB,{className:ne().header,direction:E.Z.Direction.VERTICAL,separator:!1,children:[(0,r.jsx)(H.Z,{className:ne().title,size:H.Z.Sizes.SIZE_24,color:H.Z.Colors.HEADER_PRIMARY,children:w.Z.Messages.JOIN_SERVER_TITLE}),(0,r.jsx)(c.xv,{variant:"text-md/normal",color:"header-secondary",children:w.Z.Messages.JOIN_SERVER_DESCRIPTION_NUF})]}),(0,r.jsxs)(b.hz,{children:[(0,r.jsx)("form",{onSubmit:_,className:ne().inputForm,children:(0,r.jsx)(q.xJ,{title:w.Z.Messages.FORM_LABEL_INVITE_LINK,error:y,titleClassName:s()(ne().formTitle,re({},ne().error,null!=y)),children:(0,r.jsx)($.ZP,{value:u,onChange:f,className:ne().input,inputClassName:ne().inputInner,inputRef:N})})}),(0,r.jsx)(c.xv,{color:"header-secondary",variant:"text-xs/normal",children:w.Z.Messages.JOIN_SERVER_EXAMPLES.format({examples:"".concat(oe).concat("cool-people",", ").concat("hTKzmak")})}),(0,r.jsx)(c.xv,{variant:"text-xs/normal",color:"header-secondary",className:ne().connectCTA,
children:w.Z.Messages.JOIN_GUILD_CONNECT.format({onClick:function(){o();W.Z.open(Z.oAB.CONNECTIONS)}})})]})]}),footer:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(g.Co,{color:g.Co.Colors.BRAND,onClick:_,disabled:0===u.length,submitting:m,children:w.Z.Messages.JOIN}),(0,r.jsx)(g.Co,{className:ne().skipButton,look:g.Co.Looks.BLANK,size:g.Co.Sizes.MIN,onClick:n,children:w.Z.Messages.BACK})]})}}({onBack:function(){return R(se.F.CHOOSE_TEMPLATE)},onComplete:function(){O()},onConnect:O,isSlideReady:L===se.F.JOIN_GUILD}),ge=je.content,Me=je.footer;switch(D){case se.F.CUSTOMIZE_GUILD:F=Oe;break;case se.F.CHANNEL_PROMPT:F=Ce;break;case se.F.JOIN_GUILD:F=Me;break;case se.F.CREATION_INTENT:F=_e}var Se=a.useRef(null),De=(0,N.Z)(Se,!0,[D]);if(I)return(0,r.jsx)(b.Y0,ve(ye({},o),{size:b.Cg.MEDIUM,className:s()(he().modal,he().completed),"aria-labelledby":n,children:(0,r.jsx)(J,{onComplete:O})}));var Ze={impression_group:l.AG.GUILD_ADD_NUF};return(0,r.jsxs)(b.Y0,ve(ye({},o),{size:b.Cg.MEDIUM,
className:he().modal,"aria-labelledby":n,children:[(0,r.jsx)("div",{className:he().sidebar,children:(0,r.jsx)(ue,{step:D})}),(0,r.jsxs)("div",{className:s()(he().content,(0,A.Q)(Z.BRd.LIGHT)),ref:Se,children:[(0,r.jsx)("div",{className:he().slidesContainer,children:(0,r.jsxs)(y.My,{activeSlide:D,onSlideReady:function(e){return P(e)},centered:!1,width:null==De?void 0:De.width,children:[(0,r.jsx)(y.Mi,{id:se.F.AGE_GATE,children:(0,r.jsx)("div",{className:he().container,children:(0,r.jsx)(B,{onComplete:function(){ce?O():R(se.F.CHOOSE_TEMPLATE)},onClose:O})})}),(0,r.jsx)(y.Mi,{id:se.F.CHOOSE_TEMPLATE,impressionName:l.zs.GUILD_ADD_LANDING,impressionProperties:Ze,children:(0,r.jsx)("div",{className:s()(he().container,he().shortFooter),children:(0,r.jsx)(m.Z,{className:he().templates,onChooseTemplate:me,isNewUser:!0})})}),(0,r.jsx)(y.Mi,{id:se.F.CREATION_INTENT,impressionName:l.zs.GUILD_ADD_INTENT_SELECTION,impressionProperties:Ze,children:(0,r.jsx)("div",{
className:s()(he().container,he().standardFooter),children:Ee})}),(0,r.jsx)(y.Mi,{id:se.F.CUSTOMIZE_GUILD,impressionName:l.zs.GUILD_ADD_CUSTOMIZE,impressionProperties:Ze,children:(0,r.jsx)("div",{className:s()(he().container,he().standardFooter),children:Te})}),(0,r.jsx)(y.Mi,{id:se.F.CHANNEL_PROMPT,impressionName:l.zs.GUILD_ADD_CHANNEL_PROMPT,impressionProperties:Ze,children:(0,r.jsx)("div",{className:s()(he().container,he().standardFooter),children:Ie})}),(0,r.jsx)(y.Mi,{id:se.F.JOIN_GUILD,impressionName:l.zs.GUILD_ADD_JOIN,impressionProperties:Ze,children:(0,r.jsx)("div",{className:s()(he().container,he().standardFooter),children:ge})})]})}),D!==se.F.AGE_GATE?(0,r.jsx)(b.ol,{onClick:O,className:he().closeButton}):null,D===se.F.CHOOSE_TEMPLATE?(0,r.jsx)(b.mz,{justify:E.Z.Justify.BETWEEN,className:s()(he().footer,he().join),children:(0,r.jsx)(p.Z,{className:he().joinCTA,onClick:function(){R(se.F.JOIN_GUILD)},children:(0,r.jsxs)(c.xv,{variant:"text-sm/medium",className:he().joinCTA,
children:[w.Z.Messages.NUF_HAVE_AN_INVITE_ALREADY," ",w.Z.Messages.JOIN_SERVER_BUTTON_CTA]})})}):null,null!=F?(0,r.jsx)(b.mz,{justify:E.Z.Justify.BETWEEN,className:he().footer,children:F}):null]})]}))}}}]);
//# sourceMappingURL=8428d1c40c61379ebf58.js.map