"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[32587],{440709:(e,r,t)=>{t.r(r);t.d(r,{default:()=>D});var n=t(785893),a=t(667294),s=t(791462),l=t(489992),o=t(53211),i=t(852007),d=t(368365),E=t(92374),u=t(896042),c=t(294334),_=t(461061);function m(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function N(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,r){if(!e)return;if("string"==typeof e)return m(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,r)}(e)||function(){
throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,r){var t=(0,c.Z)(null==e?void 0:e.id);return a.useMemo((function(){var n=null!=e?function(e,r){var t=new Set,n=!0,a=!1,s=void 0;try{for(var l,o=Object.keys(r.permissionOverwrites)[Symbol.iterator]();!(n=(l=o.next()).done);n=!0){var i=l.value,c=e.roles[i],m=r.permissionOverwrites[i];(0,E.Z)(c)&&(0,u.TG)(r,m)&&t.add(c)}}catch(e){a=!0;s=e}finally{try{n||null==o.return||o.return()}finally{if(a)throw s}}var f=e.getRole(e.id),h=null!=f&&!d.Z.has(f.permissions,_.Plq.VIEW_CHANNEL),T=(0,u.wB)(r,r.permissionOverwrites[e.id]);if(h&&!T){var C=!0,v=!1,L=void 0;try{for(var O,y=Object.values(e.roles)[Symbol.iterator]();!(C=(O=y.next()).done);C=!0){var M=O.value;(0,E.Z)(M)&&(0,u.MT)(M)&&t.add(M)}}catch(e){v=!0;L=e}finally{try{C||null==y.return||y.return()}finally{if(v)throw L}}}return N(t)}(e,r):[],a=0,s=!0,l=!1,o=void 0;try{
for(var i,c=n[Symbol.iterator]();!(s=(i=c.next()).done);s=!0){var m=i.value.id;if(null!=m){var f=null==t?void 0:t[m];null!=f&&(a+=f)}}}catch(e){l=!0;o=e}finally{try{s||null==c.return||c.return()}finally{if(l)throw o}}return a}),[t,e,r])}var h=t(217891),T=t(7046),C=t(3056),v=t(631134),L=t(653772),O=t(940712),y=t(191940),M=t(67416),x=t(959797),g=t(35379),A=t.n(g);const D=function(e){var r,t=e.channel,a=e.onClose,d=e.onConfirm,E=e.transitionState,u=(0,o.Z)(t,!0),c=t.id,m=t.isForumPost(),N=(0,s.e7)([L.Z],(function(){return L.Z.getGuild(t.getGuildId())})),g=(0,h.u1)(c),D=(0,i.Z)(t.id).isSubscriptionGated,p=f(N,t),Z=(0,s.e7)([v.default],(function(){return t.isOwner(v.default.getId())}),[t]),S=(0,s.e7)([O.Z],(function(){return O.Z.can(t.isThread()?_.Plq.MANAGE_THREADS:_.Plq.MANAGE_CHANNELS,t)}),[t]),I=(0,s.e7)([C.Z],(function(){return null!==(r=C.Z.getCount(t.id))&&void 0!==r?r:0}),[t.id]),b=m&&(S||Z&&I<1),j=g.length>0&&(t.type===_.d4z.GUILD_VOICE||t.type===_.d4z.GUILD_STAGE_VOICE)
;if(null==N||!N.hasFeature(_.oNc.COMMUNITY)||N.rulesChannelId!==c&&N.publicUpdatesChannelId!==c){var R=t.type===_.d4z.GUILD_CATEGORY?{deleteText:x.Z.Messages.DELETE_CATEGORY,deleteBody:x.Z.Messages.DELETE_CHANNEL_BODY.format({channelName:u})}:t.isForumPost()?{deleteText:b?x.Z.Messages.DELETE_FORUM_POST:x.Z.Messages.DELETE_MESSAGE,deleteBody:b&&Z&&!S?x.Z.Messages.DELETE_FORUM_POST_OP_CONFIRM_BODY.format({postName:u}):b?x.Z.Messages.DELETE_FORUM_POST_CONFIRM_BODY.format({postName:u}):x.Z.Messages.DELETE_FORUM_POST_OP_WITH_REPLIES_CONFIRM_BODY}:t.isThread()?{deleteText:x.Z.Messages.DELETE_THREAD,deleteBody:x.Z.Messages.DELETE_CHANNEL_BODY.format({channelName:u})}:D&&p>0?{deleteText:x.Z.Messages.DELETE_CHANNEL,deleteBody:x.Z.Messages.GUILD_ROLE_SUBSCRIPTIONS_DELETE_CHANNEL_BODY.format({channelName:u,numGuildRoleSubscriptionMembers:p})}:{deleteText:x.Z.Messages.DELETE_CHANNEL,deleteBody:x.Z.Messages.DELETE_CHANNEL_BODY.format({channelName:u})},B=R.deleteText,G=R.deleteBody;return(0,
n.jsxs)(M.Y0,{transitionState:E,"aria-label":B,children:[(0,n.jsx)(M.xB,{separator:!1,children:(0,n.jsx)(l.X6,{variant:"heading-lg/semibold",children:B})}),(0,n.jsxs)(M.hz,{className:A().modalContent,children:[(0,n.jsx)(l.xv,{variant:"text-md/normal",color:"header-primary",children:G}),j?(0,n.jsx)(l.xv,{variant:"text-md/normal",color:"header-secondary",className:A().warningText,children:x.Z.Messages.GUILD_EVENT_CHANNEL_DELETE_GUILD_EVENTS.format({count:g.length})}):null]}),(0,n.jsxs)(M.mz,{children:[(0,n.jsx)(y.Co,{onClick:d,color:y.Co.Colors.RED,children:B}),(0,n.jsx)(y.Co,{onClick:a,look:y.Co.Looks.LINK,color:y.Co.Colors.PRIMARY,children:x.Z.Messages.CANCEL})]})]})}var H=N.rulesChannelId===c?x.Z.Messages.DELETE_RULES_CHANNEL_BODY:x.Z.Messages.DELETE_UPDATES_CHANNEL_BODY;return(0,n.jsxs)(M.Y0,{transitionState:E,"aria-label":x.Z.Messages.CANNOT_DELETE_CHANNEL,children:[(0,n.jsx)(M.xB,{separator:!1,children:(0,n.jsx)(l.X6,{variant:"heading-lg/semibold",
children:x.Z.Messages.CANNOT_DELETE_CHANNEL})}),(0,n.jsxs)(M.hz,{children:[(0,n.jsx)(l.xv,{variant:"text-md/normal",className:A().modalText,children:H}),(0,n.jsx)(l.xv,{variant:"text-md/normal",className:A().modalText,children:x.Z.Messages.DESIGNATE_OTHER_CHANNEL.format({onClick:function(){T.Z.open(N.id,_.pNK.COMMUNITY);null==a||a()}})})]}),(0,n.jsx)(M.mz,{children:(0,n.jsx)(y.Co,{onClick:a,children:x.Z.Messages.OKAY})})]})}}}]);
//# sourceMappingURL=f8bc3b57c00d773fa548.js.map