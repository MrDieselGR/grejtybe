"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[2832],{955254:(e,t,n)=>{n.d(t,{q:()=>u});var r=n(675860),a=n(173436),s=n(133840),i=n(461061);function o(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){o(s,r,a,i,l,"next",e)}function l(e){o(s,r,a,i,l,"throw",e)}i(void 0)}))}}var c=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;(r=0,a)&&(s=[2&s[0],a.value]);switch(s[0]){
case 0:case 1:a=s;break;case 4:i.label++;return{value:s[1],done:!1};case 5:i.label++;r=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1];a=s;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(s);break}a[2]&&i.ops.pop();i.trys.pop();continue}s=t.call(e,i)}catch(e){s=[6,e];r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}};function u(e,t,n,r){return h.apply(this,arguments)}function h(){return(h=l((function(e,t,n,o){var l;return c(this,(function(c){switch(c.label){case 0:if(!s.Z.needsToFetchBuildSize(n))return[2];a.Z.dispatch({type:"APPLICATION_BUILD_SIZE_FETCH_START",buildId:n});c.label=1;case 1:c.trys.push([1,3,,4]);return[4,r.Z.post({url:i.ANM.APPLICATION_BUILD_SIZE(e,t,n),body:{manifest_ids:o},oldFormErrors:!0})];case 2:l=c.sent();a.Z.dispatch({
type:"APPLICATION_BUILD_SIZE_FETCH_SUCCESS",buildId:n,sizeKB:l.body.size_kb});return[3,4];case 3:c.sent();a.Z.dispatch({type:"APPLICATION_BUILD_SIZE_FETCH_FAIL",buildId:n});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},299767:(e,t,n)=>{n.d(t,{Bv:()=>a,DC:()=>s});var r=n(173436);function a(){r.Z.dispatch({type:"APPLICATION_STORE_ACCEPT_STORE_TERMS"})}function s(e){r.Z.dispatch({type:"APPLICATION_STORE_ACCEPT_EULA",eulaId:e})}},87993:(e,t,n)=>{n.d(t,{RY:()=>s,iD:()=>i,Tb:()=>o,ec:()=>l});var r=n(173436),a=n(150829);function s(e){a.Z.queryDirectory(e,(function(t,n){null==t&&null!=n&&r.Z.dispatch({type:"INSTALLATION_LOCATION_ADD",path:e,metadata:n})}))}function i(e){r.Z.dispatch({type:"INSTALLATION_LOCATION_REMOVE",path:e})}function o(e,t){var n=t.label,a=t.isDefault;r.Z.dispatch({type:"INSTALLATION_LOCATION_UPDATE",path:e,label:n,isDefault:a})}function l(e){var t={},n=0,s=!0,i=!1,o=void 0;try{for(var l,c=function(){var s=l.value
;if(null==s||"string"!=typeof s)return"continue";a.Z.queryDirectory(s,(function(a,i){++n;null==a&&null!=i&&(t[s]=i);n===e.length&&r.Z.dispatch({type:"INSTALLATION_LOCATION_FETCH_METADATA",metadataPayload:t})}))},u=e[Symbol.iterator]();!(s=(l=u.next()).done);s=!0)c()}catch(e){i=!0;o=e}finally{try{s||null==u.return||u.return()}finally{if(i)throw o}}}},655868:(e,t,n)=>{n.d(t,{Z:()=>C});var r=n(785893),a=n(667294),s=n(294184),i=n.n(s),o=n(791462),l=n(400055),c=n(146530),u=n(562181),h=n(897576),p=n(95467),f=n(461061),d=n(959797),A=n(725746),I=n.n(A);function P(e,t,n,r,a,s,i){try{var o=e[s](i),l=o.value}catch(e){n(e);return}o.done?t(l):Promise.resolve(l).then(r,a)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){P(s,r,a,i,o,"next",e)}function o(e){P(s,r,a,i,o,"throw",e)}i(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function T(e,t,n){
t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n;return e}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return O(e)}function b(e,t){return!t||"object"!==N(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function v(e,t){v=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return v(e,t)}var N=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var a=O(this).constructor;n=Reflect.construct(r,arguments,a)
}else n=r.apply(this,arguments);return b(this,n)}}var E=function(e,t){var n,r,a,s,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(s){return function(o){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&s[0]?r.return:s[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,s[1])).done)return a;(r=0,a)&&(s=[2&s[0],a.value]);switch(s[0]){case 0:case 1:a=s;break;case 4:i.label++;return{value:s[1],done:!1};case 5:i.label++;r=s[1];s=[0];continue;case 7:s=i.ops.pop();i.trys.pop();continue;default:if(!(a=i.trys,a=a.length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){i.label=s[1];break}if(6===s[0]&&i.label<a[1]){i.label=a[1];a=s;break}if(a&&i.label<a[2]){i.label=a[2];i.ops.push(s);break}a[2]&&i.ops.pop();i.trys.pop();continue}
s=t.call(e,i)}catch(e){s=[6,e];r=0}finally{n=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,o])}}},m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&v(e,t)}(a,e);var t=L(a);function a(){y(this,a);var e;(e=t.apply(this,arguments)).state={hasAcceptedTerms:!e.props.forceShow&&e.props.hasPreviouslyAcceptedTerms,hasAcceptedEULA:!e.props.forceShow&&e.props.hasPreviouslyAcceptedEULA,hasAcceptedWithdrawalWaiver:!1};e.handleToggleTermsAcceptance=function(t,n){e.setState({hasAcceptedTerms:n})};e.handleToggleEUWithdralWaiverAcceptance=function(t,n){e.setState({hasAcceptedWithdrawalWaiver:n})};e.handleToggleEULAAcceptance=function(t,n){e.setState({hasAcceptedEULA:n})};return e}var s=a.prototype;s.componentDidMount=function(){
this.props.onChange(this.hasAcceptedNeccessaryTerms(this.props,this.state))};s.componentDidUpdate=function(e,t){var n=this.hasAcceptedNeccessaryTerms(e,t),r=this.hasAcceptedNeccessaryTerms(this.props,this.state);r!==n&&this.props.onChange(r)};s.hasAcceptedNeccessaryTerms=function(e,t){return t.hasAcceptedTerms&&(null==e.eulaId||t.hasAcceptedEULA)&&(!e.showWithdrawalWaiver||t.hasAcceptedWithdrawalWaiver)};s.render=function(){var e=this.props,t=e.eulaId,a=e.applicationName,s=e.hasPreviouslyAcceptedTerms,o=e.hasPreviouslyAcceptedEULA,l=e.forceShow,A=e.disabled,P=e.className,y=e.checkboxLabel,O=e.checkboxClassname,b=e.checkboxLabelClassname,v=e.finePrint,N=e.showPricingLink,L=e.showWithdrawalWaiver,m=this.state,C=m.hasAcceptedTerms,S=m.hasAcceptedEULA,R=m.hasAcceptedWithdrawalWaiver;return l||!s||null!=t&&!o||L?(0,r.jsxs)("div",{className:P,children:[(0,r.jsx)(u.vw,{className:I().formTitle,children:L?d.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER:d.Z.Messages.BILLING_LEGAL_MUMBO_JUMBO
}),l||!s?(0,r.jsx)(c.Z,{type:c.Z.Types.INVERTED,value:C,onChange:this.handleToggleTermsAcceptance,disabled:A,className:i()(I().checkbox,O),children:(0,r.jsx)("div",{className:i()(I().checkboxLabel,b),children:null!=y?y:d.Z.Messages.BILLING_LEGAL_MUMBO_JUMBO_TERMS_LABEL.format({termsURL:f.EYA.TERMS,paidURL:f.EYA.PAID_TERMS})})}):null,null==t||!l&&o?null:(0,r.jsx)(c.Z,{type:c.Z.Types.INVERTED,value:S,onChange:this.handleToggleEULAAcceptance,disabled:A,className:I().checkbox,children:(0,r.jsx)("div",{className:I().checkboxLabel,children:d.Z.Messages.BILLING_THIRD_PARTY_EULA_LABEL.format({applicationName:a,onClick:function(e){(0,h.ZD)(_((function(){var e,a;return E(this,(function(s){switch(s.label){case 0:return[4,Promise.all([n.e(40532),n.e(71784),n.e(82089),n.e(86860),n.e(47007),n.e(45692),n.e(17126),n.e(66936),n.e(40455),n.e(45337),n.e(24055),n.e(83353),n.e(35596),n.e(20590),n.e(6345)]).then(n.bind(n,226838))];case 1:e=s.sent(),a=e.default;return[2,function(e){return(0,
r.jsx)(a,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))));r.forEach((function(t){T(e,t,n[t])}))}return e}({eulaId:t},e))}]}}))})));e.preventDefault()}})})}),null==v?null:(0,r.jsx)("div",{className:I().finePrint,children:v}),L?(0,r.jsxs)("div",{className:P,children:[(0,r.jsx)(c.Z,{type:c.Z.Types.INVERTED,value:R,onChange:this.handleToggleEUWithdralWaiverAcceptance,disabled:A,className:i()(I().checkbox,O),children:(0,r.jsx)("div",{className:i()(I().checkboxLabel,b),children:d.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER_CHECKBOX})}),(0,r.jsx)("div",{className:I().finePrint,children:d.Z.Messages.BILLING_ONLINE_PURCHASE_WAIVER_DISCLAIMER})]}):null,(0,r.jsx)("div",{className:I().finePrint,children:N&&(0,r.jsxs)(r.Fragment,{
children:["*",d.Z.Messages.BILLING_HOW_PRICING_WORKS.format({documentationLink:p.Z.getArticleURL(f.BhN.LOCALIZED_PRICING)})]})})]}):null};return a}(a.Component);const C=o.ZP.connectStores([l.Z],(function(e){var t=e.eulaId;return{hasPreviouslyAcceptedTerms:l.Z.hasAcceptedStoreTerms,hasPreviouslyAcceptedEULA:null!=t&&l.Z.hasAcceptedEULA(t)}}))(m)},657390:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(785893),a=(n(667294),n(294184)),s=n.n(a),i=n(545354),o=n.n(i);function l(e){var t=e.application,n=e.splashSize,a=e.className,i=e.overrideSplash,l=null!=i?i:t.getSplashURL(n),c=null!=l?"url(".concat(l,")"):void 0;return(0,r.jsx)("div",{className:s()(o().splashBackground,a),style:{backgroundImage:c}})}},432859:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(785893),a=n(667294),s=n(791462),i=n(87993),o=n(664252),l=n(962271),c=n(632895),u=n(371452),h=n(588641),p=n(959797),f=n(890339),d=n.n(f);function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e){
I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return I(e)}function P(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _(e,t){_=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return _(e,t)}var y=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function T(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var a=I(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return P(this,n)}}var O="select",b=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&_(e,t)}(n,e);var t=T(n);function n(){A(this,n);var e;(e=t.apply(this,arguments)).state={newInstallationPath:null};e.fetchedMetadataPaths=new Set;e.handleChange=function(t){t===O?h.default.showOpenDialog(["openDirectory"]).then((function(t){if(null!=t&&t.length>0){var n=t[0];e.setState({newInstallationPath:null!=e.props.installationPaths.find((function(e){return e.path===n}))?null:n});e.sendChange(n)}})):e.sendChange(t)};return e}var a=n.prototype;a.fetchAllDirectoryMetadata=function(){var e=this,t=this.props.installationPaths.map((function(e){return e.path})),n=this.state.newInstallationPath;null!=n&&t.push(n);t=t.filter((function(t){return!e.fetchedMetadataPaths.has(t)}));(0,i.ec)(t);var r=!0,a=!1,s=void 0;try{for(var o,l=t[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){
var c=o.value;this.fetchedMetadataPaths.add(c)}}catch(e){a=!0;s=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw s}}};a.componentDidMount=function(){this.fetchAllDirectoryMetadata()};a.componentDidUpdate=function(e){this.fetchAllDirectoryMetadata();this.props.requiredDiskKB===e.requiredDiskKB&&this.props.installationPathsMetadata===e.installationPathsMetadata||this.sendChange(this.props.value)};a.getOptions=function(){var e=this,t=this.props.installationPaths,n=this.state.newInstallationPath,r=t.map((function(t){var n=t.path,r=t.label;return{value:n,label:e.renderLabel(n,r)}}));null!=n&&r.push({value:n,label:this.renderLabel(n)});r.push({value:O,label:p.Z.Messages.APPLICATION_INSTALLATION_MODAL_SELECT_DIRECTORY});return r};a.hasEnoughDiskSpace=function(e){var t=this.props,n=t.requiredDiskKB,r=t.installationPathsMetadata,a=null!=r[e]?r[e].availableKB:null;return null==n||null==a||n<a};a.sendChange=function(e){var t=this.props,n=t.installationPathsMetadata;(0,
t.onChange)(e,null!=n[e]&&!1===n[e].hasPermission||!this.hasEnoughDiskSpace(e))};a.renderError=function(){var e=this.props,t=e.value,n=e.installationPathsMetadata;return null!=n[t]&&!1===n[t].hasPermission?(0,r.jsx)("div",{className:d().error,children:p.Z.Messages.APPLICATION_INSTALLATION_MODAL_NO_PERMISSION}):this.hasEnoughDiskSpace(t)?null:(0,r.jsx)("div",{className:d().error,children:p.Z.Messages.APPLICATION_INSTALLATION_MODAL_NOT_ENOUGH_SPACE})};a.renderLabel=function(e,t){var n=this.props.installationPathsMetadata,r=null!=t?t:e;return null!=n[e]&&null!=n[e].availableKB?p.Z.Messages.APPLICATION_INSTALLATION_MODAL_DIRECTORY_WITH_SPACE.format({path:r,size:(0,u.BU)(n[e].availableKB,{useKibibytes:!0})}):r};a.render=function(){var e=this.props,t=e.value,n=e.className,a=e.autoFocus;return(0,r.jsxs)("div",{className:n,children:[(0,r.jsx)(l.Z,{tag:"h5",children:p.Z.Messages.APPLICATION_INSTALLATION_MODAL_LOCATION}),(0,r.jsx)(c.q4,{autoFocus:a,options:this.getOptions(),value:t,
onChange:this.handleChange}),this.renderError()]})};return n}(a.PureComponent);const v=s.ZP.connectStores([o.Z],(function(){return{installationPaths:o.Z.installationPaths,installationPathsMetadata:o.Z.installationPathsMetadata}}))(b)},479091:(e,t,n)=>{n.d(t,{Z:()=>D});var r=n(785893),a=n(667294),s=n(791462),i=n(173436),o=n(237350),l=n(955254),c=n(299767),u=n(36347),h=n(956345),p=n(655868),f=n(432859),d=n(655695),A=n(800539),I=n(133840),P=n(400055),_=n(664252),y=n(191940),T=n(487502),O=n(693518),b=n(889373),v=n(770040),N=n(935406),L=n(461061),E=n(959797),m=n(5759),C=n.n(m);function S(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R(e){R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return R(e)}function g(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}
function Z(e,t){Z=Object.setPrototypeOf||function(e,t){e.__proto__=t;return e};return Z(e,t)}var M=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var n,r=R(e);if(t){var a=R(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return g(this,n)}}var w=function(){return[E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_1,E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_2,E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_3,E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_TITLE_4]},U=function(e){!function(e,t){
if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}});t&&Z(e,t)}(n,e);var t=B(n);function n(){S(this,n);var e;(e=t.apply(this,arguments)).state={confirmHeaderIndex:Math.floor(Math.random()*w().length),installPath:e.props.defaultInstallationPath,hasInstallPathError:!1,hasAcceptedNeccessaryTerms:!1};e.handleInstallPathChange=function(t,n){e.setState({installPath:t,hasInstallPathError:n})};e.handleInventoryClick=function(){h.Z.open(L.oAB.INVENTORY);e.props.onClose()};e.handleGoToLibrary=function(){(0,d.uL)(L.Z5c.APPLICATION_LIBRARY);e.props.onClose()};e.handleInstall=function(){var t=e.props,n=t.application,r=t.branchId,a=t.buildId,s=t.hasPreviouslyAcceptedStoreTerms,i=t.manifestIds,o=t.onClose,l=e.state,h=l.installPath,p=l.hasInstallPathError;s||(0,c.Bv)();null!=n.eulaId&&(0,c.DC)(n.eulaId);if(!p&&null!=a&&null!=i){u.LO({application:n,
branchId:r,buildId:a,manifestIds:i,installationPath:h,analyticsLocation:L.Sbl.APPLICATION_STORE_PAYMENT_MODAL});o();(0,d.uL)(L.Z5c.APPLICATION_LIBRARY)}};e.handlePurchaseTermsChange=function(t){e.setState({hasAcceptedNeccessaryTerms:t})};return e}var s=n.prototype;s.fetchInstallSize=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,s=e.buildSizeKB;null!=r&&null!=a&&null==s&&i.Z.wait((function(){(0,l.q)(t.id,n,r,a)}))};s.componentDidMount=function(){var e=this.props,t=e.application,n=e.branchId,r=e.buildId,a=e.manifestIds,s=e.sku;!e.isIAP&&(0,v._f)(s)&&(null==r||null==a?i.Z.wait((function(){return(0,o.l)(t.id,n)})):this.fetchInstallSize())};s.componentDidUpdate=function(e){this.props.buildId===e.buildId&&this.props.manifestIds===e.manifestIds||this.fetchInstallSize()};s.getHeaderBlurb=function(){var e=this.props,t=e.sku,n=e.application,r=e.isIAP
;if(t.isPreorder()&&null!=t.preorderReleaseAt)return E.Z.Messages.APPLICATION_STORE_PREORDER_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,date:t.preorderReleaseAt.format("MMMM DD")});if(r||[L.epS.DURABLE,L.epS.CONSUMABLE].includes(t.type))return E.Z.Messages.APPLICATION_ADDON_PURCHASE_CONFIRMATION_BLURB.format({applicationName:n.name,itemName:t.name});if(t.type===L.epS.BUNDLE)return E.Z.Messages.APPLICATION_STORE_BUNDLE_PURCHASE_CONFIRMATION_BLURB.format({name:t.name});var a=t.supportedOperatingSystems[0];return E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_UNSUPPORTED_OS.format({name:n.name,operatingSystem:(0,N.XK)(a)})};s.renderInstallationHeader=function(){var e=this.props.application;return(0,r.jsx)("div",{className:C().blurb,children:E.Z.Messages.APPLICATION_STORE_PURCHASE_CONFIRMATION_BLURB.format({name:e.name})})};s.renderInstallationBody=function(){
var e=this.props,t=e.isFetchingBuild,n=e.buildId,s=e.buildSizeKB,i=e.application,o=this.state,l=o.installPath,c=o.hasInstallPathError,u=o.hasAcceptedNeccessaryTerms;return(0,r.jsxs)(a.Fragment,{children:[(0,r.jsx)(f.Z,{className:C().installSelector,value:l,requiredDiskKB:s,onChange:this.handleInstallPathChange}),(0,r.jsx)(p.Z,{eulaId:i.eulaId,applicationName:i.name,onChange:this.handlePurchaseTermsChange,className:C().storeTerms}),(0,r.jsx)(b.C,{className:C().confirmButton,disabled:c||null==n||!u,onClick:this.handleInstall,submitting:t,color:y.Co.Colors.GREEN,children:E.Z.Messages.APPLICATION_STORE_PURCHASE_INSTALL_GAME})]})};s.renderGenericHeader=function(){return(0,r.jsx)("div",{className:C().blurb,children:this.getHeaderBlurb()})};s.renderBlurbBody=function(){var e,t=this.props,n=t.isIAP,s=t.sku,i=t.onClose;if(s.isPreorder()){e=E.Z.Messages.APPLICATION_PREORDER_PURCHASE_CONFIRMATION_BUTTON;i=this.handleGoToLibrary
}else e=n?E.Z.Messages.APPLICATION_IAP_PURCHASE_RETURN_TO_GAME:E.Z.Messages.OKAY;return(0,r.jsx)(a.Fragment,{children:(0,r.jsx)(y.Co,{className:C().confirmButton,onClick:i,children:e})})};s.renderBlurb=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,v._f)(t)||t.isPreorder()?this.renderGenericHeader():this.renderInstallationHeader()};s.renderBody=function(){var e=this.props,t=e.sku;return e.isIAP||!(0,v._f)(t)||t.isPreorder()?this.renderBlurbBody():this.renderInstallationBody()};s.render=function(){var e=this.props.application,t=this.state.confirmHeaderIndex;return(0,r.jsxs)(T.Z,{direction:T.Z.Direction.VERTICAL,align:T.Z.Align.CENTER,children:[(0,r.jsx)(O.Z,{game:e,className:C().icon,size:O.Z.Sizes.LARGE}),(0,r.jsx)("div",{className:C().header,children:w()[t]}),this.renderBlurb(),(0,r.jsx)("div",{className:C().divider}),this.renderBody()]})};return n}(a.Component);const D=s.ZP.connectStores([_.Z,I.Z,A.Z,P.Z],(function(e){
var t,n=e.application,r=A.Z.getActiveLibraryApplication(n.id);t=null!=r?r.id:n.id;var a=I.Z.getTargetBuildId(n.id,t);return{defaultInstallationPath:_.Z.defaultInstallationPath,branchId:t,isFetchingBuild:I.Z.isFetching(n.id,t),buildId:a,manifestIds:I.Z.getTargetManifests(n.id,t),buildSizeKB:null!=a?I.Z.getBuildSize(a):null,hasPreviouslyAcceptedStoreTerms:P.Z.hasAcceptedStoreTerms}}))(U)},654721:(e,t,n)=>{n.d(t,{Y:()=>s});var r=n(461061),a=n(959797);function s(e,t){if(e)return a.Z.Messages.APPLICATION_STORE_PURCHASE_IAP;switch(t){case r.epS.DURABLE_PRIMARY:return a.Z.Messages.APPLICATION_STORE_PURCHASE_APPLICATION;case r.epS.DURABLE:return a.Z.Messages.APPLICATION_STORE_PURCHASE_DLC;case r.epS.CONSUMABLE:return a.Z.Messages.APPLICATION_STORE_PURCHASE_CONSUMABLE;case r.epS.BUNDLE:return a.Z.Messages.APPLICATION_STORE_PURCHASE_BUNDLE}}}}]);
//# sourceMappingURL=dbba9aaea4fc6d5902ef.js.map