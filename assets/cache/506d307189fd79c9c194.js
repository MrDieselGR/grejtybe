(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[69343],{901961:(t,e,i)=>{t.exports=i.p+"b1d4c5e276e3aaa8ec41e6014dd572b2.svg"},593246:(t,e,i)=>{t.exports=i.p+"7d883ba72b5dbc0229f5d1980205ee34.svg"},937763:(t,e,i)=>{t.exports=i.p+"e843c51c0eec3801b70cae5c45ad343f.svg"},719401:(t,e,i)=>{t.exports=i.p+"c6ce0010471b65c0faeda6c53ab297bd.svg"},342856:(t,e,i)=>{t.exports=i.p+"70275fe3104cf1d3388586ad8ffd478e.svg"},358623:(t,e,i)=>{"use strict";i.d(e,{yD:()=>h,p0:()=>u,Qv:()=>p});var n=i(675860),o=i(173436),r=i(935406),a=i(461061);function s(t,e,i,n,o,r,a){try{var s=t[r](a),c=s.value}catch(t){i(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,i=arguments;return new Promise((function(n,o){var r=t.apply(e,i);function a(t){s(r,n,o,a,c,"next",t)}function c(t){s(r,n,o,a,c,"throw",t)}a(void 0)}))}}var l=function(t,e){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),
throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;(n=0,o)&&(r=[2&r[0],o.value]);switch(r[0]){case 0:case 1:o=r;break;case 4:a.label++;return{value:r[1],done:!1};case 5:a.label++;n=r[1];r=[0];continue;case 7:r=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}if(6===r[0]&&a.label<o[1]){a.label=o[1];o=r;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(r);break}o[2]&&a.ops.pop();a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t];n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}};function h(t){
var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];o.Z.wait((function(){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_START",applicationId:t})}));return n.Z.get({url:a.ANM.ENTITLEMENTS_FOR_APPLICATION(t),oldFormErrors:!0,query:{exclude_consumed:e}}).then((function(e){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_SUCCESS",applicationId:t,entitlements:e.body});return e.body})).catch((function(){o.Z.dispatch({type:"ENTITLEMENT_FETCH_APPLICATION_FAIL",applicationId:t})}))}function u(t){return d.apply(this,arguments)}function d(){return(d=c((function(t){var e,i,r,s,c,h;return l(this,(function(l){switch(l.label){case 0:e=t.withSku,i=void 0!==e&&e,r=t.withApplication,s=void 0!==r&&r,c=t.entitlementType;o.Z.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_START"});l.label=1;case 1:l.trys.push([1,3,,4]);return[4,n.Z.get({url:a.ANM.ENTITLEMENTS_FOR_USER,query:{with_sku:i,with_application:s,entitlement_type:c}})];case 2:h=l.sent();o.Z.dispatch({
type:"ENTITLEMENTS_FETCH_FOR_USER_SUCCESS",entitlements:h.body});return[3,4];case 3:l.sent();o.Z.dispatch({type:"ENTITLEMENTS_FETCH_FOR_USER_FAIL"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function p(){return f.apply(this,arguments)}function f(){return(f=c((function(){var t;return l(this,(function(e){switch(e.label){case 0:o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH"});e.label=1;case 1:e.trys.push([1,3,,4]);return[4,(0,r.Kb)({url:a.ANM.ENTITLEMENTS_GIFTABLE})];case 2:t=e.sent();o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_SUCCESS",entitlements:t.body});return[3,4];case 3:e.sent();o.Z.dispatch({type:"ENTITLEMENTS_GIFTABLE_FETCH_FAIL"});return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}},643791:(t,e,i)=>{"use strict";i.d(e,{I:()=>m,Z:()=>E});var n=i(496486),o=i.n(n),r=i(891153),a=i(832691),s=i(742269),c=i(588641);function l(t,e,i,n,o,r,a){try{var s=t[r](a),c=s.value}catch(t){i(t);return}s.done?e(c):Promise.resolve(c).then(n,o)}function h(t){
return function(){var e=this,i=arguments;return new Promise((function(n,o){var r=t.apply(e,i);function a(t){l(r,n,o,a,s,"next",t)}function s(t){l(r,n,o,a,s,"throw",t)}a(void 0)}))}}var u,d=function(t,e){var i,n,o,r,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(o=2&r[0]?n.return:r[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,r[1])).done)return o;(n=0,o)&&(r=[2&r[0],o.value]);switch(r[0]){case 0:case 1:o=r;break;case 4:a.label++;return{value:r[1],done:!1};case 5:a.label++;n=r[1];r=[0];continue;case 7:r=a.ops.pop();a.trys.pop();continue;default:if(!(o=a.trys,o=o.length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){a.label=r[1];break}
if(6===r[0]&&a.label<o[1]){a.label=o[1];o=r;break}if(o&&a.label<o[2]){a.label=o[2];a.ops.push(r);break}o[2]&&a.ops.pop();a.trys.pop();continue}r=e.call(t,a)}catch(t){r=[6,t];n=0}finally{i=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},p=[];function f(t){t=t.toLowerCase();(0,s.ED)()&&(t=(t=t.replace(/^[a-z]:/,"")).replace(/\\/g,"/"));return t}function v(t){if(null!=t&&""!==t){(t=f(t)).endsWith("/")||(t+="/");p.push(t)}}function m(t,e){t=f(t);var i=!1;p.forEach((function(e){if(!i&&t.startsWith(e)){t=t.substr(e.length);i=!0}}));i||(t=t.split("/").pop());e||(t=t.includes("dosbox.exe")?t.split("/").slice(-3).join("/"):t.split("/").slice(-2).join("/"));return t}function E(){return y.apply(this,arguments)}function y(){return(y=h((function(){var t,e,i;return d(this,(function(n){switch(n.label){case 0:if(null!=u)return[2,u];n.label=1;case 1:n.trys.push([1,4,,5]);return[4,c.default.ensureModule("discord_game_utils")];case 2:n.sent()
;return[4,c.default.requireModule("discord_game_utils")];case 3:u=n.sent();return[3,5];case 4:t=n.sent();new a.Z("GamesActionCreators").error("could not load discord_game_utils",t);return[3,5];case 5:if((0,s.ED)()){v((e=r.Z.process.env).LOCALAPPDATA);v(e["PROGRAMFILES(X86)"]);v(e.PROGRAMFILES);v(e.PROGRAMW6432);v(e.PROGRAMDATA);v("/games/")}return[4,(i=r.Z.remoteApp.getPath)("home")];case 6:v.apply(void 0,[n.sent()]);return[4,i("appData")];case 7:v.apply(void 0,[n.sent()]);return[4,i("desktop")];case 8:v.apply(void 0,[n.sent()]);return[4,i("documents")];case 9:v.apply(void 0,[n.sent()]);return[4,i("downloads")];case 10:v.apply(void 0,[n.sent()]);(p=o().uniq(p)).sort((function(t,e){return e.length-t.length}));return[2,u]}}))}))).apply(this,arguments)}},713237:(t,e,i)=>{"use strict";i.d(e,{a1:()=>x,R7:()=>C,O_:()=>S,WV:()=>b});var n=i(785893),o=i(667294),r=i(496486),a=i.n(r),s=i(468811),c=i.n(s),l=i(365523),h=i(959011),u=i(896538),d=i.n(u);function p(t,e){
(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1;n.configurable=!0;"value"in n&&(n.writable=!0);Object.defineProperty(t,n.key,n)}}function m(t,e,i){e&&v(t.prototype,e);i&&v(t,i);return t}function E(t){E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)};return E(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}});e&&R(t,e)}function _(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t,e){
R=Object.setPrototypeOf||function(t,e){t.__proto__=e;return t};return R(t,e)}function g(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,o,r=[],a=!0,s=!1;try{for(i=i.call(t);!(a=(n=i.next()).done);a=!0){r.push(n.value);if(e&&r.length===e)break}}catch(t){s=!0;o=t}finally{try{a||null==i.return||i.return()}finally{if(s)throw o}}return r}}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var I=function(t){
return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function w(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(t){return!1}}();return function(){var i,n=E(t);if(e){var o=E(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return _(this,i)}}var x;!function(t){t[t.PERCENT=0]="PERCENT";t[t.PIXELS=1]="PIXELS"}(x||(x={}));var C={sprites:[i(901961),i(593246),i(937763),i(719401),i(342856)],colors:["#FF73FA","#FFC0FF","#FFD836","#FF9A15","#A5F7DE","#51BC9D","#AEC7FF","#3E70DD"],fireCount:5,size:20,sizeSpread:7,angleSpread:180,velocity:10,velocitySpread:160,gravity:10};function T(t){return t*(Math.PI/180)}function P(t){var e=t.x,i=t.y,n=t.rectX,o=t.rectY,r=t.rectWidth,a=t.rectHeight;return e>n&&e<n+r&&i>o&&i<o+a}var M=function(){
function t(e){var i,n=e.cannonId,o=e.sourceX,r=void 0===o?0:o,a=e.sourceY,s=void 0===a?0:a,l=e.sourceWidth,h=void 0===l?0:l,u=e.sourceHeight,d=void 0===u?0:u,p=e.height,v=e.width,m=e.maxHeight,E=e.maxWidth,y=e.heightIncremental,_=void 0===y?0:y,R=e.widthIncremental,g=void 0===R?0:R,I=e.x,w=e.y,x=e.positionUnits,C=e.color,P=e.rotation,M=void 0===P?0:P,S=e.rotationIncremental,b=void 0===S?0:S,U=e.minRotation,A=void 0===U?0:U,L=e.maxRotation,k=void 0===L?0:L,O=e.rotationBounce,F=void 0!==O&&O,N=e.rotationBounceDuration,D=void 0===N?0:N,j=e.angle,z=void 0===j?0:j,B=e.velocity,G=void 0===B?0:B,H=e.skew,W=void 0===H?0:H,X=e.skewAngleIncremental,q=void 0===X?0:X,Z=e.opacity,V=void 0===Z?1:Z,Y=e.opacityIncremental,K=void 0===Y?0:Y,J=e.wind,Q=void 0===J?0:J,$=e.gravity,tt=void 0===$?0:$,et=e.dragCoefficient,it=void 0===et?0:et;f(this,t);this.id=c().v4();this.creationTime=Date.now();this.currentTime=Date.now();this.cannonId=n;this.rotationIncremental=b;this.rotation=M;this.minRotation=A
;this.maxRotation=k;this.rotationBounce=F;this.rotationBounceDuration=D;this.rotationTime=0;this.rotationTimeMultiplier=1;this.velocityY=G*(i=z,Math.cos(T(i)));this.velocityX=G*function(t){return Math.sin(T(t))}(z);this.width=v;this.height=p;this.widthOriginal=this.width;this.heightOriginal=this.height;this.maxWidth=E;this.maxHeight=m;this.widthIncremental=g;this.heightIncremental=_;this.skewAngle=0;this.skew=0;this.skewCoefficient=W;this.skewAngleIncremental=q;this.position={x:I,y:w};this.positionUnits=x;this.color=C;this.opacity=V;this.opacityIncremental=K;this.wind=Q;this.gravity=tt;this.dragCoefficient=it;this.nextUpdateVerticalForce=0;this.sourceX=r;this.sourceY=s;this.sourceWidth=h;this.sourceHeight=d}var e=t.prototype;e.update=function(t){
var e,i,n,o,r=Date.now(),a=(r-this.currentTime)/100,s=this.gravity*a,c=this.velocityX>0?-1:1,l=this.velocityY>0?-1:1,h=this.wind*this.dragCoefficient,u=Math.min(0!==h?h:s,this.dragCoefficient*this.velocityX*this.velocityX)*c,d=Math.min(s,this.dragCoefficient*this.velocityY*this.velocityY)*l;this.velocityY+=s+d+this.nextUpdateVerticalForce;this.velocityX+=h+u;this.width=Math.min(Math.max(this.width+this.widthIncremental*a,0),this.maxWidth);this.height=Math.min(Math.max(this.height+this.heightIncremental*a,0),this.maxHeight);this.position.x+=this.velocityX/t*a;this.position.y+=this.velocityY/t*a;if(this.rotationBounce){var p=this.maxRotation-this.minRotation,f=this.rotationTime+a*this.rotationTimeMultiplier;this.rotationTime=Math.min(Math.max(f,0),this.rotationBounceDuration);(this.rotationTime>=this.rotationBounceDuration||this.rotationTime<=0)&&(this.rotationTimeMultiplier*=-1);this.rotation=(e={timePassed:this.rotationTime,startValue:this.minRotation,changeInValue:p,
totalDuration:this.rotationBounceDuration},i=e.timePassed,n=e.startValue,o=e.changeInValue,(i/=e.totalDuration/2)<1?o/2*i*i+n:-o/2*(--i*(i-2)-1)+n)}else this.rotation+=this.rotationIncremental*a;this.skewAngle+=this.skewAngleIncremental;this.skew=Math.sin(this.skewAngle)*this.skewCoefficient;this.opacity=Math.min(Math.max(this.opacity+this.opacityIncremental*a,0),1);this.currentTime=r;this.nextUpdateVerticalForce=0};e.draw=function(t,e,i){e.save();e.setTransform(1,this.skew/i,0,1,this.position.x*(this.positionUnits===x.PIXELS?i:1),this.position.y*(this.positionUnits===x.PIXELS?i:1));e.translate(this.widthOriginal/2,this.heightOriginal/2);e.rotate(this.rotation/i);e.scale(this.width/this.widthOriginal,this.height/this.heightOriginal);e.translate(-this.widthOriginal/2,-this.heightOriginal/2);e.globalAlpha=this.opacity;e.drawImage(t,this.sourceX*i,this.sourceY*i,this.sourceWidth*i,this.sourceHeight*i,0,0,this.widthOriginal*i,this.heightOriginal*i);e.restore()}
;e.addVerticalForce=function(t){this.nextUpdateVerticalForce=t};t.drawSprite=function(t){var e=t.sprite,i=t.context,n=t.color,o=t.x,r=t.y,a=t.width,s=t.height;i.drawImage(e.image,o,r,a,s);if(null!=n){for(var c=i.getImageData(o,r,a,s),l=(0,h.oo)(n),u=0;u<c.data.length;u+=4){c.data[u]=l.r;c.data[u+1]=l.g;c.data[u+2]=l.b}i.putImageData(c,o,r)}};return t}(),S=function(t){y(i,t);var e=w(i);function i(){f(this,i);var t;(t=e.apply(this,arguments)).state={canvas:null};t._confetti=new Map;t._animationFrameRequestId=null;t._isUnmounted=!1;t.handleWindowMouseDown=function(e){var i=t.state.canvas,n=t.props.onClick;if(null!=i&&null!=n){var o=i.getBoundingClientRect();if(P({x:e.clientX,y:e.clientY,rectX:o.x,rectY:o.y,rectWidth:o.width,rectHeight:o.height})){var r=e.clientX-o.x,a=e.clientY-o.y,s=Array.from(t._confetti.entries()).find((function(t){var e=g(t,2),i=(e[0],e[1].confetti);return P({x:r,y:a,rectX:i.position.x,rectY:i.position.y,rectWidth:i.width,rectHeight:i.height})}))
;n(e,null!=s?s[1].confetti:null)}}};t.setCanvasSize=function(){var e=t.state.canvas;if(null!=e){var i=e.getBoundingClientRect(),n=i.width,o=i.height;e.width=n*t.devicePixelRatio;e.height=o*t.devicePixelRatio}};t.handleSetCanvas=function(e){t.setState({canvas:e})};t.handleTick=function(){if(!t._isUnmounted){var e=t.state.canvas;if(null!=e){var i=e.getContext("2d");if(null!=i){i.clearRect(0,0,e.width,e.height);t._confetti.forEach((function(e,n){e.confetti.update(t.devicePixelRatio);e.confetti.draw(e.spriteCanvas,i,t.devicePixelRatio);t.shouldDestroy(e.confetti)&&t._confetti.delete(n)}));if(t._confetti.size>0)t._animationFrameRequestId=window.requestAnimationFrame(t.handleTick);else{i.clearRect(0,0,e.width,e.height);t._animationFrameRequestId=null}}}}};t.handleAddConfetti=function(e,i){t._confetti.set(e.id,{confetti:e,spriteCanvas:i});null==t._animationFrameRequestId&&t.handleTick()};return t}var o=i.prototype;o.componentDidMount=function(){
window.addEventListener("resize",this.setCanvasSize);window.addEventListener("mousedown",this.handleWindowMouseDown)};o.componentWillUnmount=function(){this._isUnmounted=!0;window.removeEventListener("resize",this.setCanvasSize);window.removeEventListener("mousedown",this.handleWindowMouseDown)};o.componentDidUpdate=function(t,e){null!=this.state.canvas&&null==e.canvas&&this.setCanvasSize();if(null!=this.state.canvas&&this.state.canvas!==e.canvas){var i,n;null===(n=(i=this.props).onSetCanvasProps)||void 0===n||n.call(i,{canvas:this.state.canvas,setCanvasSize:this.setCanvasSize,addConfetti:this.handleAddConfetti})}};o.shouldDestroy=function(t){var e=this.state.canvas;return null!=e&&(t.velocityY>0&&t.position.y-t.height*this.devicePixelRatio>e.height||t.velocityX>0&&t.position.x-t.width*this.devicePixelRatio>e.width||t.velocityX<0&&t.position.x+t.width*this.devicePixelRatio<0||t.opacity<=0&&t.opacityIncremental<0)};o.render=function(){var t,e,i=this.state.canvas;return(0,
n.jsxs)(n.Fragment,{children:[null!=i?null===(e=(t=this.props).children)||void 0===e?void 0:e.call(t,{canvas:i,setCanvasSize:this.setCanvasSize,addConfetti:this.handleAddConfetti}):null,(0,n.jsx)("canvas",{className:this.props.className,ref:this.handleSetCanvas},"canvas")]})};m(i,[{key:"devicePixelRatio",get:function(){var t;return null!==(t=window.devicePixelRatio)&&void 0!==t?t:1}}]);return i}(o.Component),b=function(t){y(i,t);var e=w(i);function i(){f(this,i);var t,n;(t=e.apply(this,arguments))._spriteCanvas=null;t._interval=new l.Xp;t._spriteContext=null;t._fireCount=0;t._sprites=[];t._cachedDevicePixelRatio=null!==(n=window.devicePixelRatio)&&void 0!==n?n:0;t.setSpriteCanvasSize=function(){if(null!=t._spriteCanvas){var e=t.props,i=e.sizeSpread,n=e.colors,o=e.sprites,r=t.getMaxWidth(),a=t.getMaxHeight();t._spriteCanvas.width=(r+i+2)*Math.max(n.length,1)*t.devicePixelRatio;t._spriteCanvas.height=(a+i+2)*o.length*t.devicePixelRatio}};t.fireCannon=function(){
var e=t.props,i=e.delay,n=e.setCanvasSize;if(t._fireCount>=i&&t.shouldFire()){if(t.devicePixelRatio!==t._cachedDevicePixelRatio){n();t.setSpriteCanvasSize();t.drawSprites();t._cachedDevicePixelRatio=t.devicePixelRatio}t.addConfetti();t._fireCount++;t.shouldFire()||t.stopCannon()}else t.stopCannon()};t.handleSetSpriteCanvas=function(e){t._spriteCanvas=e;t.setSpriteCanvasSize()};return t}var o=i.prototype;o.componentDidMount=function(){this._spriteContext=this.spriteCanvas.getContext("2d");this.updateSprites();this.startCannon()};o.componentDidUpdate=function(t){if(t.firing!==this.props.firing){this.stopCannon();this.startCannon()}if(t.size!==this.props.size||t.maxHeight!==this.props.maxHeight||t.maxWidth!==this.props.maxWidth||t.sprites!==this.props.sprites||t.colors!==this.props.colors){this.setSpriteCanvasSize();this.updateSprites()}};o.componentWillUnmount=function(){this.stopCannon()};o.updateSprites=function(){var t=this,e=this.props.sprites.map((function(t){
var e=new Image,i="string"==typeof t?t:t.src,n="string"==typeof t||t.colorize;e.src=i;var o=new Promise((function(t){e.onload=function(){return t()}}));return{colorize:n,image:e,loadPromise:o}}));this._sprites=e.map((function(t){return{colorize:t.colorize,image:t.image}}));Promise.all(e.map((function(t){return t.loadPromise}))).then((function(){return t.drawSprites()}))};o.getMaxWidth=function(){var t=this.props,e=t.size,i=t.width,n=t.maxWidth,o=t.sizeSpread;return null!=n?n:(null!=i?i:e)+o};o.getMaxHeight=function(){var t=this.props,e=t.size,i=t.height,n=t.maxHeight,o=t.sizeSpread;return null!=n?n:(null!=i?i:e)+o};o.drawSprites=function(){var t=this,e=this._spriteContext;if(null!=e&&null!=this._spriteCanvas){var i=this.props.colors,n=this.getMaxWidth(),o=this.getMaxHeight();e.clearRect(0,0,this._spriteCanvas.width,this._spriteCanvas.height);this._sprites.forEach((function(r,a){var s=function(i,s){M.drawSprite({sprite:r,context:e,color:i,x:(n*s+2*s)*t.devicePixelRatio,
y:(o*a+2*a)*t.devicePixelRatio,width:n*t.devicePixelRatio,height:o*t.devicePixelRatio})};r.colorize?i.forEach((function(t,e){return s(t,e)})):s(null,0)}))}};o.startCannon=function(){var t=this.props,e=t.firing,i=t.interval;this._fireCount=0;e&&(0===i&&this._fireCount>0?this.fireCannon():this._interval.start(i,this.fireCannon))};o.stopCannon=function(){this._interval.stop()};o.shouldFire=function(){var t=this.props,e=t.firing,i=t.fireCount,n=t.delay;return e&&(-1===i||this._fireCount<i+n)};o.createConfetti=function(){
var t=this.props,e=t.id,i=t.canvas,n=t.position,o=t.positionSpread,r=t.positionUnits,s=t.angle,c=t.angleSpread,l=t.velocity,h=t.velocitySpread,u=t.size,d=t.width,p=t.height,f=t.heightIncremental,v=t.widthIncremental,m=t.minRotation,E=t.maxRotation,y=t.minRotationIncremental,_=t.maxRotationIncremental,R=t.rotationBounce,g=t.rotationBounceDuration,I=t.skew,w=t.skewSpread,C=t.skewAngleIncremental,T=t.skewAngleIncrementalSpread,P=t.sizeSpread,S=t.opacity,b=t.opacityIncremental,U=t.wind,A=t.gravity,L=t.dragCoefficient,k=t.colors,O=s-c/2,F=s+c/2,N=l-h,D=l+h,j=Math.max(0,(null!=d?d:u)-P),z=this.getMaxWidth(),B=Math.max(0,(null!=p?p:u)-P),G=this.getMaxHeight(),H=Math.max(0,u-P),W=Math.max(z,G),X=0!==v?null!=d?d:u:a().random(j,z),q=0!==f?null!=p?p:u:a().random(B,G),Z=a().random(H,W),V=I-w,Y=I+w,K=Math.max(0,C-T),J=C+T,Q=r===x.PERCENT?i.width*(n.x/100):n.x,$=r===x.PERCENT?i.height*(n.y/100):n.y,tt=r===x.PERCENT?i.width*(o.x/100):o.x,et=a().random(Q-tt,Q+tt),it=r===x.PERCENT?i.height*(o.y/100):o.y,nt=a().random($-it,$+it),ot=a().random(m,E),rt=a().random(y,_)*this.devicePixelRatio,at=k[a().random(k.length-1)],st=a().random(this._sprites.length-1),ct=this._sprites[st].colorize?a().random(k.length-1):0,lt={
cannonId:e,sourceWidth:z,sourceHeight:G,sourceX:ct*z+2*ct,sourceY:st*G+2*st,width:null!=d?X:Z,height:null!=p?q:Z,heightIncremental:f,widthIncremental:v,maxHeight:G,maxWidth:z,x:et,y:nt,positionUnits:r,color:at,rotation:ot,rotationIncremental:rt,minRotation:m,maxRotation:E,rotationBounce:R,rotationBounceDuration:g,angle:a().random(O,F),velocity:a().random(N,D)*this.devicePixelRatio,skew:a().random(V,Y)*this.devicePixelRatio,skewAngleIncremental:a().random(K,J)*this.devicePixelRatio,opacity:S,opacityIncremental:b,wind:U,gravity:A*this.devicePixelRatio,dragCoefficient:L*this.devicePixelRatio};return new M(lt)};o.addConfetti=function(){for(var t=this.props.addConfetti,e=0;e<this.props.count;e++){t(this.createConfetti(),this.spriteCanvas)}};o.render=function(){return(0,n.jsx)("canvas",{className:d().spriteCanvas,ref:this.handleSetSpriteCanvas},"sprite-canvas")};m(i,[{key:"spriteCanvas",get:function(){if(null==this._spriteCanvas)throw new Error("Unable to get sprite canvas")
;return this._spriteCanvas}},{key:"devicePixelRatio",get:function(){var t;return null!==(t=window.devicePixelRatio)&&void 0!==t?t:1}}]);return i}(o.Component);b.defaultProps={id:c().v4(),count:50,position:{x:50,y:100},positionSpread:{x:0,y:0},positionUnits:x.PERCENT,delay:0,fireCount:-1,firing:!0,angle:180,angleSpread:80,velocity:65,velocitySpread:50,size:12,heightIncremental:0,widthIncremental:0,sizeSpread:7,minRotation:0,maxRotation:359,minRotationIncremental:-.06,maxRotationIncremental:.06,rotationBounce:!1,rotationBounceDuration:10,skew:0,skewSpread:.5,skewAngleIncremental:.05,skewAngleIncrementalSpread:.01,opacity:1,opacityIncremental:0,wind:0,gravity:9.8,dragCoefficient:.001,interval:1e3/60}},420202:(t,e,i)=>{"use strict";i.d(e,{Rj:()=>l,JX:()=>h,ZP:()=>u});var n=i(785893),o=i(667294),r=i(468811),a=i.n(r),s=i(832010),c=i(461061),l=Object.freeze({PREMIUM_TIER_0:a().v4(),PREMIUM_TIER_1:a().v4(),PREMIUM_TIER_2:a().v4(),PREMIUM_GUILD:a().v4(),CREATOR_REVENUE:a().v4(),
PREMIUM_TRIAL_TUTORIAL:a().v4()}),h={PREMIUM_TIER_0:"url(#".concat(l.PREMIUM_TIER_0,")"),PREMIUM_TIER_1:"url(#".concat(l.PREMIUM_TIER_1,")"),PREMIUM_TIER_2:"url(#".concat(l.PREMIUM_TIER_2,")"),PREMIUM_GUILD:"url(#".concat(l.PREMIUM_GUILD,")"),CREATOR_REVENUE:"url(#".concat(l.CREATOR_REVENUE,")"),PREMIUM_TRIAL_TUTORIAL:"url(#".concat(l.PREMIUM_TRIAL_TUTORIAL,")")};const u=o.memo((function(){return(0,n.jsxs)("svg",{viewBox:"0 0 1 1",style:{position:"absolute",pointerEvents:"none",top:-1,left:-1,width:1,height:1},"aria-hidden":!0,children:[(0,n.jsxs)("linearGradient",{id:l.PREMIUM_TIER_0,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_1_BLUE)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_1_PURPLE)})]}),(0,n.jsxs)("linearGradient",{id:l.PREMIUM_TIER_1,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_1_BLUE)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_1_PURPLE)})]}),(0,n.jsxs)("linearGradient",{
id:l.PREMIUM_TIER_2,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS)}),(0,n.jsx)("stop",{offset:"0.502368",stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE_FOR_GRADIENTS_2)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_2_PINK_FOR_GRADIENTS)})]}),(0,n.jsxs)("linearGradient",{id:l.PREMIUM_GUILD,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.GUILD_BOOSTING_BLUE)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.GUILD_BOOSTING_PURPLE)})]}),(0,n.jsxs)("linearGradient",{id:l.CREATOR_REVENUE,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.CREATOR_REVENUE_START)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.CREATOR_REVENUE_END)})]}),(0,n.jsxs)("linearGradient",{id:l.PREMIUM_TRIAL_TUTORIAL,children:[(0,n.jsx)("stop",{stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_2_PURPLE)}),(0,n.jsx)("stop",{offset:"1",stopColor:(0,s.Lq)(c.Ilk.PREMIUM_TIER_2_PINK)})]})]})}),(function(){return!0}))}}]);
//# sourceMappingURL=506d307189fd79c9c194.js.map