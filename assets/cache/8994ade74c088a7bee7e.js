"use strict";(this.webpackChunkdiscord_app=this.webpackChunkdiscord_app||[]).push([[56002],{544934:(e,n,t)=>{t.d(n,{WO:()=>u,Lu:()=>l,ak:()=>a,bi:()=>r,tn:()=>c,hz:()=>s,sZ:()=>f,oQ:()=>d,_n:()=>p,Vd:()=>m,lr:()=>h,Mn:()=>v,al:()=>y});var r,i=t(780921),o=t(959797),u="True",l="False",a=[{name:u,displayName:u,value:"true"},{name:l,displayName:l,value:"false"}];!function(e){e.BUILT_IN="-1";e.FRECENCY="-2"}(r||(r={}));var c=10,s=5,f=25,d="\0",p=100,m=3,h=10,v=1;function y(e){if(null!=e.choices)return o.Z.Messages.COMMAND_VALIDATION_CHOICE_ERROR;switch(e.type){case i.jw.BOOLEAN:return o.Z.Messages.COMMAND_VALIDATION_BOOLEAN_ERROR;case i.jw.CHANNEL:return o.Z.Messages.COMMAND_VALIDATION_CHANNEL_ERROR;case i.jw.INTEGER:return o.Z.Messages.COMMAND_VALIDATION_INTEGER_ERROR;case i.jw.NUMBER:return o.Z.Messages.COMMAND_VALIDATION_NUMBER_ERROR;case i.jw.ROLE:return o.Z.Messages.COMMAND_VALIDATION_ROLE_ERROR;case i.jw.USER:return o.Z.Messages.COMMAND_VALIDATION_USER_ERROR;case i.jw.MENTIONABLE:
return o.Z.Messages.COMMAND_VALIDATION_MENTIONABLE_ERROR;default:return o.Z.Messages.COMMAND_VALIDATION_GENERAL_ERROR}}},573269:(e,n,t)=>{t.d(n,{vM:()=>E,ZP:()=>w,Cf:()=>j});var r=t(667294),i=t(717621),o=t.n(i),u=t(185253),l=t(791462),a=t(730189),c=t(959011),s=t(894827);function f(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function d(e,n,t,r,i,o,u){try{var l=e[o](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,i)}function p(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){d(o,r,i,u,l,"next",e)}function l(e){d(o,r,i,u,l,"throw",e)}u(void 0)}))}}function m(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){m(e,n,t[n])}))}return e}function v(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function y(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{
u||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||g(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,n){if(e){if("string"==typeof e)return f(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);return"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?f(e,n):void 0}}var O=function(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},
trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},_=(0,u.Z)((function(){
return{palette:{},fetching:{}}}));function E(e){return P.apply(this,arguments)}function P(){return(P=p((function(e){return O(this,(function(n){switch(n.label){case 0:return null!=_.getState().palette[e]?[2]:[4,S(e)];case 1:n.sent();return[2]}}))}))).apply(this,arguments)}function S(e){return T.apply(this,arguments)}function T(){return(T=p((function(e){var n,t;return O(this,(function(r){switch(r.label){case 0:if(_.getState().fetching[e])return[2];_.setState((function(n){return{fetching:v(h({},n.fetching),m({},e,!0))}}));r.label=1;case 1:r.trys.push([1,3,,4]);return[4,(0,s.OF)(e)];case 2:n=r.sent();t=(0,c.WY)(n[0]);_.setState((function(r){return{fetching:v(h({},r.fetching),m({},e,!1)),palette:v(h({},r.palette),m({},e,b(n.slice(0,2)).concat(b(t))))}}));return[3,4];case 3:r.sent();_.setState((function(n){return{fetching:v(h({},n.fetching),m({},e,!1))}}));return[3,4];case 4:return[2]}}))}))).apply(this,arguments)}function w(e,n){
var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=y(j(e,n,t),1),i=r[0];return i}function j(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=_((function(n){return null==e?void 0:n.palette[e]})),u=(0,l.e7)([a.Z],(function(){return t&&a.Z.desaturateUserColors?a.Z.saturation:1}));r.useEffect((function(){null!=e&&null==i&&S(e)}),[e,i]);var c=r.useMemo((function(){return null==i?void 0:i.map((function(e){var n=y(e,3),t=n[0],r=n[1],i=n[2],l=o()({r:t,g:r,b:i}).toHsl(),a=l.h,c=l.s,s=l.l;return o()({h:a,s:c*u,l:s}).toHexString()}))}),[i,u]);return null!=c?c:[n,n]}},160777:(e,n,t)=>{t.d(n,{D:()=>r});var r=(0,t(553494).B)({kind:"guild",id:"2022-06_marketplaces_guild",label:"Connections/Marketplace Guild Experiment",defaultConfig:{isGuildEligibleForConnectionsControls:!1},treatments:[{id:1,label:"Enables Connections Controls in Role Settings",config:{isGuildEligibleForConnectionsControls:!0}}]})},734754:(e,n,t)=>{t.d(n,{y:()=>d,Z:()=>p})
;var r=t(74971),i=t.n(r),o=t(120053),u=t.n(o),l=t(608575);function a(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){a(e,n,t[n])}))}return e}function s(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}
var f=["file:","javascript:","vbscript:","data:"];function d(e){try{var n,t=l.parse(e),r=null!==(n=t.protocol)&&void 0!==n?n:"";if(f.includes(r.toLowerCase()))throw new Error("bad protocol");if(null==t.hostname||0===t.hostname.length)throw new Error("no hostname");t.hostname=i().toASCII(t.hostname);return{displayTarget:l.format(s(c({},t),{auth:void 0})),target:l.format(t)}}catch(e){return null}}const p=s(c({},u().defaultRules.link),{match:function(e,n,t){return n.allowLinks?u().defaultRules.link.match(e,n,t):null},parse:function(e,n,t){var r=u().unescapeUrl(e[2]);if(!/^https?:\/\//i.test(r))return n(e[1],t);var i=d(r);if(null==i)return{type:"text",content:r};var o=i.target;return{content:n(e[1],t),target:o,title:e[3]}}})},761966:(e,n,t)=>{t.d(n,{Z:()=>Ee});var r=t(496486),o=t.n(r),u=t(120053),l=t.n(u),a=t(725616),c=t(53211),s=t(53551),f=t(356004),d=t(653772),p=t(940712),m=t(105405),h=t(859023),v=t(570992),y=t(742269);function b(e,n,t){n in e?Object.defineProperty(e,n,{value:t,
enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var g=/\n$/,O=function(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){b(e,n,t[n])}))}return e}({},l().defaultRules.heading),{match:function(e,n,t){return n.allowHeading&&(null==t||""===t||null!=t.match(g))?(0,
u.anyScopeRegex)(/^ *(#{1,3})(?:\s+)((?![#]+)[^\n]+?)#*\s*(?:\n|$)/)(e,n,t):null}});const _=O;var E=t(734754),P=t(441143),S=t.n(P);function T(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var w=/\n{2,}$/,j=/(?:^|\n)( *)$/,R="( *)((?:[*-]|\\d+\\.)) +",I=new RegExp("^"+R),A=new RegExp(R+"[^\\n]*(?:\\n(?!\\1"+"(?:[*-]|\\d+\\.) )[^\\n]*)*(\n|$)","gm"),C=/ *\n$/,N=new RegExp("^( *)((?:[*-]|\\d+\\.)) [\\s\\S]+?(?:\\n(?! )(?!\\1(?:[*-]|\\d+\\.) )|$)"),D=/^[ \t\v\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+$/,Z=function(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){T(e,n,t[n])}))}return e}({},l().defaultRules.list),{match:function(e,n){if(!n.allowList)return null;var t=null==n.prevCapture?"":n.prevCapture[0],r=j.exec(t);return null==r||D.test(r[0])?null:N.exec(e)},parse:function(e,n,t){var r=e[2],i=r.length>1,o=i?+r:void 0,u=e[0].replace(w,"\n").match(A);S()(null!=u,"markup list items can not be parsed.");var l=!1;return{ordered:i,start:o,items:u.map((function(e,r){var i=I.exec(e),o=null!=i?i[0].length:0,a=new RegExp("^ {1,"+o+"}","gm"),c=e.replace(a,"").replace(I,""),s=r===u.length-1,f=-1!==c.indexOf("\n\n")||s&&l;l=f;var d,p=t.inline,m=t._list;t._list=!0;if(f){t.inline=!1
;d=c.replace(C,"\n\n")}else{t.inline=!0;d=c.replace(C,"")}var h=n(d,t).map((function(e){"text"===e.type&&(e.content=e.content.replace(/\n+\s*$/,""));return e}));t.inline=p;t._list=m;return h}))}}});const M=Z;var x=t(330717),U=t(392115),L=t(331478);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function G(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function F(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1)
;"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var B={s:{match:l().inlineRegex(/^~~([\s\S]+?)~~(?!_)/)},highlight:{order:x.ZP.order,match:function(){return null}},emoji:{order:x.ZP.order,match:function(e){var n=a.Z.EMOJI_NAME_AND_DIVERSITY_RE.exec(e);return null!=n&&""!==a.Z.convertNameToSurrogate(n[1])?n:null},parse:function(e){var n=F(e,2),t=n[0],r=n[1],i=a.Z.convertNameToSurrogate(r);return null==i||""===i?{type:"text",content:t}:{name:":".concat(r,":"),surrogate:i,src:L.ZP.getURL(i)}}},customEmoji:{order:l().defaultRules.codeBlock.order,match:function(e){return/^<(a)?:(\w+):(\d+)>/.exec(e)},parse:function(e,n,t){var r=F(e,4),i=(r[0],
r[1]),o=r[2],u=r[3],l=t.guildId,a=U.Z.getDisambiguatedEmojiContext(l).getById(u),c=null==a||a.require_colons;null!=a&&(o=a.name);return{emojiId:u,name:c?":".concat(o,":"):o,animated:"a"===i}}},text:{parse:function(e){var n=a.Z.findInlineEmojisFromSurrogates(e[0]),t=0;return n.map((function(e){if("text"===e.type){var n={index:t,0:e.text};t+=e.text.length;return{type:"text",content:e.text,originalMatch:n}}var r={index:t,0:e.surrogate};t+=e.surrogate.length;return{type:"emoji",name:e.emojiName,surrogate:e.surrogate,src:L.ZP.getURL(e.surrogate),originalMatch:r}}))}},looseEm:function(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){G(e,n,t[n])}))}return e}({},l().defaultRules.em),{match:l().inlineRegex(new RegExp("^\\*(?=\\S)((?:\\*\\*|\\\\[\\s\\S]|\\s+(?:\\\\[\\s\\S]|[^\\s\\*\\\\]|\\*\\*)|[^\\s\\*\\\\])+?) {1,2}\\*(?!\\*)")),parse:function(e,n,t){return{type:"em",content:n(e[1],t),originalMatch:e}}})};const H=B;var V=t(909009),W=t(60334),J=t(461061),$=t(544934),z=t(959797);function Q(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Y(e){if(Array.isArray(e))return e}function K(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}
function q(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function X(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){K(e,n,t[n])}))}return e}function ne(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){
Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function te(e,n){return Y(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||ie(e,n)||X()}function re(e){return function(e){if(Array.isArray(e))return Q(e)}(e)||q(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,n){if(e){if("string"==typeof e)return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);return"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Q(e,n):void 0}}
var oe=/^( *>>> +([\s\S]*))|^( *>(?!>>) +[^\n]*(\n *>(?!>>) +[^\n]*)*\n?)/,ue=/^$|\n *$/,le=/^ *>>> ?/,ae=/^ *> ?/gm,ce=!(0,y.gn)();function se(e){var n=(0,E.y)(e[1]);return null==n?{type:"text",content:e[1]}:{type:"link",content:[{type:"text",content:n.displayTarget}],target:n.target,title:void 0}}var fe=function(e){var n=f.Z.getChannel(e);return null==n?void 0:n.getGuildId()},de={newline:l().defaultRules.newline,paragraph:l().defaultRules.paragraph,escape:l().defaultRules.escape,blockQuote:ne(ee({},l().defaultRules.blockQuote),{match:function(e,n){var t=n.prevCapture,r=n.inQuote,i=n.nested;return!ue.test(null!=t?t[0]:"")||r||i?null:oe.exec(e)},parse:function(e,n,t){var r=e[0],i=Boolean(le.exec(r)),o=i?le:ae,u=r.replace(o,""),l=t.inQuote||!1,a=t.inline||!1;t.inQuote=!0;i||(t.inline=!0);var c=n(u,t);t.inQuote=l;t.inline=a;0===c.length&&c.push({type:"text",content:" "});return{content:c,type:"blockQuote"}}}),link:E.Z,autolink:ne(ee({},l().defaultRules.autolink),{parse:se}),
url:ne(ee({},l().defaultRules.url),{match:function(e,n){if(!n.inline)return null;var t=/^((?:https?|steam):\/\/[^\s<]+[^<.,:;"'\]\s])/.exec(e);if(null!=t){for(var r=0,i=t[0],o=i.length-1;o>=0&&")"===i[o];o--){var u=i.indexOf("(",r);if(-1===u){i=i.slice(0,i.length-1);break}r=u+1}t[0]=t[1]=i}return t},parse:se}),strong:l().defaultRules.strong,em:l().defaultRules.em,u:l().defaultRules.u,br:l().defaultRules.br,text:x.ZP,inlineCode:l().defaultRules.inlineCode,emoticon:{order:x.ZP.order,match:function(e){return/^(¯\\_\(ツ\)_\/¯)/.exec(e)},parse:function(e){return{type:"text",content:e[1]}}},codeBlock:{order:l().defaultRules.codeBlock.order,match:function(e){return/^```(?:([a-z0-9_+\-.]+?)\n)?\n*([^\n][^]*?)\n*```/i.exec(e)},parse:function(e,n,t){var r,i;return{lang:null!==(r=e[1])&&void 0!==r?r:"",content:null!==(i=e[2])&&void 0!==i?i:"",inQuote:t.inQuote||!1}}},roleMention:{order:x.ZP.order,match:function(e){return/^<@&(\d+)>/.exec(e)},parse:function(e,n,t){var r=te(e,2),i=(r[0],r[1])
;if(t.returnMentionIds)return{type:"roleMention",id:i};var o=function(e){return null!=e.guildId?d.Z.getGuild(e.guildId):null!=e.channelId?d.Z.getGuild(fe(e.channelId)):null}(t),u=null!=o?o.roles[i]:null;return null==u?{type:"text",content:"@".concat(z.Z.Messages.DELETED_ROLE_PLACEHOLDER)}:{type:"mention",channelId:t.channelId,guildId:null!=o?o.id:null,roleId:i,roleColor:u.color,content:[{type:"text",content:"@".concat(u.name)}]}}},mention:{order:x.ZP.order,match:function(e){return/^<@!?(\d+)>|^(@(?:everyone|here))/.exec(e)},parse:function(e,n,t){if(t.returnMentionIds)return null==e[1]?{type:"mention",text:e[0]}:{type:"mention",id:e[1]};var r,i,o=h.default.getUser(e[1]),u=f.Z.getChannel(t.channelId);if(null!=o){i=o.id;r=o.toString();if(null!=u){var l;r=null!==(l=v.Z.getNickname(u.getGuildId(),t.channelId,o))&&void 0!==l?l:r}}return{userId:i,channelId:t.channelId,guildId:null==u?void 0:u.getGuildId(),roleName:e[2],content:[{type:"text",content:null!=r?"@".concat(r):e[0]}]}}},channel:{
order:x.ZP.order,match:function(e){return/^<#(\d+)>/.exec(e)},parse:function(e,n,t){if(t.returnMentionIds)return{type:"channel",id:e[1]};var r=f.Z.getChannel(e[1]),i=t.mentionChannels,o=null!=r?r.guild_id:null,u=null!=r?r.id:null,l=null!=r?(0,c.F)(r,h.default,m.Z):null,a=null!=i?i.find((function(n){return n.id===e[1]})):null;if(null!=a){o=a.guild_id;u=a.id;l=a.name}var d=null!=r&&((0,s.r8)(r.type)||ce&&(0,s.bw)(r.type));return null!=a||null!=r&&p.Z.can(J.Plq.VIEW_CHANNEL,r)&&d?{channelId:u,guildId:o,channelType:null==r?void 0:r.type,content:[{type:"text",content:"".concat(null!=l?l:z.Z.Messages.DELETED_CHANNEL_PLACEHOLDER)}]}:{type:"text",content:"#".concat(null!=l?l:z.Z.Messages.DELETED_CHANNEL_PLACEHOLDER)}}},commandMention:{order:l().defaultRules.text.order,match:function(e){
return RegExp("^<\\/((?:[-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?(?: [-_\\p{Letter}\\p{Number}\\p{sc=Deva}\\p{sc=Thai}]{1,32})?):(\\d+)>","u").exec(e)},parse:function(e,n,t){if(t.returnMentionIds)return{type:"commandMention",id:e[2]};var r,o=(Y(r=e[1].split(" "))||q(r)||ie(r,i)||X()).slice(1),u="".concat(e[2]).concat(re(o).map((function(e){return"".concat($.oQ).concat(e)})).join(""));return{channelId:t.channelId,commandId:e[2],commandName:e[1],commandKey:u,content:[{type:"text",content:"".concat(e[1])}]}}},emoji:{order:x.ZP.order,match:function(e){var n=a.Z.EMOJI_NAME_RE.exec(e);return null!=n&&""!==a.Z.convertNameToSurrogate(n[1])?n:null},parse:function(e){var n=a.Z.convertNameToSurrogate(e[1]);return{type:"text",content:null==n||""===n?":".concat(e[1],":"):n}}},customEmoji:{order:x.ZP.order,match:function(e){return/^<a?:(\w+):(\d+)>/.exec(e)},parse:function(e){return{type:"text",content:":".concat(e[1],":")
}}},timestamp:{order:x.ZP.order-1,match:function(e){return V.Ay.exec(e)},parse:function(e){var n=te(e,3),t=n[1],r=n[2];return(0,V.ZB)(t,r)}},s:{order:l().defaultRules.u.order,match:l().inlineRegex(/^~~([\s\S]+?)~~(?!_)/),parse:l().defaultRules.u.parse},spoiler:{order:x.ZP.order,match:function(e){return J.$92.exec(e)},parse:function(e,n,t){return{content:n(e[1],t),channelId:t.channelId}}},staticRouteLink:{order:x.ZP.order,match:function(e){return J.PEY.exec(e)},parse:function(e,n,t){return{content:[{type:"text",content:{home:z.Z.Messages.GUILD_HOME,browse:z.Z.Messages.CHANNEL_BROWSER_TITLE,customize:z.Z.Messages.CUSTOMIZE_COMMUNITY_TITLE}[e[1]]}],channelId:e[1],guildId:fe(t.channelId)}}},heading:_,list:M},pe=(0,W.Z)([de,H]),me=o().omit(pe,["inlineCode","codeBlock","br","blockQuote"]),he=o().omit(pe,["codeBlock","br","mention","channel","roleMention"]),ve=o().omit((0,W.Z)([pe,{inlineCode:{match:function(e,n,t){var r=pe.codeBlock.match(e,n,t);if(null!=r)return r
;var i=pe.inlineCode.match(e,n,t);return null!=i?i:void 0}}}]),["blockQuote","codeBlock","br"]),ye=o().omit(pe,["codeBlock","br","blockQuote"]),be=o().omit(pe,["codeBlock","br","mention","roleMention","channel","paragraph","newline"]),ge=o().omit(pe,["codeBlock","blockQuote","br"]);function Oe(e,n){return 0===e.length||(0===n||""===e.charAt(n-1).trim())}var _e=(0,W.Z)([{highlightWord:{order:-1,match:function(e,n){if(null==n.highlightWord)return null;var t=e.indexOf(n.highlightWord);if(-1===t)return null;var r=!Oe(e,t);if(r)do{t=e.indexOf(n.highlightWord,t+1);r=!Oe(e,t)}while(r&&-1!==t);if(-1===t)return null;var i=e.substring(0,t),o=e.substring(t+n.highlightWord.length);return[e,n.highlightWord,i,o]},parse:function(e,n,t){var r=n(e[2],t),i=n(e[3],t);return re(r).concat([{type:"highlight",content:e[1]}],re(i))}}},o().omit(pe,["url"])]);const Ee={RULES:pe,CHANNEL_TOPIC_RULES:me,EMBED_TITLE_RULES:he,INLINE_REPLY_RULES:ve,GUILD_VERIFICATION_FORM_RULES:ye,GUILD_EVENT_RULES:ge,
PROFILE_BIO_RULES:be,AUTO_MODERATION_SYSTEM_MESSAGE_RULES:_e}},330717:(e,n,t)=>{t.d(n,{T9:()=>o,ZP:()=>l});var r=t(120053);function i(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}var o=function(e){return new RegExp("^[\\s\\S]+?(?=".concat(e,"|[^0-9A-Za-z\\s\\u00ff-\\uffff]|\\n\\n| {2,}\\n|\\w+:\\S|[0-9]+\\.|$)"))},u=function(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}(function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){i(e,n,t[n])}))}return e}({},t.n(r)().defaultRules.text),{match:(0,r.anyScopeRegex)(/^[\s\S]+?(?=[^0-9A-Za-z\s\u00c0-\uffff]|\n\n| {2,}\n|\w+:\S|[0-9]+\.|$)/)});const l=u},909009:(e,n,t)=>{t.d(n,{Qh:()=>u,K_:()=>l,Ay:()=>c,ZB:()=>s,He:()=>f});var r=t(730381),i=t.n(r),o=t(493316),u={t:function(e){return(0,o.vc)(e,"LT")},T:function(e){return(0,o.vc)(e,"LTS")},d:function(e){return(0,o.vc)(e,"L")},D:function(e){return(0,o.vc)(e,"LL")},f:function(e){return(0,o.vc)(e,"LLL")},F:function(e){return(0,o.vc)(e,"LLLL")},R:function(e){var n=i().relativeTimeThreshold("s");i().relativeTimeThreshold("s",60);var t=i().relativeTimeThreshold("ss");i().relativeTimeThreshold("ss",-1);var r=i().relativeTimeThreshold("m");i().relativeTimeThreshold("m",60);var o=i()(e.toDate()).fromNow()
;i().relativeTimeThreshold("s",n);i().relativeTimeThreshold("ss",t);i().relativeTimeThreshold("m",r);return o}},l="f";Object.setPrototypeOf(u,null);var a=Object.keys(u).join("|"),c=new RegExp("^<t:(-?\\d{1,17})(?::(".concat(a,"))?>"));function s(e,n){var t=i()(1e3*Number(e));return{timestamp:e,format:n,parsed:t,full:u.F(t),formatted:(null!=n&&u[n]||u[l])(t)}}function f(e,n){return null!=n?"<t:".concat(e,":").concat(n,">"):"<t:".concat(e,">")}},60334:(e,n,t)=>{t.d(n,{Z:()=>o});function r(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));i.forEach((function(n){r(e,n,t[n])}))}return e}function o(e){var n={},t=!0,r=!1,o=void 0;try{
for(var u,l=e[Symbol.iterator]();!(t=(u=l.next()).done);t=!0){var a=u.value;for(var c in a)n[c]=c in n?i({},n[c],a[c]):i({},a[c])}}catch(e){r=!0;o=e}finally{try{t||null==l.return||l.return()}finally{if(r)throw o}}return n}},640753:(e,n,t)=>{t.d(n,{ZP:()=>Q});var r=t(496486),i=t.n(r),o=t(120053),u=t.n(o),l=t(725616),a=t(53211),c=t(761966),s=t(330717),f=t(577028),d=t(409271),p=t(356004),m=t(392115),h=t(1812),v=t(212218),y=t(653772),b=t(940712),g=t(105405),O=t(893321),_=t(859023),E=t(331478),P=t(461061),S=t(959797);function T(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function w(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){
return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){w(e,n,t[n])}))}return e}function R(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function I(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||C(e,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,n){if(e){if("string"==typeof e)return T(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);return"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?T(e,n):void 0}}function N(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(n[0]!==e)return null;var i=n.substr(e.length);return t.sortBy((function(e){return-e.text.length
})).filter((function(e){var t=e.text;return 1===n.toLowerCase().indexOf(t.toLowerCase())})).sortBy((function(e){return e.text===i?0:1})).map((function(n){var t=n.id,i=n.text;return[e+i,t,r]})).first()}function D(e){return{order:e.order,match:e.match,parse:function(n){return{type:e.type,content:n[0]}}}}function Z(e){return{match:u().anyScopeRegex(e),parse:function(e){return{type:"text",content:e[0]}}}}var M=c.Z.RULES,x=s.ZP,U=/^<@!?(\d+)>/,L=/^<@&(\d+)>/,k=/^<#(\d+)>/,G=/^<a?:(\w+):(\d+)>/,F={link:D(u().defaultRules.link),autolink:D(u().defaultRules.autolink),url:D(u().defaultRules.url),inlineCode:D(M.inlineCode),codeBlock:D(M.codeBlock),rawUserMention:Z(U),rawRoleMention:Z(L),rawChannelMention:Z(k),rawEmoji:Z(G),mention:{match:function(e,n,t){var r=t.split(" ").pop()+e;if(/^[^ ]+@[^ ]+\.[^ .]+/.test(r))return null;var i=N("@",e,n.users,"mention");if(i)return i;if(i=N("@",e,n.mentionableRoles,"roleMention"))return i;if(!(i=N("@",e,n.users.map((function(e){return R(j({},e),{
text:e.text.split("#")[0]})})),"mention")))return null;var o=/(@everyone|@here)\b/.exec(e);return null!=o&&i[0].length<=o[0].length?null:i},parse:function(e){var n=I(e,3),t=n[1],r=n[2],i="@";"roleMention"===r&&(i+="&");return{type:r,content:"<".concat(i).concat(t,">")}}},channel:{match:function(e,n){return N("#",e,n.channels)},parse:function(e){return{type:"text",content:"<#".concat(e[1],">")}}},emoticon:{match:function(e,n,t){if(!d.ev.getSetting())return null;if(0!==t.length&&!/\s$/.test(t))return null;var r=l.Z.EMOJI_SHORTCUT_RE.exec(e);return null==r||r[0].length!==e.length&&" "!==e[r[0].length]&&"\n"!==e[r[0].length]?null:r},parse:function(e){return{type:"emoticon",content:l.Z.convertShortcutToName(e[1]),isShortcut:!0}}},emoji:{order:M.emoji.order,match:function(e){return l.Z.EMOJI_NAME_RE.exec(e)},parse:function(e,n,t){var r=I(e,2),i=r[0],o=r[1],u=t.customEmoji,l=Object.prototype.hasOwnProperty.call(u,o)?u[o]:null;if(null!=l){var a;return{type:"customEmoticon",
content:"<".concat(!0===l.animated?"a":"",":").concat(null!==(a=l.originalName)&&void 0!==a?a:l.name,":").concat(l.id,">"),emoji:l}}return{type:"text",content:i}}},customEmoticons:{match:function(e,n){var t,r;return null!==(r=null===(t=n.customEmoticonsRegex)||void 0===t?void 0:t.exec(e))&&void 0!==r?r:null},parse:function(e,n,t){var r=I(e,2),i=r[0],o=r[1],u=t.emojiContext.getEmoticonByName(o);return null!=u?{type:"customEmoticon",content:"<".concat(!0===u.animated?"a":"",":").concat(u.name,":").concat(u.id,">"),emoji:u}:{type:"text",content:i}}},text:R(j({},x),{match:function(e,n){return"string"==typeof n.textExclusions&&""!==n.textExclusions?(0,s.T9)(n.textExclusions).exec(e):null!=x.match?x.match(e,n,""):null}})},B={inlineCode:D(M.inlineCode),codeBlock:D(M.codeBlock),mention:{match:u().anyScopeRegex(U),parse:function(e,n,t){var r=t.isNotification,i=_.default.getUser(e[1]),o=r&&O.Z.enabled||null==i?"":"#".concat(i.discriminator);return{
content:null==i?e[0]:"@".concat(i.username).concat(o)}}},roleMention:{match:u().anyScopeRegex(L),parse:function(e,n,t){var r=t.guild;if(null!=r){var i=r.roles[e[1]];if(null!=i)return{content:"@".concat(i.name)}}return{content:e[0]}}},channel:{match:u().anyScopeRegex(k),parse:function(e){var n=p.Z.getChannel(e[1]);return{content:null==n?e[0]:(0,a.F)(n,_.default,g.Z,!0)}}},emoji:{match:u().anyScopeRegex(G),parse:function(e,n,t){var r=I(e,3),i=(r[0],r[1]),o=r[2],u=t.guild,l=m.Z.getDisambiguatedEmojiContext(u?u.id:null).getById(o),a=null!=l?l.name:i;return{content:":".concat(a,":")}}},spoiler:{match:u().anyScopeRegex(P.$92),parse:function(){return{content:"<".concat(S.Z.Messages.SPOILER.toLowerCase(),">")}}},staticRouteLink:{match:u().anyScopeRegex(P.PEY),parse:function(e){return{content:"<id:".concat(e[1],">")}}},timestamp:R(j({},M.timestamp),{parse:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i=(r=M.timestamp).parse.apply(r,A(n));return{
content:i.formatted}}}),text:j({},x)};[F,B].forEach((function(e){Object.keys(e).forEach((function(n,t){e[n].order=t}))}));var H=u().parserFor(F),V=/(?:<a?:\w+:(\d+)>)|:(?:([^\s:]+?)(?:::skin-tone-\d)?:)/g;function W(e,n,t,r){var i="";e.forEach((function(e){!function(e,n,t){if(null!=t){"customEmoticon"===n.type&&t(n.emoji,!1);if("emoticon"===n.type||"text"===n.type)for(var r,i=l.Z.translateSurrogatesToInlineEmoji(n.content);null!==(r=V.exec(i));){var o=void 0;null!=r[1]&&""!==r[1]?e.emojiContext&&(o=e.emojiContext.getById(r[1])):o=l.Z.getByName(r[2]);o&&t(o,n.isShortcut||!1)}}}(n,e,r);if("string"==typeof e.content)switch(e.type){case"codeBlock":case"inlineCode":case"mention":case"roleMention":case"channel":case"emoji":i+=e.content;break;default:i+=t(e.content)}else e.content.constructor===Array?i+=W(e.content,n,t,r):console.warn("Unknown message item type: ",e)}));return i}function J(e,n,t){return W(H(e,n),n,l.Z.translateInlineEmojiToSurrogates,t)}function $(e){
var n,t=null==e?void 0:e.getGuildId(),r=null!=t?y.Z.getGuild(t):null,o=b.Z.can(P.Plq.MENTION_EVERYONE,e);n=(null==e?void 0:e.isPrivate())?e.recipients.map((function(e){return{userId:e,nick:null}})):null!=t?v.ZP.getMembers(t).map((function(e){return{userId:e.userId,nick:e.nick}})):[];var u=i()(n.reduce((function(e,n){var t=n.userId,r=_.default.getUser(t);if(null==r)return e;e.push({id:t,text:"".concat(r.username,"#").concat(r.discriminator)});return e}),[])),l=i()(null!=r?r.roles:{}).values().filter((function(e){var n=e.mentionable;return o||n})).map((function(e){return{id:e.id,text:e.name}})),a=f.Z.computeAllActiveJoinedThreads(null==e?void 0:e.guild_id).map((function(e){return{id:e.id,text:e.name}})),c=i()(h.ZP.getTextChannelNameDisambiguations(null==e?void 0:e.guild_id)).map((function(e){return{id:e.id,text:e.name}})),s=m.Z.getDisambiguatedEmojiContext(t),d=s.getEscapedCustomEmoticonNames(),p=s.getCustomEmoji(),g=s.getCustomEmoticonRegex();return{inline:!0,mentionableRoles:l,guild:r,
users:u,channels:c.concat(a),emojiContext:s,customEmoticonsRegex:g,customEmoji:p,textExclusions:d,disableErrorGuards:!0}}function z(e){return e}const Q={parse:function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=null!=t?t:$(e),i={content:n,tts:!1,invalidEmojis:[],validNonShortcutEmojis:[]};i.content=J(i.content,r,(function(n,t){E.ZP.isEmojiPremiumLocked(n,e,P.HzX.CHAT)?i.invalidEmojis.push(n):t||i.validNonShortcutEmojis.push(n)}));return i},parsePreprocessor:function(e,n){var t=$(e);return H(n,t)},unparse:function(e,n,t){var r=p.Z.getChannel(n),o=null!=r?r.getGuildId():null,a=null!=o?y.Z.getGuild(o):null,c=t?B:i().omit(B,["spoiler","timestamp"]),s=t?z:l.Z.translateSurrogatesToInlineEmoji,f={inline:!0,guild:a,isNotification:t};return W(u().parserFor(c)(e,f),f,s)}}},598627:(e,n,t)=>{t.d(n,{gc:()=>u,xQ:()=>l,Wx:()=>a,gd:()=>c,f$:()=>s});var r=t(667294),i=t(928676),o=t(212218);function u(e){return r.useMemo((function(){
var n=o.ZP.getMutableAllGuildsAndMembers(),t={};for(var r in n){var i,u=null===(i=n[r][e])||void 0===i?void 0:i.avatar;if(null!=u){null==t[u]&&(t[u]=[]);t[u].push(r)}}return null!=t?Object.entries(t).map((function(e){return e[1][0]})):[]}),[e])}function l(e,n){(0,i.Cf)(e===n?void 0:e)}function a(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return null!=e?""===e?{value:r?t:null,isUsingGuildValue:!1}:{value:e,isUsingGuildValue:r}:null!=n&&""!==n?{value:n,isUsingGuildValue:!0}:{value:t,isUsingGuildValue:!1}}function c(e,n){return void 0===e?null!=n:null!=e}function s(e,n){return void 0===e?null!=n:null!=e}},577028:(e,n,t)=>{t.d(n,{Z:()=>le});var r=t(496486),i=t.n(r),o=t(277563),u=t(791462),l=t(173436),a=t(461181),c=t(53551),s=t(356004),f=t(653772),d=t(718375),p=t(379822),m=t(973381),h=t(668479),v=t(346529);function y(e){if(null==e.threadMetadata)return 0;var n=60*e.threadMetadata.autoArchiveDuration*1e3;return function(e){if(null==e.threadMetadata)return 0
;var n,t=null!==(n=d.ZP.lastMessageId(e.id))&&void 0!==n?n:e.id,r=v.Z.extractTimestamp(t),i=null!=e.threadMetadata.archiveTimestamp?new Date(e.threadMetadata.archiveTimestamp).getTime():0;return Math.max(r,i)}(e)+n}var b=t(35236);function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function O(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return _(e)}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){O(e,n,t[n])}))}return e}function P(e,n){n=null!=n?n:{}
;Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function S(e,n){return!n||"object"!==w(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function T(e,n){T=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return T(e,n)}var w=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function j(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{
Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=_(e);if(n){var i=_(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return S(this,t)}}var R={},I={},A={},C={},N={},D=null,Z={};function M(){R={};C={};I={};A={};D=p.Z.getChannelId();for(var e in Z)clearTimeout(Z[e]);Z={};m.Z.forEachGuild((function(e){U(e)}));L()}function x(e){delete R[e];delete C[e];delete I[e];delete A[e];U(e);for(var n in A[e])G(e,n)}function U(e){var n=m.Z.getThreadsForGuild(e);for(var t in n)for(var r in n[t]){Y(r);var i=s.Z.getChannel(r);if(null!=i){var o=h.Z.joinTimestamp(r);if(null!=o){var u={channel:i,joinTimestamp:o.getTime()},l=z(i),a=l.isUnread,c=l.isRelevant,f=l.isTimedRelevant;K(R,i,u,!1);K(C,i,c?u:null,!1);K(I,i,a?u:null,!1);f&&Q(i,!0)}else K(A,i,i,!1)}}}function L(){N={};for(var e in A)for(var n in A[e])G(e,n)}function k(e){var n=s.Z.getBasicChannel(e)
;null!=n&&c.uC.has(n.type)&&G(n.guild_id,n.id)}function G(e,n){var t=s.Z.getChannel(n);if(null!=t&&t.isForumChannel()){null==N[e]&&(N[e]={});N[e][n]=0;if(null!=A[e]&&null!=A[e][n]){var r=f.Z.getGuild(e);if(null!=r){var i=d.ZP.getTrackedAckMessageId(n);if(null==i){var u=Date.now();null!=r.joinedAt&&(r.joinedAt instanceof Date?u=r.joinedAt.getTime():"string"==typeof r.joinedAt&&(u=new Date(r.joinedAt).getTime()));i=o.default.fromTimestamp(u)}for(var l in A[e][n])n===D?d.ZP.isNewForumThread(l,n,r)&&N[e][n]++:o.default.compare(l,i)>0&&!d.ZP.hasOpenedThread(l)&&N[e][n]++}}}}function F(e,n,t){if(null==n)return!1;var r=s.Z.getChannel(t),i=h.Z.joinTimestamp(t);if(null!=r&&m.Z.isActive(e,n,t)){if(null!=i){var o={channel:r,joinTimestamp:i.getTime()},u=z(r),l=u.isUnread,a=u.isRelevant,c=u.isTimedRelevant;K(R,r,o,!0);K(C,r,a?o:null,!0);K(I,r,l?o:null,!0);K(A,r,null,!0);Q(r,c)}else{K(R,r,null,!0);K(I,r,null,!0);K(C,r,null,!0);K(A,r,r,!0);Y(r.id)}G(e,n)}else{q(R,e,n,t);q(C,e,n,t);q(I,e,n,t)
;q(A,e,n,t);Y(t);G(e,n)}}function B(e){return F(e.channel.guild_id,e.channel.parent_id,e.channel.id)}function H(e,n){if(null==n)return!1;var t=R[e],r=null==t?null:t[n];if(null!=r)for(var i in r)if(r[i].channel.isNSFW())return!0;var o=A[e],u=null==o?null:o[n];if(null!=u)for(var l in u)if(u[l].isNSFW())return!0;return!1}function V(e){var n=s.Z.getChannel(e.id);return!(null==n||!m.Z.isActive(e.guildId,n.parent_id,e.id))&&F(n.guild_id,n.parent_id,n.id)}function W(e){var n=s.Z.getChannel(e.channelId);if(null==n)J();else{var t=n.guild_id,r=n.parent_id;if(!c.Ec.has(n.type)){var i;if(Number(null===(i=N[t])||void 0===i?void 0:i[n.id])>0){G(t,n.id);return!0}return!1}if(null==r)return!1;if(!X(R,n))return!1;var o=z(n),u=o.isUnread,l=o.isRelevant;Q(n,o.isTimedRelevant);var a=X(I,n),f=X(C,n);if(u===a&&l===f)return!1;var d=R[t][r][n.id],p=l?d:null;K(I,n,u?d:null,!0);K(C,n,p,!0);G(t,r)}}function J(){I={};C={};for(var e in R)for(var n in R[e])for(var t in R[e][n]){
var r=R[e][n][t],i=z(r.channel),o=i.isUnread,u=i.isRelevant,l=i.isTimedRelevant;o&&K(I,r.channel,r,!1);u&&K(C,r.channel,r,!1);Q(r.channel,l)}L()}function $(){var e=D;if((D=p.Z.getChannelId())===e)return!1;k(e);k(D)}function z(e){var n=d.ZP.getMentionCount(e.id)>0,t=d.ZP.hasRelevantUnread(e)&&(!h.Z.isMuted(e.id)||n)||(0,a.c)()&&n,r=e.hasFlag(b.zZ.PINNED),i=e.isActiveThread(),o=i&&y(e)>Date.now();return{isUnread:(i||r)&&t,isRelevant:o||r||t,isTimedRelevant:o}}function Q(e,n){Y(e.id);n&&function(e){Z[e.id]=setTimeout((function(){var n=s.Z.getChannel(e.id);null!=n&&l.Z.dispatch({type:"THREAD_UPDATE",channel:n})}),y(e)-Date.now()+1)}(e)}function Y(e){if(e in Z){clearTimeout(Z[e]);delete Z[e]}}function K(e,n,t,r){var o=n.guild_id,u=n.parent_id,l=n.id;if(null!=o&&null!=u&&null!=l){o in e||(e[o]={});u in e[o]||(e[o][u]={});r&&(e[o]=P(E({},e[o]),O({},u,E({},e[o][u]))));if(null===t){delete e[o][u][l];i().isEmpty(e[o][u])&&delete e[o][u]}else e[o][u][l]=t}}function q(e,n,t,r){
if(null!=n&&null!=t&&null!=r&&ee(e,n,t,r)){e[n]=P(E({},e[n]),O({},t,E({},e[n][t])));delete e[n][t][r];i().isEmpty(e[n][t])&&delete e[n][t]}}function X(e,n){return ee(e,n.guild_id,n.parent_id,n.id)}function ee(e,n,t,r){return n in e&&t in e[n]&&r in e[n][t]}var ne={},te={},re={},ie={},oe={},ue=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&T(e,n)}(t,e);var n=j(t);function t(){g(this,t);return n.apply(this,arguments)}var r=t.prototype;r.initialize=function(){this.waitFor(m.Z,s.Z,h.Z,d.ZP);this.syncWith([p.Z],$)};r.hasActiveJoinedUnreadThreads=function(e,n){return e in I&&n in I[e]};r.getActiveUnjoinedThreadsForParent=function(e,n){var t;return e in A&&null!==(t=A[e][n])&&void 0!==t?t:ie};r.getActiveJoinedThreadsForParent=function(e,n){var t;return e in R&&null!==(t=R[e][n])&&void 0!==t?t:re}
;r.getActiveJoinedThreadsForGuild=function(e){var n;return null!==(n=R[e])&&void 0!==n?n:ne};r.getActiveJoinedUnreadThreadsForGuild=function(e){var n;return null!==(n=I[e])&&void 0!==n?n:ne};r.getActiveJoinedUnreadThreadsForParent=function(e,n){var t;return null!==(t=this.getActiveJoinedUnreadThreadsForGuild(e)[n])&&void 0!==t?t:re};r.getActiveJoinedRelevantThreadsForGuild=function(e){var n;return null!==(n=C[e])&&void 0!==n?n:ne};r.getActiveJoinedRelevantThreadsForParent=function(e,n){var t;return null!==(t=this.getActiveJoinedRelevantThreadsForGuild(e)[n])&&void 0!==t?t:re};r.getActiveUnjoinedThreadsForGuild=function(e){var n;return null!==(n=A[e])&&void 0!==n?n:te};r.getNewThreadCountsForGuild=function(e){var n;return null!==(n=N[e])&&void 0!==n?n:oe};r.computeAllActiveJoinedThreads=function(e){var n=[];for(var t in R)if(t===e||null==e)for(var r in R[t])for(var i in R[t][r])n.push(R[t][r][i].channel);return n};r.getNewThreadCount=function(e,n){var t,r
;return null!==(r=null===(t=N[e])||void 0===t?void 0:t[n])&&void 0!==r?r:0};r.getActiveThreadCount=function(e,n){var t,r,o,u;return i().size(null!==(o=null===(t=R[e])||void 0===t?void 0:t[n])&&void 0!==o?o:{})+i().size(null!==(u=null===(r=A[e])||void 0===r?void 0:r[n])&&void 0!==u?u:{})};r.__getLocalVars=function(){return{activeJoinedThreads:R,activeJoinedUnreadThreads:I,activeUnjoinedThreads:A,activeJoinedRelevantThreads:C,newThreadCounts:N,selectedChannelId:D,timers:Z,NO_GUILD_UNJOINED_THREADS:te,NO_JOINED_THREADS:re,NO_UNJOINED_THREADS:ie,NO_NEW_THREADS:oe}};return t}(u.ZP.Store);ue.displayName="ActiveJoinedThreadsStore";const le=new ue(l.Z,{CONNECTION_OPEN:M,OVERLAY_INITIALIZE:M,THREAD_LIST_SYNC:function(e){return x(e.guildId)},LOAD_THREADS_SUCCESS:M,LOAD_ARCHIVED_THREADS_SUCCESS:M,SEARCH_FINISH:M,GUILD_CREATE:function(e){return x(e.guild.id)},GUILD_DELETE:M,CURRENT_USER_UPDATE:M,THREAD_CREATE:B,THREAD_UPDATE:B,THREAD_DELETE:B,CHANNEL_UPDATES:function(e){
var n=e.updates,t=!0,r=!1,i=void 0;try{for(var o,u=n[Symbol.iterator]();!(t=(o=u.next()).done);t=!0){var l=o.value;if(l.channel.isNSFW()!==H(l.channel.guild_id,l.channel.parent_id)){M();return}}}catch(e){r=!0;i=e}finally{try{t||null==u.return||u.return()}finally{if(r)throw i}}return!1},CHANNEL_DELETE:function(e){var n=e.channel,t=!1;if(null!=n.guild_id&&null!=n.parent_id){if(n.guild_id in R&&n.parent_id in R[n.guild_id]){delete R[n.guild_id][n.parent_id];t=!0}if(n.guild_id in I&&n.parent_id in I[n.guild_id]){delete I[n.guild_id][n.parent_id];t=!0}if(n.guild_id in C&&n.parent_id in C[n.guild_id]){Object.keys(C[n.guild_id][n.parent_id]).forEach(Y);delete C[n.guild_id][n.parent_id];t=!0}if(n.guild_id in A&&n.parent_id in A[n.guild_id]){delete A[n.guild_id][n.parent_id];t=!0}t&&G(n.guild_id,n.parent_id)}return t},THREAD_MEMBER_UPDATE:V,THREAD_MEMBERS_UPDATE:V,LOAD_MESSAGES_SUCCESS:W,MESSAGE_CREATE:W,MESSAGE_DELETE:W,MESSAGE_DELETE_BULK:W,MESSAGE_ACK:W,CHANNEL_ACK:W,CHANNEL_LOCAL_ACK:W,
CHANNEL_SELECT:function(e){W(e);$()},PASSIVE_UPDATE_V1:function(e){null!=e.channels&&J()},WINDOW_FOCUS:J,UPDATE_CHANNEL_DIMENSIONS:J,DRAWER_OPEN:J,DRAWER_CLOSE:J,BULK_ACK:J})},928676:(e,n,t)=>{t.d(n,{Z:()=>y,ev:()=>g,pG:()=>O,g_:()=>_,Cf:()=>E,ID:()=>P,CM:()=>S,z5:()=>T,c_:()=>w,f4:()=>j,rf:()=>R});var r=t(675860),i=t(173436),o=t(640753),u=t(409271),l=t(859023),a=t(932847),c=t(461061),s=t(298716);function f(e,n,t,r,i,o,u){try{var l=e[o](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,i)}function d(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){f(o,r,i,u,l,"next",e)}function l(e){f(o,r,i,u,l,"throw",e)}u(void 0)}))}}function p(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t)
;"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){p(e,n,t[n])}))}return e}var h=function(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}
if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}};function v(e){a.default.track(c.rMx.PREMIUM_FEATURE_TRY_OUT,{feature_name:e,feature_tier:s.h1.PREMIUM_STANDARD})}function y(e,n){return b.apply(this,arguments)}function b(){return(b=d((function(e,n){var t,a,s,f;return h(this,(function(d){switch(d.label){case 0:if(null==(a=null===(t=l.default.getCurrentUser())||void 0===t?void 0:t.id))return[2];s=u.dN.getSetting();null!=e.bio&&s&&(e.bio=o.ZP.parse(void 0,e.bio).content);return[4,r.Z.patch({url:null!=n?c.ANM.GUILD_PROFILE(n,c.ME):c.ANM.USER_PROFILE(c.ME),body:e})];case 1:(f=d.sent()).ok?i.Z.dispatch(m({type:"USER_PROFILE_UPDATE_SUCCESS",userId:a},f.body)):i.Z.dispatch({type:"USER_PROFILE_UPDATE_FAILURE",errors:f.body})
;return[2,f]}}))}))).apply(this,arguments)}function g(){i.Z.dispatch({type:"USER_PROFILE_ACCESSIBILITY_TOOLTIP_VIEWED"})}function O(){i.Z.dispatch({type:"USER_SETTINGS_RESET_PENDING_PROFILE_CHANGES"})}function _(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_BANNER",banner:e})}function E(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_BIO",bio:e})}function P(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_PRONOUNS",pronouns:e})}function S(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_ACCENT_COLOR",color:e})}function T(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_PENDING_THEME_COLORS",themeColors:e})}function w(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_AVATAR",avatar:e});v(s.QP.ANIMATED_AVATAR)}function j(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_BANNER",banner:e});v(s.QP.PROFILE_BANNER)}function R(e){i.Z.dispatch({type:"USER_SETTINGS_ACCOUNT_SET_TRY_IT_OUT_THEME_COLORS",themeColors:e})
;v(s.QP.PROFILE_THEME_COLOR)}},36391:(e,n,t)=>{t.d(n,{Z:()=>Z});var r=t(496486),i=t.n(r),o=t(791462),u=t(173436),l=t(332233),a=t(363181),c=t(948571),s=t(653772),f=t(962564),d=t(784238);function p(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function m(e,n,t){n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t;return e}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return h(e)}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))));r.forEach((function(n){m(e,n,t[n])}))}return e}function y(e,n){n=null!=n?n:{};Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e,n){
var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})));t.push.apply(t,r)}return t}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}));return e}function b(e,n){return!n||"object"!==O(n)&&"function"!=typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function g(e,n){g=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return g(e,n)}var O=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function _(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){
var t,r=h(e);if(n){var i=h(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return b(this,t)}}var E=new Set,P=new Set,S={},T={},w={},j={},R={},I={},A=!1;function C(){if(0===Object.keys(I).length)return!1;I={}}function N(e){if(null==I[e.user.id])return!1;delete I[e.user.id]}var D=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&g(e,n)}(t,e);var n=_(t);function t(){p(this,t);return n.apply(this,arguments)}var r=t.prototype;r.initialize=function(){this.waitFor(d.Z)};r.isFetchingProfile=function(e){return E.has(e)};r.isFetchingFriends=function(e){return P.has(e)};r.getUserProfile=function(e){return S[e]};r.getGuildMemberProfile=function(e,n){var t;return null==n?null:null===(t=T[e])||void 0===t?void 0:t[n]};r.getMutualFriends=function(e){return j[e]}
;r.getMutualFriendsCount=function(e){return R[e]};r.getMutualGuilds=function(e){return I[e]};r.getUserProfileThemeExperimentBucket=function(e){var n;return null!==(n=w[e])&&void 0!==n?n:-1};r.getIsAccessibilityTooltipViewed=function(){return A};r.__getLocalVars=function(){return{fetchingProfile:E,fetchingFriends:P,userProfiles:S,guildMemberProfiles:T,userProfileThemeExperimentBuckets:w,mutualFriends:j,mutualFriendsCounts:R,mutualGuilds:I,isAccessibilityTooltipViewed:A}};return t}(o.ZP.Store);D.displayName="UserProfileStore";const Z=new D(u.Z,{USER_PROFILE_FETCH_START:function(e){var n=e.userId;E.add(n)},USER_PROFILE_FETCH_FAILURE:function(e){var n,t=e.userId;S[t]=null!==(n=S[t])&&void 0!==n?n:{connectedAccounts:[],applicationRoleConnections:[],premiumSince:null,premiumGuildSince:null,lastFetched:Date.now(),profileFetchFailed:!0,application:null,userId:t,banner:null,accentColor:null,bio:"",pronouns:""};E.delete(t)},USER_PROFILE_FETCH_SUCCESS:function(e){var n,t,r,i,o,u,c,f
;E.delete(e.user.id);if(null!=e.mutual_guilds){var p={};e.mutual_guilds.forEach((function(e){var n=e.id,t=e.nick,r=s.Z.getGuild(n);null!=r&&(p[n]={guild:r,nick:t})}));I[e.user.id]=d.Z.getFlattenedGuilds().filter((function(e){return null!=p[e.id]})).map((function(e){return{guild:p[e.id].guild,nick:p[e.id].nick}}))}if(null!=e.mutual_friends_count){var h=e.mutual_friends_count;R[e.user.id]=h}var v,y,b,g,O=null!==(f=e.premium_since)&&void 0!==f?f:null,_=e.application,P=null;if(null!=(null===(n=e.user_profile)||void 0===n?void 0:n.emoji)){var j;P=new a.Z(null===(j=e.user_profile)||void 0===j?void 0:j.emoji)}S[e.user.id]={userId:e.user.id,banner:null===(t=e.user_profile)||void 0===t?void 0:t.banner,accentColor:null===(r=e.user_profile)||void 0===r?void 0:r.accent_color,emoji:P,themeColors:null===(i=e.user_profile)||void 0===i?void 0:i.theme_colors,popoutAnimationParticleType:null===(o=e.user_profile)||void 0===o?void 0:o.popout_animation_particle_type,
bio:null!==(v=null===(u=e.user_profile)||void 0===u?void 0:u.bio)&&void 0!==v?v:"",pronouns:null!==(y=null===(c=e.user_profile)||void 0===c?void 0:c.pronouns)&&void 0!==y?y:"",connectedAccounts:null!==(b=e.connected_accounts.filter((function(e){return l.Z.isSupported(e.type)})))&&void 0!==b?b:[],applicationRoleConnections:null!==(g=e.application_role_connections)&&void 0!==g?g:[],premiumSince:null!=O?new Date(O):null,premiumType:e.premium_type,premiumGuildSince:null!=e.premium_guild_since?new Date(e.premium_guild_since):null,lastFetched:Date.now(),profileFetchFailed:!1,application:null!=_?{id:_.id,primarySkuId:_.primary_sku_id,customInstallUrl:_.custom_install_url,installParams:_.install_params,flags:_.flags,popularApplicationCommandIds:_.popular_application_command_ids}:null};if(null!=e.guild_member_profile){var A,C,N={userId:e.user.id,guildId:e.guild_member_profile.guild_id,banner:e.guild_member_profile.banner,accentColor:e.guild_member_profile.accent_color,
emoji:null!=e.guild_member_profile.emoji?new a.Z(e.guild_member_profile.emoji):null,themeColors:null===(A=e.guild_member_profile)||void 0===A?void 0:A.theme_colors,popoutAnimationParticleType:null===(C=e.guild_member_profile)||void 0===C?void 0:C.popout_animation_particle_type,bio:e.guild_member_profile.bio,pronouns:e.guild_member_profile.pronouns};null!=T[e.user.id]?T[e.user.id][e.guild_member_profile.guild_id]=N:T[e.user.id]=m({},e.guild_member_profile.guild_id,N)}w[e.user.id]=e.profile_themes_experiment_bucket},USER_PROFILE_UPDATE_SUCCESS:function(e){return null!=e.guild_id?function(e){var n=e.userId,t=e.accent_color,r=e.banner,i=e.bio,o=e.pronouns,u=e.emoji,l=e.popout_animation_particle_type,c=e.theme_colors,s=e.guild_id;if(null==s)return!1;var f=T[n],d=null!=f?f[s]:null;if(null==d)return!1;var p=y(v({},d),{accentColor:t,banner:r,bio:i,pronouns:o,emoji:null!=u?new a.Z(u):void 0,popoutAnimationParticleType:l,themeColors:c});T[n][s]=p}(e):function(e){
var n=e.userId,t=e.accent_color,r=e.banner,i=e.bio,o=e.pronouns,u=e.emoji,l=e.popout_animation_particle_type,c=e.theme_colors;if(null==S[n])return!1;var s=y(v({},S[n]),{accentColor:t,banner:r,bio:i,pronouns:o,emoji:null!=u?new a.Z(u):void 0,popoutAnimationParticleType:l,themeColors:c});S[n]=s}(e)},USER_PROFILE_ACCESSIBILITY_TOOLTIP_VIEWED:function(e){A=!0},MUTUAL_FRIENDS_FETCH_START:function(e){var n=e.userId;P.add(n)},MUTUAL_FRIENDS_FETCH_SUCCESS:function(e){P.delete(e.userId);j[e.userId]=i()(e.mutualFriends).map((function(e){return{key:e.id,user:new c.Z(e),status:f.Z.getStatus(e.id)}})).sortBy((function(e){return e.user.username.toLowerCase()})).value();R[e.userId]=e.mutualFriends.length},MUTUAL_FRIENDS_FETCH_FAILURE:function(e){var n=e.userId;P.delete(n)},GUILD_JOIN:C,GUILD_DELETE:C,GUILD_MEMBER_ADD:N,GUILD_MEMBER_REMOVE:N})},356002:(e,n,t)=>{t.d(n,{Z:()=>b});var r=t(173436),i=t(478695),o=t(573269),u=t(160777),l=t(144857),a=t(356004),c=t(212218),s=t(36391),f=t(409271),d=t(185139)
;function p(e,n){if("undefined"!=typeof Image){var t=(0,d.O)(e.user.id,n);if(null!=t){var r=f.QK.getSetting(),i=t.getBannerURL({canAnimate:r,size:480});if(null!=i){(new Image).src=i}}}}function m(e,n,t,r,i,o,u){try{var l=e[o](u),a=l.value}catch(e){t(e);return}l.done?n(a):Promise.resolve(a).then(r,i)}function h(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var o=e.apply(n,t);function u(e){m(o,r,i,u,l,"next",e)}function l(e){m(o,r,i,u,l,"throw",e)}u(void 0)}))}}var v=function(e,n){var t,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function l(o){return function(l){return function(o){if(t)throw new TypeError("Generator is already executing.");for(;u;)try{if(t=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;(r=0,i)&&(o=[2&o[0],i.value])
;switch(o[0]){case 0:case 1:i=o;break;case 4:u.label++;return{value:o[1],done:!1};case 5:u.label++;r=o[1];o=[0];continue;case 7:o=u.ops.pop();u.trys.pop();continue;default:if(!(i=u.trys,i=i.length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){u=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){u.label=o[1];break}if(6===o[0]&&u.label<i[1]){u.label=i[1];i=o;break}if(i&&u.label<i[2]){u.label=i[2];u.ops.push(o);break}i[2]&&u.ops.pop();u.trys.pop();continue}o=n.call(e,u)}catch(e){o=[6,e];r=0}finally{t=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,l])}}},y=6e4;function b(e,n){return g.apply(this,arguments)}function g(){g=h((function(e,n){var t,f,d,m,h,b,g,O,_,E,P,S,T,w,j,R,I,A,C,N,D,Z,M,x,U=arguments;return v(this,(function(v){switch(v.label){case 0:t=U.length>2&&void 0!==U[2]?U[2]:{},f=t.withMutualGuilds,d=void 0!==f&&f,m=t.withMutualFriendsCount,h=void 0!==m&&m,b=t.friendToken,g=t.preloadUserBanner,O=void 0===g||g,_=t.dispatchWait,E=void 0!==_&&_,P=t.guildId,
S=t.channelId;(0,o.vM)(n);null!=P&&!d&&u.D.getCurrentConfig({guildId:P}).isGuildEligibleForConnectionsControls&&(d=!0);null!=P&&(T=null!==(j=null===(w=(0,l.Ur)({guildMember:c.ZP.getMember(P,e),channel:a.Z.getChannel(S)}))||void 0===w?void 0:w.id)&&void 0!==j?j:void 0);R=s.Z.getUserProfile(e);I=s.Z.getMutualGuilds(e);A=s.Z.getMutualFriendsCount(e);C=s.Z.isFetchingProfile(e);N=(null==R?void 0:R.profileFetchFailed)||!C&&(!Array.isArray(I)&&d||null==A&&h);D=O?p:void 0;Z=!1;if(null!=P){M=s.Z.getGuildMemberProfile(e,P);Z=null==M}return N||Z||!(C||Date.now()-(null!==(x=null==R?void 0:R.lastFetched)&&void 0!==x?x:0)<y)?E?[4,r.Z.wait((function(){return(0,i.In)(e,{withMutualGuilds:d,withMutualFriendsCount:h,friendToken:b,guildId:P,connectionsRoleId:T},D)}))]:[3,2]:[2,Promise.resolve()];case 1:v.sent();return[3,4];case 2:return[4,(0,i.In)(e,{withMutualGuilds:d,withMutualFriendsCount:h,friendToken:b,guildId:P,connectionsRoleId:T},D)];case 3:v.sent();v.label=4;case 4:return[2]}}))}))
;return g.apply(this,arguments)}},185139:(e,n,t)=>{t.d(n,{Z:()=>h,O:()=>v});var r=t(791462),i=t(859023),o=t(598627),u=t(917870),l=t(590483),a=t(298716);function c(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1;r.configurable=!0;"value"in r&&(r.writable=!0);Object.defineProperty(e,r.key,r)}}function s(e,n){return null==n||""===n?e:n}var f=function(){function e(n,t,r){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);this.userId=n.userId;this.guildId=null==t?void 0:t.guildId;var i,o,u,l;this.banner=null!==(i=null==t?void 0:t.banner)&&void 0!==i?i:n.banner;this.bio=s(n.bio,null==t?void 0:t.bio);this.pronouns=s(n.pronouns,null==t?void 0:t.pronouns);this.accentColor=n.accentColor;this.emoji=null!==(o=null==t?void 0:t.emoji)&&void 0!==o?o:n.emoji;this.themeColors=null!==(u=null==t?void 0:t.themeColors)&&void 0!==u?u:n.themeColors
;this.popoutAnimationParticleType=null!==(l=null==t?void 0:t.popoutAnimationParticleType)&&void 0!==l?l:n.popoutAnimationParticleType;this._profileThemesExperimentBucket=r;this._userProfile=n;this._guildMemberProfile=t}var n=e.prototype;n.hasThemeColors=function(){var e,n;return null!=(null===(e=this.themeColors)||void 0===e?void 0:e[0])||null!=(null===(n=this.themeColors)||void 0===n?void 0:n[1])};n.hasPremiumCustomization=function(){return this.isUsingGuildMemberBanner()||this.isUsingGuildMemberBio()||null!=this.banner||this.hasThemeColors()||null!=this.emoji||null!=this.popoutAnimationParticleType};n.hasFullProfile=function(){return void 0!==this._userProfile&&(null==this.guildId||void 0!==this._guildMemberProfile)};n.isUsingGuildMemberBanner=function(){var e;return null!=(null===(e=this._guildMemberProfile)||void 0===e?void 0:e.banner)};n.isUsingGuildMemberBio=function(){var e,n
;return null!=(null===(e=this._guildMemberProfile)||void 0===e?void 0:e.bio)&&""!==(null===(n=this._guildMemberProfile)||void 0===n?void 0:n.bio)};n.getBannerURL=function(e){var n=e.canAnimate,t=e.size;return null!=this.guildId&&this.isUsingGuildMemberBanner()?(0,u.tp)({id:this.userId,guildId:this.guildId,banner:this.banner,canAnimate:n,size:t}):(0,u.aN)({id:this.userId,banner:this.banner,canAnimate:n,size:t})};n.getPreviewBanner=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:480;if(null!=e)return e;var r=null===e;return r?this.isUsingGuildMemberBanner()?(0,u.aN)({id:this.userId,banner:this._userProfile.banner,canAnimate:n,size:t}):null:this.getBannerURL({canAnimate:n,size:480})};n.getPreviewBio=function(e){var n;return(0,o.Wx)(e,null===(n=this._guildMemberProfile)||void 0===n?void 0:n.bio,this._userProfile.bio,null!=this.guildId)};n.getPreviewThemeColors=function(e){
return null!=(null==e?void 0:e[0])&&null!=(null==e?void 0:e[1])?e:void 0!==e?this._userProfile.themeColors:this.themeColors};!function(e,n,t){n&&c(e.prototype,n);t&&c(e,t)}(e,[{key:"premiumSince",get:function(){return this._userProfile.premiumSince}},{key:"premiumGuildSince",get:function(){return this._userProfile.premiumGuildSince}},{key:"premiumType",get:function(){return this._userProfile.premiumType}},{key:"primaryColor",get:function(){var e,n;return null!==(n=null===(e=this.themeColors)||void 0===e?void 0:e[0])&&void 0!==n?n:this.accentColor}},{key:"canUsePremiumProfileCustomization",get:function(){return l.ZP.isPremiumAtLeast(this.premiumType,a.p9.TIER_2)}},{key:"isInEditProfileThemesBucket",get:function(){return 1===this._profileThemesExperimentBucket||4===this._profileThemesExperimentBucket||5===this._profileThemesExperimentBucket}},{key:"canEditThemes",get:function(){return this.canUsePremiumProfileCustomization&&this.isInEditProfileThemesBucket}},{key:"application",
get:function(){return this._userProfile.application}}]);return e}(),d=t(36391);function p(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function m(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o=[],u=!0,l=!1;try{for(t=t.call(e);!(u=(r=t.next()).done);u=!0){o.push(r.value);if(n&&o.length===n)break}}catch(e){l=!0;i=e}finally{try{u||null==t.return||t.return()}finally{if(l)throw i}}return o}}(e,n)||function(e,n){if(!e)return;if("string"==typeof e)return p(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return p(e,n)}(e,n)||function(){
throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,n){var t=(0,r.e7)([i.default],(function(){return i.default.getUser(e)}),[e]),o=m((0,r.Wu)([d.Z],(function(){return[d.Z.getUserProfile(e),d.Z.getGuildMemberProfile(e,n),d.Z.getUserProfileThemeExperimentBucket(e)]})),3),u=o[0],l=o[1],a=o[2];return null==t||null==u?null:new f(u,l,a)}function v(e,n){var t=i.default.getUser(e),r=d.Z.getUserProfile(e),o=d.Z.getGuildMemberProfile(e,n),u=d.Z.getUserProfileThemeExperimentBucket(e);return null==t||null==r?null:new f(r,o,u)}},363181:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(490640),i=t(948571);function o(e){o=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)};return o(e)}function u(e,n){return!n||"object"!==a(n)&&"function"!=typeof n?function(e){
if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function l(e,n){l=Object.setPrototypeOf||function(e,n){e.__proto__=n;return e};return l(e,n)}var a=function(e){return e&&"undefined"!=typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function c(e){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return!0}catch(e){return!1}}();return function(){var t,r=o(e);if(n){var i=o(this).constructor;t=Reflect.construct(r,arguments,i)}else t=r.apply(this,arguments);return u(this,t)}}var s=function(e){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}});n&&l(e,n)}(t,e);var n=c(t)
;function t(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t);var r;(r=n.call(this)).id=e.id;r.name=e.name;r.managed=e.managed;r.roles=e.roles;r.requiredColons=e.requiredColons;r.user=new i.Z(e.user);r.animated=e.animated;r.available=e.available;return r}return t}(r.Z)}}]);
//# sourceMappingURL=8994ade74c088a7bee7e.js.map